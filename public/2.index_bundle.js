webpackJsonp([2],{"./node_modules/chain-function/index.js":function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},"./node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n("./node_modules/dom-helpers/class/hasClass.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},"./node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},"./node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},"./node_modules/dom-helpers/transition/properties.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o=n("./node_modules/dom-helpers/util/inDOM.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i="transform",a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,p=void 0,f=void 0,m=void 0,h=void 0,v=void 0;if(r.default){var y=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),o=void 0,r=void 0,i="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){i="-"+s.toLowerCase(),o=t[s]("TransitionEnd"),r=t[s]("AnimationEnd");break}}return!o&&"transitionProperty"in e&&(o="transitionend"),!r&&"animationName"in e&&(r="animationend"),e=null,{animationEnd:r,transitionEnd:o,prefix:i}}();a=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=u=y.animationEnd,t.transform=i=a+"-"+i,t.transitionProperty=l=a+"-transition-property",t.transitionDuration=c=a+"-transition-duration",t.transitionDelay=p=a+"-transition-delay",t.transitionTiming=d=a+"-transition-timing-function",t.animationName=f=a+"-animation-name",t.animationDuration=m=a+"-animation-duration",t.animationTiming=h=a+"-animation-delay",t.animationDelay=v=a+"-animation-timing-function"}t.transform=i,t.transitionProperty=l,t.transitionTiming=d,t.transitionDelay=p,t.transitionDuration=c,t.transitionEnd=s,t.animationName=f,t.animationDuration=m,t.animationTiming=h,t.animationDelay=v,t.animationEnd=u,t.default={transform:i,end:s,property:l,timing:d,delay:p,duration:c}},"./node_modules/dom-helpers/util/inDOM.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},"./node_modules/dom-helpers/util/requestAnimationFrame.js":function(e,t,n){"use strict";function o(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-d)),o=setTimeout(e,n);return d=t,o}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/dom-helpers/util/inDOM.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=["","webkit","moz","o","ms"],s="clearTimeout",u=o,l=void 0,c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&a.some(function(e){var t=c(e,"request");if(t in window)return s=c(e,"cancel"),u=function(e){return window[t](e)}});var d=(new Date).getTime();l=function(e){return u(e)},l.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=l,e.exports=t.default},"./node_modules/react-addons-css-transition-group/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-transition-group/CSSTransitionGroup.js")},"./node_modules/react-transition-group/CSSTransitionGroup.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n("./node_modules/react/react.js"),c=o(l),d=n("./node_modules/prop-types/index.js"),p=o(d),f=n("./node_modules/react-transition-group/TransitionGroup.js"),m=o(f),h=n("./node_modules/react-transition-group/CSSTransitionGroupChild.js"),v=o(h),y=n("./node_modules/react-transition-group/utils/PropTypes.js"),_=(y.nameShape.isRequired,p.default.bool,p.default.bool,p.default.bool,(0,y.transitionTimeout)("Appear"),(0,y.transitionTimeout)("Enter"),(0,y.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),b=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(u))),o._wrapChild=function(e){return c.default.createElement(v.default,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},a=n,i(o,a)}return a(t,e),t.prototype.render=function(){return c.default.createElement(m.default,u({},this.props,{childFactory:this._wrapChild}))},t}(c.default.Component);b.displayName="CSSTransitionGroup",b.propTypes={},b.defaultProps=_,t.default=b,e.exports=t.default},"./node_modules/react-transition-group/CSSTransitionGroupChild.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return w.length?w.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){w.length&&w.forEach(function(n){return e.removeEventListener(n,t,!1)})}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n("./node_modules/dom-helpers/class/addClass.js"),d=o(c),p=n("./node_modules/dom-helpers/class/removeClass.js"),f=o(p),m=n("./node_modules/dom-helpers/util/requestAnimationFrame.js"),h=o(m),v=n("./node_modules/dom-helpers/transition/properties.js"),y=n("./node_modules/react/react.js"),_=o(y),b=n("./node_modules/prop-types/index.js"),g=o(b),j=n("./node_modules/react-dom/index.js"),S=n("./node_modules/react-transition-group/utils/PropTypes.js"),w=[];v.transitionEnd&&w.push(v.transitionEnd),v.animationEnd&&w.push(v.animationEnd);var E=(g.default.node,S.nameShape.isRequired,g.default.bool,g.default.bool,g.default.bool,g.default.number,g.default.number,g.default.number,function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.componentWillAppear=function(e){o.props.appear?o.transition("appear",e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition("enter",e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition("leave",e,o.props.leaveTimeout):e()},a=n,i(o,a)}return a(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,j.findDOMNode)(this);if(!o)return void(t&&t());var r=this.props.name[e]||this.props.name+"-"+e,i=this.props.name[e+"Active"]||r+"-active",a=null,u=void 0;(0,d.default)(o,r),this.queueClassAndNode(i,o);var l=function(e){e&&e.target!==o||(clearTimeout(a),u&&u(),(0,f.default)(o,r),(0,f.default)(o,i),u&&u(),t&&t())};n?(a=setTimeout(l,n),this.transitionTimeouts.push(a)):v.transitionEnd&&(u=s(o,l))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,h.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,d.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,_.default.cloneElement(_.default.Children.only(this.props.children),e)},t}(_.default.Component));E.displayName="CSSTransitionGroupChild",E.propTypes={},t.default=E,e.exports=t.default},"./node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n("./node_modules/chain-function/index.js"),c=o(l),d=n("./node_modules/react/react.js"),p=o(d),f=n("./node_modules/prop-types/index.js"),m=o(f),h=n("./node_modules/warning/browser.js"),v=(o(h),n("./node_modules/react-transition-group/utils/ChildMapping.js")),y=(m.default.any,m.default.func,m.default.node,{component:"span",childFactory:function(e){return e}}),_=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=u({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,v.getChildMapping)(n.children)},a}return a(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,v.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,v.mergeChildMappings)(n,t)});for(var o in t){var r=n&&n.hasOwnProperty(o);!t[o]||r||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var o=e.state.children[n];if(o){var r="string"!=typeof o.ref,i=e.props.childFactory(o),a=function(t){e.childRefs[n]=t};i===o&&r&&(a=(0,c.default)(o.ref,a)),t.push(p.default.cloneElement(i,{key:n,ref:a}))}}(n);var o=u({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,p.default.createElement(this.props.component,o,t)},t}(p.default.Component);_.displayName="TransitionGroup",_.propTypes={},_.defaultProps=y,t.default=_,e.exports=t.default},"./node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";function o(e){if(!e)return e;var t={};return i.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function r(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(o[i]=r,r=[]):r.push(i);var a=void 0,s={};for(var u in t){if(o.hasOwnProperty(u))for(a=0;a<o[u].length;a++){var l=o[u][a];s[o[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=r;var i=n("./node_modules/react/react.js")},"./node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=r;var i=n("./node_modules/react/react.js"),a=(o(i),n("./node_modules/prop-types/index.js")),s=o(a);t.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},"./node_modules/reselect/lib/index.js":function(e,t,n){"use strict";function o(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,i=null;return function(){return r(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return void 0===e?"undefined":l(e)}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var s=0,u=o.pop(),l=a(o),c=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(n)),d=i(function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)});return d.resultFunc=u,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!==(void 0===e?"undefined":l(e)))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+(void 0===e?"undefined":l(e)));var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=u;var c=t.createSelector=s(i)},"./src/components/DeviceListItem/DeviceListItem.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/react-router-dom/es/index.js"),d=n("./node_modules/prop-types/index.js"),p=o(d),f=n("./src/components/ToggleSettings/ToggleSettings.js"),m=o(f);n("./src/components/DeviceListItem/DeviceListItem.scss");var h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDeviceId=function(e){n.props.setPopupShown(n.props.data._id)},n}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"device-item"},l.default.createElement("div",{className:"device-item__info"},l.default.createElement(c.Link,{className:"device-item__info-name",to:"/devices/device/"+this.props.data._id},this.props.data.name),l.default.createElement("div",{className:"device-item__info-status"},l.default.createElement(m.default,{checked:this.props.data.status,itemId:this.props.data._id,setItemValue:this.props.changeStatus}))),l.default.createElement("div",{className:"device-item__description"},l.default.createElement("div",{className:"device-item__description-location"},this.props.location),l.default.createElement("div",{className:"device-item__description-icon"},l.default.createElement("div",{className:"device-item__description-icon-delete"},l.default.createElement("a",{className:"fa fa-trash",onClick:this.setDeviceId})))))}}]),t}(l.default.Component);h.propTypes={changeStatus:p.default.func,deleteDevice:p.default.func,setPopupShown:p.default.func,location:p.default.string,data:p.default.shape({status:p.default.boolean,_id:p.default.string,name:p.default.string,location:p.default.string})},t.default=h},"./src/components/DeviceListItem/DeviceListItem.scss":function(e,t){},"./src/components/DevisesSection/DevisesSection.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=(n("./node_modules/react-router-dom/es/index.js"),n("./src/components/Message/Message.js")),d=n("./src/components/Popup/Popup.js"),p=n("./src/components/Button/Button.js"),f=n("./src/components/ListHeader/ListHeader.js"),m=o(f),h=n("./node_modules/prop-types/index.js"),v=o(h),y=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.filterOption;return void 0!==t&&this.props.filterAction(t),l.default.createElement("section",{className:"device-list"},l.default.createElement("h1",{className:"device-list__title"},this.props.locationOfDevices?this.props.locationOfDevices.toUpperCase():"Your devices"),l.default.createElement(m.default,{quantity:this.props.quantity,location:this.props.location,history:this.props.history,match:this.props.match}),l.default.createElement("section",{className:"device-list__content"},this.props.children),l.default.createElement(d.Popup,{setPopupShown:this.props.setPopupShown,popupShown:this.props.popupShown,header:"Confirm the action",text:"Are you sure you want to remove the device?"},l.default.createElement(p.Button,{setPopupShown:this.props.setPopupShown,okHandler:function(){e.props.deleteDevice(e.props.currentId),e.props.setPopupShown()},className:"btn popup__btn",innerText:"Ok"}),l.default.createElement(p.Button,{okHandler:function(){e.props.setPopupShown()},className:"btn btn--default popup__btn",innerText:"Cancel"})),l.default.createElement(c.Message,{clearStatus:this.props.clearStatus,header:"Error"}))}}]),t}(l.default.Component);y.propTypes={changeStatus:v.default.func,deleteDevice:v.default.func,loadDevices:v.default.func,filterOption:v.default.any,filterAction:v.default.func,devices:v.default.array,location:v.default.object,history:v.default.object,match:v.default.object,children:v.default.any,clearStatus:v.default.func,currentId:v.default.string,setPopupShown:v.default.func,popupShown:v.default.bool,quantity:v.default.number,locationOfDevices:v.default.string},t.default=y},"./src/components/FilterSelect/FilterSelect.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),i=o(r),a=n("./node_modules/prop-types/index.js"),s=o(a);n("./src/components/FilterSelect/FilterSelect.scss");var u=function(e){return i.default.createElement("div",{className:"filterBox"},i.default.createElement("select",{className:"filterBox__filter",onChange:function(t){return e.handleSelect(t.target.value)}},e.options.map(function(t){return i.default.createElement("option",{value:t.value,key:t.value,selected:t.value===e.value},t.innerText)})))};u.propTypes={handleSelect:s.default.func.isRequired,options:s.default.array,value:s.default.string},t.default=u},"./src/components/FilterSelect/FilterSelect.scss":function(e,t){},"./src/components/ListHeader/ListHeader.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react/react.js"),c=o(l),d=n("./node_modules/react-router-dom/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/query-string/index.js"),m=o(f),h=n("./src/components/FilterSelect/FilterSelect.js"),v=o(h),y=n("./src/components/Search/Search.js"),_=o(y),b=n("./src/actions/devices.action.js"),g=n("./src/utils/utils.js"),j=n("./src/data/filterOptions.js"),S=n("./node_modules/prop-types/index.js"),w=o(S),E=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initialParams={search:"",filter:"all"},n.handleFilterSelect=function(e){n.props.filterAction(e),n.updateUrl(s({},n.initialParams,{filter:e}))},n.handleSearchResult=function(e){n.props.findItems(e),n.updateUrl(s({},n.initialParams,{search:e}))},n.updateUrl=function(e){var t=n.props.match,o=n.props.history;n.initialParams=e,o.push({pathname:t.url,search:(0,g.queryFromObject)(e)})},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=m.default.parse(e.search).search,n=m.default.parse(e.search).filter;t&&this.handleSearchResult(t),n&&this.handleFilterSelect(n)}},{key:"componentWillUnmount",value:function(){this.props.filterAction("all"),this.props.findItems("")}},{key:"render",value:function(){return c.default.createElement("header",{className:"device-list__header"},c.default.createElement(_.default,{handleSearch:this.handleSearchResult,quantity:this.props.quantity,value:this.initialParams.search}),c.default.createElement("div",{className:"device-list__header--right"},c.default.createElement(v.default,{handleSelect:this.handleFilterSelect,options:j.options,value:this.initialParams.filter}),c.default.createElement(d.Link,{to:"/builder",className:"btn btn--primary add-item-button"},"New")))}}]),t}(c.default.Component),T=function(e){return{filterOption:e.searchAndFilter.filterOption,search:e.searchAndFilter.searchValue}},O=function(e){return{filterAction:function(t){return e((0,b.filterAction)(t))},findItems:function(t){return e((0,b.searchAction)(t))}}};E.propTypes={search:w.default.string,filterOption:w.default.string,filterAction:w.default.func,findItems:w.default.func,match:w.default.object,history:w.default.object,location:w.default.object,loadDevices:w.default.func,quantity:w.default.number},t.default=(0,p.connect)(T,O)(E)},"./src/components/Search/Search.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),i=o(r),a=n("./node_modules/prop-types/index.js"),s=o(a);n("./src/components/Search/search.scss");var u=function(e){return i.default.createElement("div",{className:"searchBox"},i.default.createElement("div",{className:"searchBox__results"},i.default.createElement("span",null,e.quantity)," devices"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",name:"search",placeholder:"Find a device",value:e.value,className:"searchBox__field",onChange:function(t){e.handleSearch(t.target.value)}})))};u.propTypes={handleSearch:s.default.func.isRequired,quantity:s.default.number,value:s.default.string},t.default=u},"./src/components/Search/search.scss":function(e,t){},"./src/components/ToggleSettings/ToggleSettings.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/prop-types/index.js"),d=o(c);n("./src/components/ToggleSettings/ToggleStyle.scss");var p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeValue=function(e){n.props.setItemValue(!n.props.checked,n.props.itemId,n.props.deviceId)},n}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:""+this.props.styleName},l.default.createElement("label",{className:"switch"},l.default.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.onChangeValue}),l.default.createElement("div",{className:"slider round"})))}}]),t}(l.default.Component);t.default=p,p.propTypes={device:d.default.object,styleName:d.default.string,checked:d.default.bool.isRequired,setItemValue:d.default.func,itemId:d.default.any,newValue:d.default.string,deviceId:d.default.string},p.defaultProps={checked:!1}},"./src/components/ToggleSettings/ToggleStyle.scss":function(e,t){},"./src/data/filterOptions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.options=[{value:"all",innerText:"All"},{value:"on",innerText:"Show On"},{value:"off",innerText:"Show OFF"}]},"./src/pages/DeviceList/DeviceList.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/react-router-dom/es/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/DeviceListItem/DeviceListItem.js"),f=o(p),m=(n("./src/components/Message/Message.js"),n("./src/components/Popup/Popup.js"),n("./src/components/Button/Button.js"),n("./src/components/ListHeader/ListHeader.js")),h=(o(m),n("./src/components/DevisesSection/DevisesSection.js")),v=o(h),y=n("./src/actions/devices.action.js"),_=n("./src/actions/notifications.action.js"),b=n("./src/selectors/index.js"),g=n("./src/utils/utils.js"),j=n("./node_modules/react-addons-css-transition-group/index.js"),S=o(j),w=n("./node_modules/prop-types/index.js"),E=o(w);n("./src/pages/DeviceList/DeviceList.scss");var T=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={popupShown:!1,currentId:"",currentPage:1,todosPerPage:6},n.deleteDevice=function(e){n.props.deleteDevice(e)},n.setPopupShown=function(e){var t=n.state.popupShown;n.setState({popupShown:!t,currentId:e})},n.changeStatus=function(e,t){n.props.changeStatus({status:e},t)},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.loadDevices()}},{key:"renderDevices",value:function(e,t){var n=this;return(e[t].length>8?e[t].slice(0,7):e[t]).map(function(e,t){return l.default.createElement(f.default,{data:e,key:t,location:"",changeStatus:n.changeStatus,setPopupShown:n.setPopupShown})})}},{key:"renderDeviceGroup",value:function(){var e=this,t=(0,g.sortDevicesByLocations)(this.props.devices);return Object.keys(t).map(function(n,o){return l.default.createElement("div",{className:"device-group",key:o},l.default.createElement("h2",{className:"device-group__title"},n.toUpperCase()),l.default.createElement(S.default,{className:"device-group__items",transitionName:"hide",transitionEnterTimeout:500,transitionLeaveTimeout:300},e.renderDevices(t,n),t[n].length>8?l.default.createElement(c.Link,{className:"device-group__link",to:"/devices/"+n},l.default.createElement("i",{className:"fa fa-repeat","aria-hidden":"true"}),"More devices"):null))})}},{key:"render",value:function(){var e=this.props.match.params.filterOption;return void 0!==e&&this.props.filterAction(e),l.default.createElement(v.default,{filterOption:e,devices:this.props.devices,location:this.props.location,history:this.props.history,match:this.props.match,status:this.props.status,text:this.props.errorText,setPopupShown:this.setPopupShown,popupShown:this.state.popupShown,deleteDevice:this.deleteDevice,clearStatus:this.props.clearStatus,currentId:this.state.currentId,quantity:this.props.devices.length},"DONE"===this.props.status&&0===this.props.devices.length?l.default.createElement("span",null,"You need to add device"):this.renderDeviceGroup())}}]),t}(l.default.Component),O=function(e){return{devices:(0,b.filterItems)(e),status:e.devicesList.uploadStatus,errorText:e.devicesList.errorText}},P=function(e){return{changeStatus:function(t,n){return e((0,y.updateDevice)(t,n))},loadDevices:function(){return e((0,y.loadDevices)())},deleteDevice:function(t){return e((0,y.deleteDevice)(t))},sendNotificationWS:function(t){return e((0,_.sendNotificationWS)(t))},clearStatus:function(){return e((0,y.clearStatus)())}}};T.propTypes={match:E.default.object,changeStatus:E.default.func,devices:E.default.array,filterAction:E.default.func,findItems:E.default.func,loadDevices:E.default.func,deleteDevice:E.default.func,history:E.default.object,location:E.default.object,status:E.default.string,sendNotificationWS:E.default.func,errorText:E.default.string,clearStatus:E.default.func},t.default=(0,d.connect)(O,P)(T)},"./src/pages/DeviceList/DeviceList.scss":function(e,t){},"./src/selectors/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterItems=void 0;var o=n("./node_modules/reselect/lib/index.js"),r=n("./src/utils/utils.js"),i=function(e){return e.searchAndFilter.filterOption},a=function(e){return e.devicesList.devices},s=function(e){return e.searchAndFilter.searchValue};t.filterItems=(0,o.createSelector)([i,s,a],function(e,t,n){var o=n;return"all"===e?o=n:"on"===e?o=n.filter(function(e){return!0===e.status}):"off"===e&&(o=n.filter(function(e){return!1===e.status})),o.filter(function(e){return(0,r.searchItem)(e,t)})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMi5pbmRleF9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jaGFpbi1mdW5jdGlvbi9pbmRleC5qcz83MDJmIiwid2VicGFjazovLy8uL34vZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MuanM/ZjUzMCIsIndlYnBhY2s6Ly8vLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzPzVlNDAiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qcz80MzE4Iiwid2VicGFjazovLy8uL34vZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzP2JmMmUiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy91dGlsL2luRE9NLmpzP2U1NGEiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcz81NjViIiwid2VicGFjazovLy8uL34vcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzP2Y4N2MiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qcz82ODZiIiwid2VicGFjazovLy8uL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qcz84NjBjIiwid2VicGFjazovLy8uL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAuanM/NTEyMSIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzPzQ4YTMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qcz85ZDUyIiwid2VicGFjazovLy8uL34vcmVzZWxlY3QvbGliL2luZGV4LmpzPzY0NmIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uanM/OTc0MiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbi5qcz81ZjE5Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0ZpbHRlclNlbGVjdC9GaWx0ZXJTZWxlY3QuanM/NDUyZSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanM/YWU5YiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TZWFyY2gvU2VhcmNoLmpzP2RhM2YiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanM/NjIxZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvZmlsdGVyT3B0aW9ucy5qcz85NjZkIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9EZXZpY2VMaXN0L0RldmljZUxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlbGVjdG9ycy9pbmRleC5qcz8yMjcxIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIi4vbm9kZV9tb2R1bGVzL2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJsZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiaSIsImZpbHRlciIsImZuIiwicmVkdWNlIiwiY3VycmVudCIsIm5leHQiLCJhcHBseSIsInRoaXMiLCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9hZGRDbGFzcy5qcyIsImFkZENsYXNzIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsIl9oYXNDbGFzczIiLCJkZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9oYXNDbGFzcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qcyIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJpbmRleE9mIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanMiLCJyZW1vdmUiLCJyZXBsYWNlIiwiUmVnRXhwIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzIiwiYW5pbWF0aW9uRW5kIiwiYW5pbWF0aW9uRGVsYXkiLCJhbmltYXRpb25UaW1pbmciLCJhbmltYXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbk5hbWUiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkRlbGF5IiwidHJhbnNpdGlvblRpbWluZyIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsInRyYW5zZm9ybSIsInVuZGVmaW5lZCIsIl9pbkRPTSIsIl9pbkRPTTIiLCJwcmVmaXgiLCJfZ2V0VHJhbnNpdGlvblByb3BlcnQiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInZlbmRvck1hcCIsIk8iLCJlIiwidG9Mb3dlckNhc2UiLCJNb3oiLCJXZWJraXQiLCJtcyIsInZlbmRvcnMiLCJrZXlzIiwidmVuZG9yIiwiZW5kIiwicHJvcGVydHkiLCJ0aW1pbmciLCJkZWxheSIsImR1cmF0aW9uIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9pbkRPTS5qcyIsIndpbmRvdyIsIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwiZmFsbGJhY2siLCJjdXJyIiwiRGF0ZSIsImdldFRpbWUiLCJNYXRoIiwibWF4IiwicHJldiIsInJlcSIsInNldFRpbWVvdXQiLCJjYW5jZWwiLCJyYWYiLCJjb21wYXRSYWYiLCJnZXRLZXkiLCJrIiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJzb21lIiwicmFmS2V5IiwiY2IiLCJpZCIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9pbmRleC5qcyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwLmpzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfdHlwZW9mIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJfVHJhbnNpdGlvbkdyb3VwIiwiX1RyYW5zaXRpb25Hcm91cDIiLCJfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQiLCJfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyIiwiX1Byb3BUeXBlcyIsImRlZmF1bHRQcm9wcyIsIm5hbWVTaGFwZSIsImlzUmVxdWlyZWQiLCJib29sIiwidHJhbnNpdGlvblRpbWVvdXQiLCJ0cmFuc2l0aW9uQXBwZWFyIiwidHJhbnNpdGlvbkVudGVyIiwidHJhbnNpdGlvbkxlYXZlIiwiQ1NTVHJhbnNpdGlvbkdyb3VwIiwiX1JlYWN0JENvbXBvbmVudCIsIl90ZW1wIiwiX3RoaXMiLCJfcmV0IiwiX2xlbiIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsIl93cmFwQ2hpbGQiLCJjaGlsZCIsIm5hbWUiLCJwcm9wcyIsInRyYW5zaXRpb25OYW1lIiwiYXBwZWFyIiwiZW50ZXIiLCJsZWF2ZSIsImFwcGVhclRpbWVvdXQiLCJ0cmFuc2l0aW9uQXBwZWFyVGltZW91dCIsImVudGVyVGltZW91dCIsInRyYW5zaXRpb25FbnRlclRpbWVvdXQiLCJsZWF2ZVRpbWVvdXQiLCJ0cmFuc2l0aW9uTGVhdmVUaW1lb3V0IiwicmVuZGVyIiwiY2hpbGRGYWN0b3J5IiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cENoaWxkLmpzIiwiYWRkRW5kTGlzdGVuZXIiLCJub2RlIiwibGlzdGVuZXIiLCJldmVudHMiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYWRkQ2xhc3MiLCJfYWRkQ2xhc3MyIiwiX3JlbW92ZUNsYXNzIiwiX3JlbW92ZUNsYXNzMiIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMiIsIl9wcm9wZXJ0aWVzIiwiX3JlYWN0RG9tIiwicHVzaCIsIkNTU1RyYW5zaXRpb25Hcm91cENoaWxkIiwibnVtYmVyIiwiY29tcG9uZW50V2lsbEFwcGVhciIsImRvbmUiLCJ0cmFuc2l0aW9uIiwiY29tcG9uZW50V2lsbEVudGVyIiwiY29tcG9uZW50V2lsbExlYXZlIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY2xhc3NOYW1lQW5kTm9kZVF1ZXVlIiwidHJhbnNpdGlvblRpbWVvdXRzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bm1vdW50ZWQiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiYW5pbWF0aW9uVHlwZSIsImZpbmlzaENhbGxiYWNrIiwiZmluZERPTU5vZGUiLCJhY3RpdmVDbGFzc05hbWUiLCJ0aW1lciIsInJlbW92ZUxpc3RlbmVycyIsInF1ZXVlQ2xhc3NBbmROb2RlIiwiZmluaXNoIiwiX3RoaXMyIiwicmFmSGFuZGxlIiwiZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUiLCJzY3JvbGxUb3AiLCJjaGlsZHJlbiIsImNsb25lRWxlbWVudCIsIkNoaWxkcmVuIiwib25seSIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzIiwiX2NoYWluRnVuY3Rpb24iLCJfY2hhaW5GdW5jdGlvbjIiLCJfd2FybmluZyIsIl9DaGlsZE1hcHBpbmciLCJhbnkiLCJmdW5jIiwiY29tcG9uZW50IiwiVHJhbnNpdGlvbkdyb3VwIiwiY29udGV4dCIsInBlcmZvcm1BcHBlYXIiLCJjdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5cyIsIl9oYW5kbGVEb25lQXBwZWFyaW5nIiwiYmluZCIsImNvbXBvbmVudERpZEFwcGVhciIsImN1cnJlbnRDaGlsZE1hcHBpbmciLCJnZXRDaGlsZE1hcHBpbmciLCJwZXJmb3JtTGVhdmUiLCJwZXJmb3JtRW50ZXIiLCJfaGFuZGxlRG9uZUVudGVyaW5nIiwiY29tcG9uZW50RGlkRW50ZXIiLCJfaGFuZGxlRG9uZUxlYXZpbmciLCJjb21wb25lbnREaWRMZWF2ZSIsImtleXNUb0VudGVyIiwic2V0U3RhdGUiLCJzdGF0ZSIsIm5ld0NoaWxkcmVuIiwiY2hpbGRSZWZzIiwia2V5c1RvTGVhdmUiLCJjb21wb25lbnREaWRNb3VudCIsImluaXRpYWxDaGlsZE1hcHBpbmciLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwibmV4dENoaWxkTWFwcGluZyIsInByZXZDaGlsZE1hcHBpbmciLCJtZXJnZUNoaWxkTWFwcGluZ3MiLCJoYXNQcmV2IiwiaGFzTmV4dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl90aGlzMyIsImNoaWxkcmVuVG9SZW5kZXIiLCJpc0NhbGxiYWNrUmVmIiwicmVmIiwiZmFjdG9yeUNoaWxkIiwiciIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzIiwicmVzdWx0IiwibWFwIiwiZ2V0VmFsdWVGb3JLZXkiLCJuZXh0S2V5c1BlbmRpbmciLCJwZW5kaW5nS2V5cyIsInByZXZLZXkiLCJjaGlsZE1hcHBpbmciLCJuZXh0S2V5IiwicGVuZGluZ05leHRLZXkiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qcyIsInRyYW5zaXRpb25UeXBlIiwidGltZW91dFByb3BOYW1lIiwiZW5hYmxlZFByb3BOYW1lIiwiRXJyb3IiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJzaGFwZSIsImFjdGl2ZSIsImVudGVyQWN0aXZlIiwibGVhdmVBY3RpdmUiLCJhcHBlYXJBY3RpdmUiLCIuL25vZGVfbW9kdWxlcy9yZXNlbGVjdC9saWIvaW5kZXguanMiLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImEiLCJiIiwiYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwiLCJlcXVhbGl0eUNoZWNrIiwiZGVmYXVsdE1lbW9pemUiLCJsYXN0QXJncyIsImxhc3RSZXN1bHQiLCJnZXREZXBlbmRlbmNpZXMiLCJmdW5jcyIsImRlcGVuZGVuY2llcyIsImlzQXJyYXkiLCJldmVyeSIsImRlcCIsImRlcGVuZGVuY3lUeXBlcyIsImpvaW4iLCJjcmVhdGVTZWxlY3RvckNyZWF0b3IiLCJtZW1vaXplIiwibWVtb2l6ZU9wdGlvbnMiLCJfbGVuMiIsIl9rZXkyIiwicmVjb21wdXRhdGlvbnMiLCJyZXN1bHRGdW5jIiwicG9wIiwibWVtb2l6ZWRSZXN1bHRGdW5jIiwic2VsZWN0b3IiLCJwYXJhbXMiLCJyZXNldFJlY29tcHV0YXRpb25zIiwiY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIiwic2VsZWN0b3JzIiwic2VsZWN0b3JDcmVhdG9yIiwiY3JlYXRlU2VsZWN0b3IiLCJvYmplY3RLZXlzIiwiX2xlbjMiLCJ2YWx1ZXMiLCJfa2V5MyIsImNvbXBvc2l0aW9uIiwiaW5kZXgiLCIuL3NyYy9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtLmpzIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3RSb3V0ZXJEb20iLCJfVG9nZ2xlU2V0dGluZ3MiLCJfVG9nZ2xlU2V0dGluZ3MyIiwiRGV2aWNlTGlzdEl0ZW0iLCJnZXRQcm90b3R5cGVPZiIsInNldERldmljZUlkIiwic2V0UG9wdXBTaG93biIsImRhdGEiLCJfaWQiLCJMaW5rIiwidG8iLCJjaGVja2VkIiwic3RhdHVzIiwiaXRlbUlkIiwic2V0SXRlbVZhbHVlIiwiY2hhbmdlU3RhdHVzIiwibG9jYXRpb24iLCJvbkNsaWNrIiwiZGVsZXRlRGV2aWNlIiwiYm9vbGVhbiIsIi4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uc2NzcyIsIi4vc3JjL2NvbXBvbmVudHMvRGV2aXNlc1NlY3Rpb24vRGV2aXNlc1NlY3Rpb24uanMiLCJfTWVzc2FnZSIsIl9Qb3B1cCIsIl9CdXR0b24iLCJfTGlzdEhlYWRlciIsIl9MaXN0SGVhZGVyMiIsIkRldmljZXNTZWN0aW9uIiwiZmlsdGVyT3B0aW9uIiwiZmlsdGVyQWN0aW9uIiwibG9jYXRpb25PZkRldmljZXMiLCJxdWFudGl0eSIsImhpc3RvcnkiLCJtYXRjaCIsIlBvcHVwIiwicG9wdXBTaG93biIsImhlYWRlciIsInRleHQiLCJCdXR0b24iLCJva0hhbmRsZXIiLCJjdXJyZW50SWQiLCJpbm5lclRleHQiLCJNZXNzYWdlIiwiY2xlYXJTdGF0dXMiLCJsb2FkRGV2aWNlcyIsImRldmljZXMiLCJhcnJheSIsIm9iamVjdCIsIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qcyIsIkZpbHRlclNlbGVjdCIsIm9uQ2hhbmdlIiwiaGFuZGxlU2VsZWN0Iiwib3B0aW9ucyIsIml0ZW0iLCJzZWxlY3RlZCIsIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5zY3NzIiwiLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanMiLCJfcmVhY3RSZWR1eCIsIl9xdWVyeVN0cmluZyIsIl9xdWVyeVN0cmluZzIiLCJfRmlsdGVyU2VsZWN0IiwiX0ZpbHRlclNlbGVjdDIiLCJfU2VhcmNoIiwiX1NlYXJjaDIiLCJfZGV2aWNlcyIsIl91dGlscyIsIl9maWx0ZXJPcHRpb25zIiwiTGlzdEhlYWRlciIsImluaXRpYWxQYXJhbXMiLCJzZWFyY2giLCJoYW5kbGVGaWx0ZXJTZWxlY3QiLCJ1cGRhdGVVcmwiLCJoYW5kbGVTZWFyY2hSZXN1bHQiLCJzZWFyY2hWYWx1ZSIsImZpbmRJdGVtcyIsInBhdGhuYW1lIiwidXJsIiwicXVlcnlGcm9tT2JqZWN0IiwicGFyc2UiLCJmaWx0ZXJWYWx1ZSIsImhhbmRsZVNlYXJjaCIsIm1hcFN0YXRlVG9Qcm9wcyIsInNlYXJjaEFuZEZpbHRlciIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIiwic2VhcmNoQWN0aW9uIiwiY29ubmVjdCIsIi4vc3JjL2NvbXBvbmVudHMvU2VhcmNoL1NlYXJjaC5qcyIsIlNlYXJjaCIsInR5cGUiLCJwbGFjZWhvbGRlciIsIi4vc3JjL2NvbXBvbmVudHMvU2VhcmNoL3NlYXJjaC5zY3NzIiwiLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTZXR0aW5ncy5qcyIsIlRvZ2dsZVNldHRpbmdzIiwib25DaGFuZ2VWYWx1ZSIsImRldmljZUlkIiwic3R5bGVOYW1lIiwiZGV2aWNlIiwibmV3VmFsdWUiLCIuL3NyYy9jb21wb25lbnRzL1RvZ2dsZVNldHRpbmdzL1RvZ2dsZVN0eWxlLnNjc3MiLCIuL3NyYy9kYXRhL2ZpbHRlck9wdGlvbnMuanMiLCIuL3NyYy9wYWdlcy9EZXZpY2VMaXN0L0RldmljZUxpc3QuanMiLCJfRGV2aWNlTGlzdEl0ZW0iLCJfRGV2aWNlTGlzdEl0ZW0yIiwiX0RldmlzZXNTZWN0aW9uIiwiX0RldmlzZXNTZWN0aW9uMiIsIl9ub3RpZmljYXRpb25zIiwiX3NlbGVjdG9ycyIsIl9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cCIsIl9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cDIiLCJEZXZpY2VMaXN0IiwiY3VycmVudFBhZ2UiLCJ0b2Rvc1BlclBhZ2UiLCJjdXJyZW50U3RhdGUiLCJsb2NhdGlvbnMiLCJzbGljZSIsInNvcnREZXZpY2VzQnlMb2NhdGlvbnMiLCJyZW5kZXJEZXZpY2VzIiwiYXJpYS1oaWRkZW4iLCJlcnJvclRleHQiLCJyZW5kZXJEZXZpY2VHcm91cCIsImZpbHRlckl0ZW1zIiwiZGV2aWNlc0xpc3QiLCJ1cGxvYWRTdGF0dXMiLCJ1cGRhdGVEZXZpY2UiLCJzZW5kTm90aWZpY2F0aW9uV1MiLCJtZXNzYWdlIiwiLi9zcmMvcGFnZXMvRGV2aWNlTGlzdC9EZXZpY2VMaXN0LnNjc3MiLCIuL3NyYy9zZWxlY3RvcnMvaW5kZXguanMiLCJfcmVzZWxlY3QiLCJnZXRGaWx0ZXJPcHRpb24iLCJnZXREZXZpY2VzIiwiZ2V0U2VhcmNoVmFsdWUiLCJpdGVtcyIsIm5ld0FyciIsInNlYXJjaEl0ZW0iXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLHlDQUNBLFNBQVVDLEVBQVFDLEVBQVNDLEdBRWpDLFlDSkFGLEdBQU9DLFFBQVUsV0FJZixJQUFLLEdBSERFLEdBQU1DLFVBQVVDLE9BQ2hCQyxLQUVLQyxFQUFJLEVBQUdBLEVBQUlKLEVBQUtJLElBQ3ZCRCxFQUFLQyxHQUFLSCxVQUFVRyxFQUl0QixJQUZBRCxFQUFPQSxFQUFLRSxPQUFPLFNBQVNDLEdBQUssTUFBYSxPQUFOQSxJQUVwQixJQUFoQkgsRUFBS0QsT0FDVCxNQUFvQixLQUFoQkMsRUFBS0QsT0FBcUJDLEVBQUssR0FFNUJBLEVBQUtJLE9BQU8sU0FBU0MsRUFBU0MsR0FDbkMsTUFBTyxZQUNMRCxFQUFRRSxNQUFNQyxLQUFNVixXQUNwQlEsRUFBS0MsTUFBTUMsS0FBTVYsZ0JEZWpCVywrQ0FDQSxTQUFVZixFQUFRQyxFQUFTQyxHQUVqQyxZRXJC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QWpCekcsRUFDRjBHLEVBQVNELEVBQ2lCLE9BQWpCekcsRUFDVDBHLEVBQVNELEVBQU12YyxPQUFPLFNBQUF1WCxHQUFBLE9BQXdCLElBQWhCQSxFQUFLekMsU0FDVCxRQUFqQmdCLElBQ1QwRyxFQUFTRCxFQUFNdmMsT0FBTyxTQUFBdVgsR0FBQSxPQUF3QixJQUFoQkEsRUFBS3pDLFVBRTlCMEgsRUFBT3hjLE9BQU8sU0FBQXVYLEdBQUEsT0FBUSxFQUFBWSxFQUFBc0UsWUFBV2xGLEVBQU1vQiIsImZpbGUiOiIyLmluZGV4X2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMl0se1xuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hhaW4oKSB7XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgYXJncyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICB9YXJncyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBmbiAhPSBudWxsO1xuICB9KTtcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGFyZ3NbMF07XG5cbiAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChjdXJyZW50LCBuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICAgIGN1cnJlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIG5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBhZGRDbGFzcztcblxudmFyIF9oYXNDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qc1wiKTtcblxudmFyIF9oYXNDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNDbGFzcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xufVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzczIuZGVmYXVsdCkoZWxlbWVudCkpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvaGFzQ2xhc3MuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGhhc0NsYXNzO1xuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuICEhY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7ZWxzZSByZXR1cm4gKFwiIFwiICsgZWxlbWVudC5jbGFzc05hbWUgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSAhPT0gLTE7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmFuaW1hdGlvbkVuZCA9IGV4cG9ydHMuYW5pbWF0aW9uRGVsYXkgPSBleHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGV4cG9ydHMuYW5pbWF0aW9uRHVyYXRpb24gPSBleHBvcnRzLmFuaW1hdGlvbk5hbWUgPSBleHBvcnRzLnRyYW5zaXRpb25FbmQgPSBleHBvcnRzLnRyYW5zaXRpb25EdXJhdGlvbiA9IGV4cG9ydHMudHJhbnNpdGlvbkRlbGF5ID0gZXhwb3J0cy50cmFuc2l0aW9uVGltaW5nID0gZXhwb3J0cy50cmFuc2l0aW9uUHJvcGVydHkgPSBleHBvcnRzLnRyYW5zZm9ybSA9IHVuZGVmaW5lZDtcblxudmFyIF9pbkRPTSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy91dGlsL2luRE9NLmpzXCIpO1xuXG52YXIgX2luRE9NMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luRE9NKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbnZhciB0cmFuc2Zvcm0gPSAndHJhbnNmb3JtJztcbnZhciBwcmVmaXggPSB2b2lkIDAsXG4gICAgdHJhbnNpdGlvbkVuZCA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25FbmQgPSB2b2lkIDA7XG52YXIgdHJhbnNpdGlvblByb3BlcnR5ID0gdm9pZCAwLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uVGltaW5nID0gdm9pZCAwLFxuICAgIHRyYW5zaXRpb25EZWxheSA9IHZvaWQgMDtcbnZhciBhbmltYXRpb25OYW1lID0gdm9pZCAwLFxuICAgIGFuaW1hdGlvbkR1cmF0aW9uID0gdm9pZCAwLFxuICAgIGFuaW1hdGlvblRpbWluZyA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25EZWxheSA9IHZvaWQgMDtcblxuaWYgKF9pbkRPTTIuZGVmYXVsdCkge1xuICB2YXIgX2dldFRyYW5zaXRpb25Qcm9wZXJ0ID0gZ2V0VHJhbnNpdGlvblByb3BlcnRpZXMoKTtcblxuICBwcmVmaXggPSBfZ2V0VHJhbnNpdGlvblByb3BlcnQucHJlZml4O1xuICBleHBvcnRzLnRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kID0gX2dldFRyYW5zaXRpb25Qcm9wZXJ0LnRyYW5zaXRpb25FbmQ7XG4gIGV4cG9ydHMuYW5pbWF0aW9uRW5kID0gYW5pbWF0aW9uRW5kID0gX2dldFRyYW5zaXRpb25Qcm9wZXJ0LmFuaW1hdGlvbkVuZDtcblxuICBleHBvcnRzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybSA9IHByZWZpeCArICctJyArIHRyYW5zZm9ybTtcbiAgZXhwb3J0cy50cmFuc2l0aW9uUHJvcGVydHkgPSB0cmFuc2l0aW9uUHJvcGVydHkgPSBwcmVmaXggKyAnLXRyYW5zaXRpb24tcHJvcGVydHknO1xuICBleHBvcnRzLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbiA9IHByZWZpeCArICctdHJhbnNpdGlvbi1kdXJhdGlvbic7XG4gIGV4cG9ydHMudHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5ID0gcHJlZml4ICsgJy10cmFuc2l0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy50cmFuc2l0aW9uVGltaW5nID0gdHJhbnNpdGlvblRpbWluZyA9IHByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nO1xuXG4gIGV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWUgPSBwcmVmaXggKyAnLWFuaW1hdGlvbi1uYW1lJztcbiAgZXhwb3J0cy5hbmltYXRpb25EdXJhdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uID0gcHJlZml4ICsgJy1hbmltYXRpb24tZHVyYXRpb24nO1xuICBleHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZyA9IHByZWZpeCArICctYW5pbWF0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy5hbmltYXRpb25EZWxheSA9IGFuaW1hdGlvbkRlbGF5ID0gcHJlZml4ICsgJy1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJztcbn1cblxuZXhwb3J0cy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5leHBvcnRzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IHRyYW5zaXRpb25Qcm9wZXJ0eTtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWluZyA9IHRyYW5zaXRpb25UaW1pbmc7XG5leHBvcnRzLnRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheTtcbmV4cG9ydHMudHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uO1xuZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZDtcbmV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWU7XG5leHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb247XG5leHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZztcbmV4cG9ydHMuYW5pbWF0aW9uRGVsYXkgPSBhbmltYXRpb25EZWxheTtcbmV4cG9ydHMuYW5pbWF0aW9uRW5kID0gYW5pbWF0aW9uRW5kO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgZW5kOiB0cmFuc2l0aW9uRW5kLFxuICBwcm9wZXJ0eTogdHJhbnNpdGlvblByb3BlcnR5LFxuICB0aW1pbmc6IHRyYW5zaXRpb25UaW1pbmcsXG4gIGRlbGF5OiB0cmFuc2l0aW9uRGVsYXksXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb25cbn07XG5cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25Qcm9wZXJ0aWVzKCkge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICB2YXIgdmVuZG9yTWFwID0ge1xuICAgIE86IGZ1bmN0aW9uIE8oZSkge1xuICAgICAgcmV0dXJuICdvJyArIGUudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuICAgIE1vejogZnVuY3Rpb24gTW96KGUpIHtcbiAgICAgIHJldHVybiBlLnRvTG93ZXJDYXNlKCk7XG4gICAgfSxcbiAgICBXZWJraXQ6IGZ1bmN0aW9uIFdlYmtpdChlKSB7XG4gICAgICByZXR1cm4gJ3dlYmtpdCcgKyBlO1xuICAgIH0sXG4gICAgbXM6IGZ1bmN0aW9uIG1zKGUpIHtcbiAgICAgIHJldHVybiAnTVMnICsgZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHZlbmRvcnMgPSBPYmplY3Qua2V5cyh2ZW5kb3JNYXApO1xuXG4gIHZhciB0cmFuc2l0aW9uRW5kID0gdm9pZCAwLFxuICAgICAgYW5pbWF0aW9uRW5kID0gdm9pZCAwO1xuICB2YXIgcHJlZml4ID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZW5kb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZlbmRvciA9IHZlbmRvcnNbaV07XG5cbiAgICBpZiAodmVuZG9yICsgJ1RyYW5zaXRpb25Qcm9wZXJ0eScgaW4gc3R5bGUpIHtcbiAgICAgIHByZWZpeCA9ICctJyArIHZlbmRvci50b0xvd2VyQ2FzZSgpO1xuICAgICAgdHJhbnNpdGlvbkVuZCA9IHZlbmRvck1hcFt2ZW5kb3JdKCdUcmFuc2l0aW9uRW5kJyk7XG4gICAgICBhbmltYXRpb25FbmQgPSB2ZW5kb3JNYXBbdmVuZG9yXSgnQW5pbWF0aW9uRW5kJyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoIXRyYW5zaXRpb25FbmQgJiYgJ3RyYW5zaXRpb25Qcm9wZXJ0eScgaW4gc3R5bGUpIHRyYW5zaXRpb25FbmQgPSAndHJhbnNpdGlvbmVuZCc7XG5cbiAgaWYgKCFhbmltYXRpb25FbmQgJiYgJ2FuaW1hdGlvbk5hbWUnIGluIHN0eWxlKSBhbmltYXRpb25FbmQgPSAnYW5pbWF0aW9uZW5kJztcblxuICBzdHlsZSA9IG51bGw7XG5cbiAgcmV0dXJuIHsgYW5pbWF0aW9uRW5kOiBhbmltYXRpb25FbmQsIHRyYW5zaXRpb25FbmQ6IHRyYW5zaXRpb25FbmQsIHByZWZpeDogcHJlZml4IH07XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvaW5ET00uanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pbkRPTSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy91dGlsL2luRE9NLmpzXCIpO1xuXG52YXIgX2luRE9NMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luRE9NKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbnZhciB2ZW5kb3JzID0gWycnLCAnd2Via2l0JywgJ21veicsICdvJywgJ21zJ107XG52YXIgY2FuY2VsID0gJ2NsZWFyVGltZW91dCc7XG52YXIgcmFmID0gZmFsbGJhY2s7XG52YXIgY29tcGF0UmFmID0gdm9pZCAwO1xuXG52YXIgZ2V0S2V5ID0gZnVuY3Rpb24gZ2V0S2V5KHZlbmRvciwgaykge1xuICByZXR1cm4gdmVuZG9yICsgKCF2ZW5kb3IgPyBrIDoga1swXS50b1VwcGVyQ2FzZSgpICsgay5zdWJzdHIoMSkpICsgJ0FuaW1hdGlvbkZyYW1lJztcbn07XG5cbmlmIChfaW5ET00yLmRlZmF1bHQpIHtcbiAgdmVuZG9ycy5zb21lKGZ1bmN0aW9uICh2ZW5kb3IpIHtcbiAgICB2YXIgcmFmS2V5ID0gZ2V0S2V5KHZlbmRvciwgJ3JlcXVlc3QnKTtcblxuICAgIGlmIChyYWZLZXkgaW4gd2luZG93KSB7XG4gICAgICBjYW5jZWwgPSBnZXRLZXkodmVuZG9yLCAnY2FuY2VsJyk7XG4gICAgICByZXR1cm4gcmFmID0gZnVuY3Rpb24gcmFmKGNiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbcmFmS2V5XShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbi8qIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvcmFmICovXG52YXIgcHJldiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuZnVuY3Rpb24gZmFsbGJhY2soZm4pIHtcbiAgdmFyIGN1cnIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgIG1zID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyciAtIHByZXYpKSxcbiAgICAgIHJlcSA9IHNldFRpbWVvdXQoZm4sIG1zKTtcblxuICBwcmV2ID0gY3VycjtcbiAgcmV0dXJuIHJlcTtcbn1cblxuY29tcGF0UmFmID0gZnVuY3Rpb24gY29tcGF0UmFmKGNiKSB7XG4gIHJldHVybiByYWYoY2IpO1xufTtcbmNvbXBhdFJhZi5jYW5jZWwgPSBmdW5jdGlvbiAoaWQpIHtcbiAgd2luZG93W2NhbmNlbF0gJiYgdHlwZW9mIHdpbmRvd1tjYW5jZWxdID09PSAnZnVuY3Rpb24nICYmIHdpbmRvd1tjYW5jZWxdKGlkKTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBjb21wYXRSYWY7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwLmpzXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1yZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzXCIpO1xuXG52YXIgX1RyYW5zaXRpb25Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2l0aW9uR3JvdXApO1xuXG52YXIgX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuanNcIik7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG52YXIgX1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9cmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHN1cGVyQ2xhc3MpKSk7XG4gIH1zdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pO2lmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgdHJhbnNpdGlvbk5hbWU6IF9Qcm9wVHlwZXMubmFtZVNoYXBlLmlzUmVxdWlyZWQsXG5cbiAgdHJhbnNpdGlvbkFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uRW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25BcHBlYXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0FwcGVhcicpLFxuICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiAoMCwgX1Byb3BUeXBlcy50cmFuc2l0aW9uVGltZW91dCkoJ0VudGVyJyksXG4gIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnTGVhdmUnKVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgdHJhbnNpdGlvbkFwcGVhcjogZmFsc2UsXG4gIHRyYW5zaXRpb25FbnRlcjogdHJ1ZSxcbiAgdHJhbnNpdGlvbkxlYXZlOiB0cnVlXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTU1RyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fd3JhcENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0NTU1RyYW5zaXRpb25Hcm91cENoaWxkMi5kZWZhdWx0LCB7XG4gICAgICAgIG5hbWU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhcHBlYXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXIsXG4gICAgICAgIGVudGVyOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uRW50ZXIsXG4gICAgICAgIGxlYXZlOiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmUsXG4gICAgICAgIGFwcGVhclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25BcHBlYXJUaW1lb3V0LFxuICAgICAgICBlbnRlclRpbWVvdXQ6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlclRpbWVvdXQsXG4gICAgICAgIGxlYXZlVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dFxuICAgICAgfSwgY2hpbGQpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoaXMgY2hpbGRGYWN0b3J5IHNvIHRoYXRcbiAgLy8gUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCBjYW4gcmVjZWl2ZSB1cGRhdGVzIHRvIG5hbWUsIGVudGVyLCBhbmRcbiAgLy8gbGVhdmUgd2hpbGUgaXQgaXMgbGVhdmluZy5cblxuXG4gIENTU1RyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBjaGlsZEZhY3Rvcnk6IHRoaXMuX3dyYXBDaGlsZCB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXAnO1xuXG5DU1NUcmFuc2l0aW9uR3JvdXAucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG5DU1NUcmFuc2l0aW9uR3JvdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1yZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIF9hZGRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9hZGRDbGFzcy5qc1wiKTtcblxudmFyIF9hZGRDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRDbGFzcyk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanNcIik7XG5cbnZhciBfcmVtb3ZlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVtb3ZlQ2xhc3MpO1xuXG52YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qc1wiKTtcblxudmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcblxudmFyIF9wcm9wZXJ0aWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3RyYW5zaXRpb24vcHJvcGVydGllcy5qc1wiKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2luZGV4LmpzXCIpO1xuXG52YXIgX1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9cmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHN1cGVyQ2xhc3MpKSk7XG4gIH1zdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pO2lmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxudmFyIGV2ZW50cyA9IFtdO1xuaWYgKF9wcm9wZXJ0aWVzLnRyYW5zaXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLnRyYW5zaXRpb25FbmQpO1xuaWYgKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCkgZXZlbnRzLnB1c2goX3Byb3BlcnRpZXMuYW5pbWF0aW9uRW5kKTtcblxuZnVuY3Rpb24gYWRkRW5kTGlzdGVuZXIobm9kZSwgbGlzdGVuZXIpIHtcbiAgaWYgKGV2ZW50cy5sZW5ndGgpIHtcbiAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihlLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNldFRpbWVvdXQobGlzdGVuZXIsIDApO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWV2ZW50cy5sZW5ndGgpIHJldHVybjtcbiAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9O1xufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICBuYW1lOiBfUHJvcFR5cGVzLm5hbWVTaGFwZS5pc1JlcXVpcmVkLFxuXG4gIC8vIE9uY2Ugd2UgcmVxdWlyZSB0aW1lb3V0cyB0byBiZSBzcGVjaWZpZWQsIHdlIGNhbiByZW1vdmUgdGhlXG4gIC8vIGJvb2xlYW4gZmxhZ3MgKGFwcGVhciBldGMuKSBhbmQganVzdCBhY2NlcHQgYSBudW1iZXJcbiAgLy8gb3IgYSBib29sIGZvciB0aGUgdGltZW91dCBmbGFncyAoYXBwZWFyVGltZW91dCBldGMuKVxuICBhcHBlYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgZW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgYXBwZWFyVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGVudGVyVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGxlYXZlVGltZW91dDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuY29tcG9uZW50V2lsbEFwcGVhciA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMuYXBwZWFyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2FwcGVhcicsIGRvbmUsIF90aGlzLnByb3BzLmFwcGVhclRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmNvbXBvbmVudFdpbGxFbnRlciA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMuZW50ZXIpIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbignZW50ZXInLCBkb25lLCBfdGhpcy5wcm9wcy5lbnRlclRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmNvbXBvbmVudFdpbGxMZWF2ZSA9IGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMubGVhdmUpIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbignbGVhdmUnLCBkb25lLCBfdGhpcy5wcm9wcy5sZWF2ZVRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZSA9IFtdO1xuICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzID0gW107XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy51bm1vdW50ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnRyYW5zaXRpb24gPSBmdW5jdGlvbiB0cmFuc2l0aW9uKGFuaW1hdGlvblR5cGUsIGZpbmlzaENhbGxiYWNrLCB0aW1lb3V0KSB7XG4gICAgdmFyIG5vZGUgPSAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzKTtcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMubmFtZVthbmltYXRpb25UeXBlXSB8fCB0aGlzLnByb3BzLm5hbWUgKyAnLScgKyBhbmltYXRpb25UeXBlO1xuICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZSArICdBY3RpdmUnXSB8fCBjbGFzc05hbWUgKyAnLWFjdGl2ZSc7XG4gICAgdmFyIHRpbWVyID0gbnVsbDtcbiAgICB2YXIgcmVtb3ZlTGlzdGVuZXJzID0gdm9pZCAwO1xuXG4gICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgIC8vIE5lZWQgdG8gZG8gdGhpcyB0byBhY3R1YWxseSB0cmlnZ2VyIGEgdHJhbnNpdGlvbi5cbiAgICB0aGlzLnF1ZXVlQ2xhc3NBbmROb2RlKGFjdGl2ZUNsYXNzTmFtZSwgbm9kZSk7XG5cbiAgICAvLyBDbGVhbi11cCB0aGUgYW5pbWF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICB2YXIgZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKGUpIHtcbiAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAoMCwgX3JlbW92ZUNsYXNzMi5kZWZhdWx0KShub2RlLCBjbGFzc05hbWUpO1xuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgaWYgKHJlbW92ZUxpc3RlbmVycykgcmVtb3ZlTGlzdGVuZXJzKCk7XG5cbiAgICAgIC8vIFVzdWFsbHkgdGhpcyBvcHRpb25hbCBjYWxsYmFjayBpcyB1c2VkIGZvciBpbmZvcm1pbmcgYW4gb3duZXIgb2ZcbiAgICAgIC8vIGEgbGVhdmUgYW5pbWF0aW9uIGFuZCB0ZWxsaW5nIGl0IHRvIHJlbW92ZSB0aGUgY2hpbGQuXG4gICAgICBpZiAoZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgICAgZmluaXNoQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmaW5pc2gsIHRpbWVvdXQpO1xuICAgICAgdGhpcy50cmFuc2l0aW9uVGltZW91dHMucHVzaCh0aW1lcik7XG4gICAgfSBlbHNlIGlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSB7XG4gICAgICByZW1vdmVMaXN0ZW5lcnMgPSBhZGRFbmRMaXN0ZW5lcihub2RlLCBmaW5pc2gpO1xuICAgIH1cbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUucXVldWVDbGFzc0FuZE5vZGUgPSBmdW5jdGlvbiBxdWV1ZUNsYXNzQW5kTm9kZShjbGFzc05hbWUsIG5vZGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLnB1c2goe1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBub2RlOiBub2RlXG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMucmFmSGFuZGxlKSB7XG4gICAgICB0aGlzLnJhZkhhbmRsZSA9ICgwLCBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUuZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUgPSBmdW5jdGlvbiBmbHVzaENsYXNzTmFtZUFuZE5vZGVRdWV1ZSgpIHtcbiAgICBpZiAoIXRoaXMudW5tb3VudGVkKSB7XG4gICAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgLy8gVGhpcyBpcyBmb3IgdG8gZm9yY2UgYSByZXBhaW50LFxuICAgICAgICAvLyB3aGljaCBpcyBuZWNlc3NhcnkgaW4gb3JkZXIgdG8gdHJhbnNpdGlvbiBzdHlsZXMgd2hlbiBhZGRpbmcgYSBjbGFzcyBuYW1lLlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgb2JqLm5vZGUuc2Nyb2xsVG9wO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgICAgICAoMCwgX2FkZENsYXNzMi5kZWZhdWx0KShvYmoubm9kZSwgb2JqLmNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUubGVuZ3RoID0gMDtcbiAgICB0aGlzLnJhZkhhbmRsZSA9IG51bGw7XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgZGVsZXRlIHByb3BzLm5hbWU7XG4gICAgZGVsZXRlIHByb3BzLmFwcGVhcjtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmxlYXZlO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5lbnRlclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmxlYXZlVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuY2hpbGRyZW47XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbiksIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQ7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCc7XG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL1RyYW5zaXRpb25Hcm91cC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1yZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzXCIpO1xuXG52YXIgX2NoYWluRnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hhaW5GdW5jdGlvbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzXCIpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfQ2hpbGRNYXBwaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1yZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3VwZXJDbGFzcykpKTtcbiAgfXN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7aWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICBjb21wb25lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55LFxuICBjaGlsZEZhY3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZVxufTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgY29tcG9uZW50OiAnc3BhbicsXG4gIGNoaWxkRmFjdG9yeTogZnVuY3Rpb24gY2hpbGRGYWN0b3J5KGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG59O1xuXG52YXIgVHJhbnNpdGlvbkdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRyYW5zaXRpb25Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbkdyb3VwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zaXRpb25Hcm91cCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLnBlcmZvcm1BcHBlYXIgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxBcHBlYXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxBcHBlYXIoX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRBcHBlYXIoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBhcHBlYXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgICBfdGhpcy5wZXJmb3JtTGVhdmUoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wZXJmb3JtRW50ZXIgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxFbnRlcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEVudGVyKF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUVudGVyaW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcigpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGVudGVyZWQuIFJlbW92ZSBpdC5cbiAgICAgICAgX3RoaXMucGVyZm9ybUxlYXZlKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldID0gdHJ1ZTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudFdpbGxMZWF2ZShfdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcuYmluZChfdGhpcywga2V5LCBjb21wb25lbnQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIGlzIHNvbWV3aGF0IGRhbmdlcm91cyBiL2MgaXQgY2FsbHMgc2V0U3RhdGUoKVxuICAgICAgICAvLyBhZ2FpbiwgZWZmZWN0aXZlbHkgbXV0YXRpbmcgdGhlIGNvbXBvbmVudCBiZWZvcmUgYWxsIHRoZSB3b3JrXG4gICAgICAgIC8vIGlzIGRvbmUuXG4gICAgICAgIF90aGlzLl9oYW5kbGVEb25lTGVhdmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lTGVhdmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRMZWF2ZSkge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV07XG5cbiAgICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgIGlmIChjdXJyZW50Q2hpbGRNYXBwaW5nICYmIGN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIGVudGVyZWQgYWdhaW4gYmVmb3JlIGl0IGZ1bGx5IGxlZnQuIEFkZCBpdCBhZ2Fpbi5cbiAgICAgICAgX3RoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gX2V4dGVuZHMoe30sIHN0YXRlLmNoaWxkcmVuKTtcbiAgICAgICAgICBkZWxldGUgbmV3Q2hpbGRyZW5ba2V5XTtcbiAgICAgICAgICByZXR1cm4geyBjaGlsZHJlbjogbmV3Q2hpbGRyZW4gfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNoaWxkUmVmcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoaWxkcmVuOiAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKHByb3BzLmNoaWxkcmVuKVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5cyA9IHt9O1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBpbml0aWFsQ2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5pdGlhbENoaWxkTWFwcGluZykge1xuICAgICAgaWYgKGluaXRpYWxDaGlsZE1hcHBpbmdba2V5XSkge1xuICAgICAgICB0aGlzLnBlcmZvcm1BcHBlYXIoa2V5LCB0aGlzLmNoaWxkUmVmc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgbmV4dENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICB2YXIgcHJldkNoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNoaWxkcmVuOiAoMCwgX0NoaWxkTWFwcGluZy5tZXJnZUNoaWxkTWFwcGluZ3MpKHByZXZDaGlsZE1hcHBpbmcsIG5leHRDaGlsZE1hcHBpbmcpXG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gbmV4dENoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc1ByZXYgPSBwcmV2Q2hpbGRNYXBwaW5nICYmIHByZXZDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChuZXh0Q2hpbGRNYXBwaW5nW2tleV0gJiYgIWhhc1ByZXYgJiYgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfa2V5IGluIHByZXZDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNOZXh0ID0gbmV4dENoaWxkTWFwcGluZyAmJiBuZXh0Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KF9rZXkpO1xuICAgICAgaWYgKHByZXZDaGlsZE1hcHBpbmdbX2tleV0gJiYgIWhhc05leHQgJiYgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNbX2tleV0pIHtcbiAgICAgICAgdGhpcy5rZXlzVG9MZWF2ZS5wdXNoKF9rZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHdlIHdhbnQgdG8gc29tZWRheSBjaGVjayBmb3IgcmVvcmRlcmluZywgd2UgY291bGQgZG8gaXQgaGVyZS5cbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBrZXlzVG9FbnRlciA9IHRoaXMua2V5c1RvRW50ZXI7XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIGtleXNUb0VudGVyLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5wZXJmb3JtRW50ZXIoa2V5LCBfdGhpczIuY2hpbGRSZWZzW2tleV0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGtleXNUb0xlYXZlID0gdGhpcy5rZXlzVG9MZWF2ZTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAga2V5c1RvTGVhdmUuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnBlcmZvcm1MZWF2ZShrZXksIF90aGlzMi5jaGlsZFJlZnNba2V5XSk7XG4gICAgfSk7XG4gIH07XG5cbiAgVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAvLyBUT0RPOiB3ZSBjb3VsZCBnZXQgcmlkIG9mIHRoZSBuZWVkIGZvciB0aGUgd3JhcHBlciBub2RlXG4gICAgLy8gYnkgY2xvbmluZyBhIHNpbmdsZSBjaGlsZFxuICAgIHZhciBjaGlsZHJlblRvUmVuZGVyID0gW107XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChrZXkpIHtcbiAgICAgIHZhciBjaGlsZCA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbltrZXldO1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIHZhciBpc0NhbGxiYWNrUmVmID0gdHlwZW9mIGNoaWxkLnJlZiAhPT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBmYWN0b3J5Q2hpbGQgPSBfdGhpczMucHJvcHMuY2hpbGRGYWN0b3J5KGNoaWxkKTtcbiAgICAgICAgdmFyIHJlZiA9IGZ1bmN0aW9uIHJlZihyKSB7XG4gICAgICAgICAgX3RoaXMzLmNoaWxkUmVmc1trZXldID0gcjtcbiAgICAgICAgfTtcblxuICAgICAgICAgZmFsc2UgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGlzQ2FsbGJhY2tSZWYsICdzdHJpbmcgcmVmcyBhcmUgbm90IHN1cHBvcnRlZCBvbiBjaGlsZHJlbiBvZiBUcmFuc2l0aW9uR3JvdXAgYW5kIHdpbGwgYmUgaWdub3JlZC4gJyArICdQbGVhc2UgdXNlIGEgY2FsbGJhY2sgcmVmIGluc3RlYWQ6IGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmVmcy1hbmQtdGhlLWRvbS5odG1sI3RoZS1yZWYtY2FsbGJhY2stYXR0cmlidXRlJykgOiB2b2lkIDA7XG5cbiAgICAgICAgLy8gQWx3YXlzIGNoYWluaW5nIHRoZSByZWZzIGxlYWRzIHRvIHByb2JsZW1zIHdoZW4gdGhlIGNoaWxkRmFjdG9yeVxuICAgICAgICAvLyB3cmFwcyB0aGUgY2hpbGQuIFRoZSBjaGlsZCByZWYgY2FsbGJhY2sgZ2V0cyBjYWxsZWQgdHdpY2Ugd2l0aCB0aGVcbiAgICAgICAgLy8gd3JhcHBlciBhbmQgdGhlIGNoaWxkLiBTbyB3ZSBvbmx5IG5lZWQgdG8gY2hhaW4gdGhlIHJlZiBpZiB0aGVcbiAgICAgICAgLy8gZmFjdG9yeUNoaWxkIGlzIG5vdCBkaWZmZXJlbnQgZnJvbSBjaGlsZC5cbiAgICAgICAgaWYgKGZhY3RvcnlDaGlsZCA9PT0gY2hpbGQgJiYgaXNDYWxsYmFja1JlZikge1xuICAgICAgICAgIHJlZiA9ICgwLCBfY2hhaW5GdW5jdGlvbjIuZGVmYXVsdCkoY2hpbGQucmVmLCByZWYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWW91IG1heSBuZWVkIHRvIGFwcGx5IHJlYWN0aXZlIHVwZGF0ZXMgdG8gYSBjaGlsZCBhcyBpdCBpcyBsZWF2aW5nLlxuICAgICAgICAvLyBUaGUgbm9ybWFsIFJlYWN0IHdheSB0byBkbyBpdCB3b24ndCB3b3JrIHNpbmNlIHRoZSBjaGlsZCB3aWxsIGhhdmVcbiAgICAgICAgLy8gYWxyZWFkeSBiZWVuIHJlbW92ZWQuIEluIGNhc2UgeW91IG5lZWQgdGhpcyBiZWhhdmlvciB5b3UgY2FuIHByb3ZpZGVcbiAgICAgICAgLy8gYSBjaGlsZEZhY3RvcnkgZnVuY3Rpb24gdG8gd3JhcCBldmVyeSBjaGlsZCwgZXZlbiB0aGUgb25lcyB0aGF0IGFyZVxuICAgICAgICAvLyBsZWF2aW5nLlxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLnB1c2goX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChmYWN0b3J5Q2hpbGQsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICByZWY6IHJlZlxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN0YXRlLmNoaWxkcmVuKSB7XG4gICAgICBfbG9vcChrZXkpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdCBmb3J3YXJkIFRyYW5zaXRpb25Hcm91cCBwcm9wcyB0byBwcmltaXRpdmUgRE9NIG5vZGVzXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTGVhdmU7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uQXBwZWFyO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uRW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkRmFjdG9yeTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuVG9SZW5kZXIpO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uR3JvdXA7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uR3JvdXAuZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbkdyb3VwJztcblxuVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9ICBmYWxzZSA/IHByb3BUeXBlcyA6IHt9O1xuVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmdldENoaWxkTWFwcGluZyA9IGdldENoaWxkTWFwcGluZztcbmV4cG9ydHMubWVyZ2VDaGlsZE1hcHBpbmdzID0gbWVyZ2VDaGlsZE1hcHBpbmdzO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG4vKipcbiAqIEdpdmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYCwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIGtleSB0byBjaGlsZC5cbiAqXG4gKiBAcGFyYW0geyp9IGNoaWxkcmVuIGB0aGlzLnByb3BzLmNoaWxkcmVuYFxuICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICovXG5mdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4pIHtcbiAgaWYgKCFjaGlsZHJlbikge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIF9yZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXN1bHRbY2hpbGQua2V5XSA9IGNoaWxkO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBXaGVuIHlvdSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgY2hpbGRyZW4gc29tZSBtYXkgYmUgYWRkZWQgb3IgcmVtb3ZlZCBpbiB0aGVcbiAqIHNhbWUgcmVuZGVyIHBhc3MuIFdlIHdhbnQgdG8gc2hvdyAqYm90aCogc2luY2Ugd2Ugd2FudCB0byBzaW11bHRhbmVvdXNseVxuICogYW5pbWF0ZSBlbGVtZW50cyBpbiBhbmQgb3V0LiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcHJldmlvdXMgc2V0IG9mIGtleXNcbiAqIGFuZCBhIG5ldyBzZXQgb2Yga2V5cyBhbmQgbWVyZ2VzIHRoZW0gd2l0aCBpdHMgYmVzdCBndWVzcyBvZiB0aGUgY29ycmVjdFxuICogb3JkZXJpbmcuIEluIHRoZSBmdXR1cmUgd2UgbWF5IGV4cG9zZSBzb21lIG9mIHRoZSB1dGlsaXRpZXMgaW5cbiAqIFJlYWN0TXVsdGlDaGlsZCB0byBtYWtlIHRoaXMgZWFzeSwgYnV0IGZvciBub3cgUmVhY3QgaXRzZWxmIGRvZXMgbm90XG4gKiBkaXJlY3RseSBoYXZlIHRoaXMgY29uY2VwdCBvZiB0aGUgdW5pb24gb2YgcHJldkNoaWxkcmVuIGFuZCBuZXh0Q2hpbGRyZW5cbiAqIHNvIHdlIGltcGxlbWVudCBpdCBoZXJlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2IHByZXYgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV4dCBuZXh0IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICogQHJldHVybiB7b2JqZWN0fSBhIGtleSBzZXQgdGhhdCBjb250YWlucyBhbGwga2V5cyBpbiBgcHJldmAgYW5kIGFsbCBrZXlzXG4gKiBpbiBgbmV4dGAgaW4gYSByZWFzb25hYmxlIG9yZGVyLlxuICovXG5mdW5jdGlvbiBtZXJnZUNoaWxkTWFwcGluZ3MocHJldiwgbmV4dCkge1xuICBwcmV2ID0gcHJldiB8fCB7fTtcbiAgbmV4dCA9IG5leHQgfHwge307XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JLZXkoa2V5KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIG5leHRba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldltrZXldO1xuICB9XG5cbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0S2V5c1BlbmRpbmcgPSB7fTtcblxuICB2YXIgcGVuZGluZ0tleXMgPSBbXTtcbiAgZm9yICh2YXIgcHJldktleSBpbiBwcmV2KSB7XG4gICAgaWYgKG5leHQuaGFzT3duUHJvcGVydHkocHJldktleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dEtleXNQZW5kaW5nW3ByZXZLZXldID0gcGVuZGluZ0tleXM7XG4gICAgICAgIHBlbmRpbmdLZXlzID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdLZXlzLnB1c2gocHJldktleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIHZhciBjaGlsZE1hcHBpbmcgPSB7fTtcbiAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0KSB7XG4gICAgaWYgKG5leHRLZXlzUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGVuZGluZ05leHRLZXkgPSBuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV07XG4gICAgICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5c1BlbmRpbmdbbmV4dEtleV1baV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ05leHRLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGFkZCB0aGUga2V5cyB3aGljaCBkaWRuJ3QgYXBwZWFyIGJlZm9yZSBhbnkga2V5IGluIGBuZXh0YFxuICBmb3IgKGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjaGlsZE1hcHBpbmdbcGVuZGluZ0tleXNbaV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ0tleXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkTWFwcGluZztcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9Qcm9wVHlwZXMuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubmFtZVNoYXBlID0gdW5kZWZpbmVkO1xuZXhwb3J0cy50cmFuc2l0aW9uVGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25UaW1lb3V0KHRyYW5zaXRpb25UeXBlKSB7XG4gIHZhciB0aW1lb3V0UHJvcE5hbWUgPSAndHJhbnNpdGlvbicgKyB0cmFuc2l0aW9uVHlwZSArICdUaW1lb3V0JztcbiAgdmFyIGVuYWJsZWRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAvLyBJZiB0aGUgdHJhbnNpdGlvbiBpcyBlbmFibGVkXG4gICAgaWYgKHByb3BzW2VuYWJsZWRQcm9wTmFtZV0pIHtcbiAgICAgIC8vIElmIG5vIHRpbWVvdXQgZHVyYXRpb24gaXMgcHJvdmlkZWRcbiAgICAgIGlmIChwcm9wc1t0aW1lb3V0UHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0aW1lb3V0UHJvcE5hbWUgKyAnIHdhc25cXCd0IHN1cHBsaWVkIHRvIENTU1RyYW5zaXRpb25Hcm91cDogJyArICd0aGlzIGNhbiBjYXVzZSB1bnJlbGlhYmxlIGFuaW1hdGlvbnMgYW5kIHdvblxcJ3QgYmUgc3VwcG9ydGVkIGluICcgKyAnYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hbmltYXRpb24tdHJhbnNpdGlvbi1ncm91cC10aW1lb3V0IGZvciBtb3JlICcgKyAnaW5mb3JtYXRpb24uJyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGR1cmF0aW9uIGlzbid0IGEgbnVtYmVyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wc1t0aW1lb3V0UHJvcE5hbWVdICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgbXVzdCBiZSBhIG51bWJlciAoaW4gbWlsbGlzZWNvbmRzKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgbmFtZVNoYXBlID0gZXhwb3J0cy5uYW1lU2hhcGUgPSBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSksIF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGVudGVyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZUFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFwcGVhckFjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn0pXSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L2xpYi9pbmRleC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHRNZW1vaXplID0gZGVmYXVsdE1lbW9pemU7XG5leHBvcnRzLmNyZWF0ZVNlbGVjdG9yQ3JlYXRvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcjtcbmV4cG9ydHMuY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yO1xuZnVuY3Rpb24gZGVmYXVsdEVxdWFsaXR5Q2hlY2soYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgcHJldiwgbmV4dCkge1xuICBpZiAocHJldiA9PT0gbnVsbCB8fCBuZXh0ID09PSBudWxsIHx8IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERvIHRoaXMgaW4gYSBmb3IgbG9vcCAoYW5kIG5vdCBhIGBmb3JFYWNoYCBvciBhbiBgZXZlcnlgKSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGVxdWFsaXR5IGFzIGZhc3QgYXMgcG9zc2libGUuXG4gIHZhciBsZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICghZXF1YWxpdHlDaGVjayhwcmV2W2ldLCBuZXh0W2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TWVtb2l6ZShmdW5jKSB7XG4gIHZhciBlcXVhbGl0eUNoZWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0RXF1YWxpdHlDaGVjaztcblxuICB2YXIgbGFzdEFyZ3MgPSBudWxsO1xuICB2YXIgbGFzdFJlc3VsdCA9IG51bGw7XG4gIC8vIHdlIHJlZmVyZW5jZSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgdGhlbSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgbGFzdEFyZ3MsIGFyZ3VtZW50cykpIHtcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICBsYXN0UmVzdWx0ID0gZnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZXBlbmRlbmNpZXMoZnVuY3MpIHtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IEFycmF5LmlzQXJyYXkoZnVuY3NbMF0pID8gZnVuY3NbMF0gOiBmdW5jcztcblxuICBpZiAoIWRlcGVuZGVuY2llcy5ldmVyeShmdW5jdGlvbiAoZGVwKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkZXAgPT09ICdmdW5jdGlvbic7XG4gIH0pKSB7XG4gICAgdmFyIGRlcGVuZGVuY3lUeXBlcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBkZXAgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGRlcCk7XG4gICAgfSkuam9pbignLCAnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGNyZWF0b3JzIGV4cGVjdCBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgJyArICgnaW5zdGVhZCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBbJyArIGRlcGVuZGVuY3lUeXBlcyArICddJykpO1xuICB9XG5cbiAgcmV0dXJuIGRlcGVuZGVuY2llcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lbW9pemVPcHRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1lbW9pemVPcHRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBmdW5jc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIHJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XS5jb25jYXQobWVtb2l6ZU9wdGlvbnMpKTtcblxuICAgIC8vIElmIGEgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIGV4YWN0IHNhbWUgYXJndW1lbnRzIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2Ugb3VyIGRlcGVuZGVuY2llcyBhZ2Fpbi5cbiAgICB2YXIgc2VsZWN0b3IgPSBkZWZhdWx0TWVtb2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICB2YXIgbGVuZ3RoID0gZGVwZW5kZW5jaWVzLmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgYW5kIG11dGF0ZSBhIGxvY2FsIGxpc3Qgb2YgcGFyYW1zIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgICAgcGFyYW1zLnB1c2goZGVwZW5kZW5jaWVzW2ldLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgfVxuXG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIG1lbW9pemVkUmVzdWx0RnVuYy5hcHBseShudWxsLCBwYXJhbXMpO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0b3IucmVzdWx0RnVuYyA9IHJlc3VsdEZ1bmM7XG4gICAgc2VsZWN0b3IucmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnM7XG4gICAgfTtcbiAgICBzZWxlY3Rvci5yZXNldFJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfTtcbn1cblxudmFyIGNyZWF0ZVNlbGVjdG9yID0gZXhwb3J0cy5jcmVhdGVTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihzZWxlY3RvcnMpIHtcbiAgdmFyIHNlbGVjdG9yQ3JlYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogY3JlYXRlU2VsZWN0b3I7XG5cbiAgaWYgKCh0eXBlb2Ygc2VsZWN0b3JzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzZWxlY3RvcnMpKSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCAnICsgKCd3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAnICsgKHR5cGVvZiBzZWxlY3RvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHNlbGVjdG9ycykpKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9Ub2dnbGVTZXR0aW5ncyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL1RvZ2dsZVNldHRpbmdzL1RvZ2dsZVNldHRpbmdzLmpzXCIpO1xuXG52YXIgX1RvZ2dsZVNldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvZ2dsZVNldHRpbmdzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uc2Nzc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRGV2aWNlTGlzdEl0ZW0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRGV2aWNlTGlzdEl0ZW0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERldmljZUxpc3RJdGVtKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldmljZUxpc3RJdGVtKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEZXZpY2VMaXN0SXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERldmljZUxpc3RJdGVtKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMucHJvcHMuc2V0UG9wdXBTaG93bihfdGhpcy5wcm9wcy5kYXRhLl9pZCk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGV2aWNlTGlzdEl0ZW0sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbScgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9faW5mbycgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yZWFjdFJvdXRlckRvbS5MaW5rLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9faW5mby1uYW1lJywgdG86ICcvZGV2aWNlcy9kZXZpY2UvJyArIHRoaXMucHJvcHMuZGF0YS5faWQgfSxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YS5uYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9faW5mby1zdGF0dXMnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVG9nZ2xlU2V0dGluZ3MyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgY2hlY2tlZDogdGhpcy5wcm9wcy5kYXRhLnN0YXR1cyxcbiAgICAgICAgICAgICAgaXRlbUlkOiB0aGlzLnByb3BzLmRhdGEuX2lkLFxuICAgICAgICAgICAgICBzZXRJdGVtVmFsdWU6IHRoaXMucHJvcHMuY2hhbmdlU3RhdHVzIH0pXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19kZXNjcmlwdGlvbicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9fZGVzY3JpcHRpb24tbG9jYXRpb24nIH0sXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9fZGVzY3JpcHRpb24taWNvbicgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtaXRlbV9fZGVzY3JpcHRpb24taWNvbi1kZWxldGUnIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdhJywgeyBjbGFzc05hbWU6ICdmYSBmYS10cmFzaCcsXG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zZXREZXZpY2VJZCB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGV2aWNlTGlzdEl0ZW07XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5EZXZpY2VMaXN0SXRlbS5wcm9wVHlwZXMgPSB7XG4gIGNoYW5nZVN0YXR1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBkZWxldGVEZXZpY2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgc2V0UG9wdXBTaG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRhdGE6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICAgIHN0YXR1czogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sZWFuLFxuICAgIF9pZDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgbmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gICAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG4gIH0pXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEZXZpY2VMaXN0SXRlbTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EZXZpY2VMaXN0SXRlbS9EZXZpY2VMaXN0SXRlbS5zY3NzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRGV2aXNlc1NlY3Rpb24vRGV2aXNlc1NlY3Rpb24uanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9pbmRleC5qc1wiKTtcblxudmFyIF9NZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvTWVzc2FnZS9NZXNzYWdlLmpzXCIpO1xuXG52YXIgX1BvcHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvUG9wdXAvUG9wdXAuanNcIik7XG5cbnZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi5qc1wiKTtcblxudmFyIF9MaXN0SGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvTGlzdEhlYWRlci9MaXN0SGVhZGVyLmpzXCIpO1xuXG52YXIgX0xpc3RIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdEhlYWRlcik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIERldmljZXNTZWN0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKERldmljZXNTZWN0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEZXZpY2VzU2VjdGlvbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXZpY2VzU2VjdGlvbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERldmljZXNTZWN0aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGV2aWNlc1NlY3Rpb24pKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGV2aWNlc1NlY3Rpb24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBmaWx0ZXJPcHRpb24gPSB0aGlzLnByb3BzLmZpbHRlck9wdGlvbjtcblxuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJPcHRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1saXN0JyB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaDEnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWxpc3RfX3RpdGxlJyB9LFxuICAgICAgICAgIHRoaXMucHJvcHMubG9jYXRpb25PZkRldmljZXMgPyB0aGlzLnByb3BzLmxvY2F0aW9uT2ZEZXZpY2VzLnRvVXBwZXJDYXNlKCkgOiAnWW91ciBkZXZpY2VzJ1xuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlzdEhlYWRlcjIuZGVmYXVsdCwge1xuICAgICAgICAgIHF1YW50aXR5OiB0aGlzLnByb3BzLnF1YW50aXR5LFxuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnByb3BzLmxvY2F0aW9uLFxuICAgICAgICAgIGhpc3Rvcnk6IHRoaXMucHJvcHMuaGlzdG9yeSxcbiAgICAgICAgICBtYXRjaDogdGhpcy5wcm9wcy5tYXRjaCB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWxpc3RfX2NvbnRlbnQnIH0sXG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfUG9wdXAuUG9wdXAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2V0UG9wdXBTaG93bjogdGhpcy5wcm9wcy5zZXRQb3B1cFNob3duLFxuICAgICAgICAgICAgcG9wdXBTaG93bjogdGhpcy5wcm9wcy5wb3B1cFNob3duLFxuICAgICAgICAgICAgaGVhZGVyOiAnQ29uZmlybSB0aGUgYWN0aW9uJyxcbiAgICAgICAgICAgIHRleHQ6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSBkZXZpY2U/JyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9CdXR0b24uQnV0dG9uLCB7XG4gICAgICAgICAgICBzZXRQb3B1cFNob3duOiB0aGlzLnByb3BzLnNldFBvcHVwU2hvd24sXG4gICAgICAgICAgICBva0hhbmRsZXI6IGZ1bmN0aW9uIG9rSGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLmRlbGV0ZURldmljZShfdGhpczIucHJvcHMuY3VycmVudElkKTtcbiAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnNldFBvcHVwU2hvd24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gcG9wdXBfX2J0bicsXG4gICAgICAgICAgICBpbm5lclRleHQ6ICdPaydcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQnV0dG9uLkJ1dHRvbiwge1xuICAgICAgICAgICAgb2tIYW5kbGVyOiBmdW5jdGlvbiBva0hhbmRsZXIoKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5zZXRQb3B1cFNob3duKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi0tZGVmYXVsdCBwb3B1cF9fYnRuJyxcbiAgICAgICAgICAgIGlubmVyVGV4dDogJ0NhbmNlbCdcbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTWVzc2FnZS5NZXNzYWdlLCB7XG4gICAgICAgICAgY2xlYXJTdGF0dXM6IHRoaXMucHJvcHMuY2xlYXJTdGF0dXMsXG4gICAgICAgICAgaGVhZGVyOiAnRXJyb3InXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZXZpY2VzU2VjdGlvbjtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkRldmljZXNTZWN0aW9uLnByb3BUeXBlcyA9IHtcbiAgY2hhbmdlU3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGRlbGV0ZURldmljZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBsb2FkRGV2aWNlczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBmaWx0ZXJPcHRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55LFxuICBmaWx0ZXJBY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZGV2aWNlczogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheSxcbiAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWF0Y2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIGNsZWFyU3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGN1cnJlbnRJZDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHNldFBvcHVwU2hvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcG9wdXBTaG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBxdWFudGl0eTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIGxvY2F0aW9uT2ZEZXZpY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRGV2aWNlc1NlY3Rpb247XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5zY3NzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRmlsdGVyU2VsZWN0ID0gZnVuY3Rpb24gRmlsdGVyU2VsZWN0KHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICB7IGNsYXNzTmFtZTogJ2ZpbHRlckJveCcgfSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdzZWxlY3QnLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6ICdmaWx0ZXJCb3hfX2ZpbHRlcicsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLmhhbmRsZVNlbGVjdChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH0gfSxcbiAgICAgIHByb3BzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgICAgIGtleTogaXRlbS52YWx1ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtLnZhbHVlID09PSBwcm9wcy52YWx1ZSB9LFxuICAgICAgICAgIGl0ZW0uaW5uZXJUZXh0XG4gICAgICAgICk7XG4gICAgICB9KVxuICAgIClcbiAgKTtcbn07XG5cbkZpbHRlclNlbGVjdC5wcm9wVHlwZXMgPSB7XG4gIGhhbmRsZVNlbGVjdDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIG9wdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXksXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyU2VsZWN0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0ZpbHRlclNlbGVjdC9GaWx0ZXJTZWxlY3Quc2Nzc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlci5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaW5kZXguanNcIik7XG5cbnZhciBfcXVlcnlTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcXVlcnktc3RyaW5nL2luZGV4LmpzXCIpO1xuXG52YXIgX3F1ZXJ5U3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3F1ZXJ5U3RyaW5nKTtcblxudmFyIF9GaWx0ZXJTZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9GaWx0ZXJTZWxlY3QvRmlsdGVyU2VsZWN0LmpzXCIpO1xuXG52YXIgX0ZpbHRlclNlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJTZWxlY3QpO1xuXG52YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanNcIik7XG5cbnZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cbnZhciBfZGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9hY3Rpb25zL2RldmljZXMuYWN0aW9uLmpzXCIpO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3V0aWxzL3V0aWxzLmpzXCIpO1xuXG52YXIgX2ZpbHRlck9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvZGF0YS9maWx0ZXJPcHRpb25zLmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBMaXN0SGVhZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExpc3RIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpc3RIZWFkZXIocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdEhlYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTGlzdEhlYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RIZWFkZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5pbml0aWFsUGFyYW1zID0ge1xuICAgICAgc2VhcmNoOiAnJyxcbiAgICAgIGZpbHRlcjogJ2FsbCdcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlRmlsdGVyU2VsZWN0ID0gZnVuY3Rpb24gKGZpbHRlck9wdGlvbikge1xuICAgICAgX3RoaXMucHJvcHMuZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbik7XG4gICAgICBfdGhpcy51cGRhdGVVcmwoX2V4dGVuZHMoe30sIF90aGlzLmluaXRpYWxQYXJhbXMsIHsgZmlsdGVyOiBmaWx0ZXJPcHRpb24gfSkpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2VhcmNoUmVzdWx0ID0gZnVuY3Rpb24gKHNlYXJjaFZhbHVlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5maW5kSXRlbXMoc2VhcmNoVmFsdWUpO1xuICAgICAgX3RoaXMudXBkYXRlVXJsKF9leHRlbmRzKHt9LCBfdGhpcy5pbml0aWFsUGFyYW1zLCB7IHNlYXJjaDogc2VhcmNoVmFsdWUgfSkpO1xuICAgIH07XG4gICAgX3RoaXMudXBkYXRlVXJsID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgdmFyIG1hdGNoID0gX3RoaXMucHJvcHMubWF0Y2g7XG4gICAgICB2YXIgaGlzdG9yeSA9IF90aGlzLnByb3BzLmhpc3Rvcnk7XG5cbiAgICAgIF90aGlzLmluaXRpYWxQYXJhbXMgPSBwYXJhbXM7XG4gICAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgICBwYXRobmFtZTogbWF0Y2gudXJsLFxuICAgICAgICBzZWFyY2g6ICgwLCBfdXRpbHMucXVlcnlGcm9tT2JqZWN0KShwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMaXN0SGVhZGVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLnByb3BzLmxvY2F0aW9uO1xuICAgICAgdmFyIHNlYXJjaFZhbHVlID0gX3F1ZXJ5U3RyaW5nMi5kZWZhdWx0LnBhcnNlKGxvY2F0aW9uLnNlYXJjaCkuc2VhcmNoO1xuICAgICAgdmFyIGZpbHRlclZhbHVlID0gX3F1ZXJ5U3RyaW5nMi5kZWZhdWx0LnBhcnNlKGxvY2F0aW9uLnNlYXJjaCkuZmlsdGVyO1xuXG4gICAgICBpZiAoc2VhcmNoVmFsdWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2hSZXN1bHQoc2VhcmNoVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3QoZmlsdGVyVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbignYWxsJyk7XG4gICAgICB0aGlzLnByb3BzLmZpbmRJdGVtcygnJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnaGVhZGVyJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtbGlzdF9faGVhZGVyJyB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoMi5kZWZhdWx0LCB7XG4gICAgICAgICAgaGFuZGxlU2VhcmNoOiB0aGlzLmhhbmRsZVNlYXJjaFJlc3VsdCxcbiAgICAgICAgICBxdWFudGl0eTogdGhpcy5wcm9wcy5xdWFudGl0eSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5pbml0aWFsUGFyYW1zLnNlYXJjaFxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtbGlzdF9faGVhZGVyLS1yaWdodCcgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmlsdGVyU2VsZWN0Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3Q6IHRoaXMuaGFuZGxlRmlsdGVyU2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogX2ZpbHRlck9wdGlvbnMub3B0aW9ucyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmluaXRpYWxQYXJhbXMuZmlsdGVyXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RSb3V0ZXJEb20uTGluayxcbiAgICAgICAgICAgIHsgdG86ICcvYnVpbGRlcicsIGNsYXNzTmFtZTogJ2J0biBidG4tLXByaW1hcnkgYWRkLWl0ZW0tYnV0dG9uJyB9LFxuICAgICAgICAgICAgJ05ldydcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RIZWFkZXI7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgZmlsdGVyT3B0aW9uOiBzdGF0ZS5zZWFyY2hBbmRGaWx0ZXIuZmlsdGVyT3B0aW9uLFxuICAgIHNlYXJjaDogc3RhdGUuc2VhcmNoQW5kRmlsdGVyLnNlYXJjaFZhbHVlXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgZmlsdGVyQWN0aW9uOiBmdW5jdGlvbiBmaWx0ZXJBY3Rpb24oZmlsdGVyT3B0aW9uKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9kZXZpY2VzLmZpbHRlckFjdGlvbikoZmlsdGVyT3B0aW9uKSk7XG4gICAgfSxcbiAgICBmaW5kSXRlbXM6IGZ1bmN0aW9uIGZpbmRJdGVtcyhzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZGV2aWNlcy5zZWFyY2hBY3Rpb24pKHNlYXJjaFZhbHVlKSk7XG4gICAgfVxuICB9O1xufTtcblxuTGlzdEhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIHNlYXJjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGZpbHRlck9wdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGZpbHRlckFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBmaW5kSXRlbXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgbWF0Y2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBsb2FkRGV2aWNlczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBxdWFudGl0eTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXJcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTGlzdEhlYWRlcik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2VhcmNoL1NlYXJjaC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvU2VhcmNoL3NlYXJjaC5zY3NzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgU2VhcmNoID0gZnVuY3Rpb24gU2VhcmNoKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICB7IGNsYXNzTmFtZTogJ3NlYXJjaEJveCcgfSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6ICdzZWFyY2hCb3hfX3Jlc3VsdHMnIH0sXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICBudWxsLFxuICAgICAgICBwcm9wcy5xdWFudGl0eVxuICAgICAgKSxcbiAgICAgICcgZGV2aWNlcydcbiAgICApLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBudWxsLFxuICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIG5hbWU6ICdzZWFyY2gnLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0ZpbmQgYSBkZXZpY2UnLFxuICAgICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICAgIGNsYXNzTmFtZTogJ3NlYXJjaEJveF9fZmllbGQnLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHByb3BzLmhhbmRsZVNlYXJjaChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH0gfSlcbiAgICApXG4gICk7XG59O1xuXG5TZWFyY2gucHJvcFR5cGVzID0ge1xuICBoYW5kbGVTZWFyY2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBxdWFudGl0eTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2VhcmNoO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9zZWFyY2guc2Nzc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1RvZ2dsZVNldHRpbmdzL1RvZ2dsZVNldHRpbmdzLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTdHlsZS5zY3NzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUb2dnbGVTZXR0aW5ncyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUb2dnbGVTZXR0aW5ncywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVG9nZ2xlU2V0dGluZ3MocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9nZ2xlU2V0dGluZ3MpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRvZ2dsZVNldHRpbmdzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9nZ2xlU2V0dGluZ3MpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5vbkNoYW5nZVZhbHVlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnByb3BzLnNldEl0ZW1WYWx1ZSghX3RoaXMucHJvcHMuY2hlY2tlZCwgX3RoaXMucHJvcHMuaXRlbUlkLCBfdGhpcy5wcm9wcy5kZXZpY2VJZCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUb2dnbGVTZXR0aW5ncywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogJycgKyB0aGlzLnByb3BzLnN0eWxlTmFtZSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc3dpdGNoJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICBjaGVja2VkOiB0aGlzLnByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZVZhbHVlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnc2xpZGVyIHJvdW5kJyB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUb2dnbGVTZXR0aW5ncztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRvZ2dsZVNldHRpbmdzO1xuXG5cblRvZ2dsZVNldHRpbmdzLnByb3BUeXBlcyA9IHtcbiAgZGV2aWNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3R5bGVOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY2hlY2tlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIHNldEl0ZW1WYWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBpdGVtSWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55LFxuICBuZXdWYWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGRldmljZUlkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufTtcblRvZ2dsZVNldHRpbmdzLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hlY2tlZDogZmFsc2Vcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU3R5bGUuc2Nzc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kYXRhL2ZpbHRlck9wdGlvbnMuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBvcHRpb25zID0gZXhwb3J0cy5vcHRpb25zID0gW3tcbiAgdmFsdWU6ICdhbGwnLFxuICBpbm5lclRleHQ6ICdBbGwnXG59LCB7XG4gIHZhbHVlOiAnb24nLFxuICBpbm5lclRleHQ6ICdTaG93IE9uJ1xufSwge1xuICB2YWx1ZTogJ29mZicsXG4gIGlubmVyVGV4dDogJ1Nob3cgT0ZGJ1xufV07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaW5kZXguanNcIik7XG5cbnZhciBfRGV2aWNlTGlzdEl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9EZXZpY2VMaXN0SXRlbS9EZXZpY2VMaXN0SXRlbS5qc1wiKTtcblxudmFyIF9EZXZpY2VMaXN0SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EZXZpY2VMaXN0SXRlbSk7XG5cbnZhciBfTWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL01lc3NhZ2UvTWVzc2FnZS5qc1wiKTtcblxudmFyIF9Qb3B1cCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL1BvcHVwL1BvcHVwLmpzXCIpO1xuXG52YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24uanNcIik7XG5cbnZhciBfTGlzdEhlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlci5qc1wiKTtcblxudmFyIF9MaXN0SGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3RIZWFkZXIpO1xuXG52YXIgX0RldmlzZXNTZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvRGV2aXNlc1NlY3Rpb24vRGV2aXNlc1NlY3Rpb24uanNcIik7XG5cbnZhciBfRGV2aXNlc1NlY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGV2aXNlc1NlY3Rpb24pO1xuXG52YXIgX2RldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYWN0aW9ucy9kZXZpY2VzLmFjdGlvbi5qc1wiKTtcblxudmFyIF9ub3RpZmljYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2FjdGlvbnMvbm90aWZpY2F0aW9ucy5hY3Rpb24uanNcIik7XG5cbnZhciBfc2VsZWN0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3NlbGVjdG9ycy9pbmRleC5qc1wiKTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy91dGlscy91dGlscy5qc1wiKTtcblxudmFyIF9yZWFjdEFkZG9uc0Nzc1RyYW5zaXRpb25Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcIik7XG5cbnZhciBfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXApO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvcGFnZXMvRGV2aWNlTGlzdC9EZXZpY2VMaXN0LnNjc3NcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIERldmljZUxpc3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRGV2aWNlTGlzdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGV2aWNlTGlzdChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXZpY2VMaXN0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEZXZpY2VMaXN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGV2aWNlTGlzdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgcG9wdXBTaG93bjogZmFsc2UsXG4gICAgICBjdXJyZW50SWQ6ICcnLFxuICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICB0b2Rvc1BlclBhZ2U6IDZcbiAgICB9O1xuXG4gICAgX3RoaXMuZGVsZXRlRGV2aWNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBfdGhpcy5wcm9wcy5kZWxldGVEZXZpY2UoaWQpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRQb3B1cFNob3duID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgY3VycmVudFN0YXRlID0gX3RoaXMuc3RhdGUucG9wdXBTaG93bjtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwb3B1cFNob3duOiAhY3VycmVudFN0YXRlLFxuICAgICAgICBjdXJyZW50SWQ6IGlkXG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLmNoYW5nZVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMsIGlkKSB7XG4gICAgICBfdGhpcy5wcm9wcy5jaGFuZ2VTdGF0dXMoeyBzdGF0dXM6IHN0YXR1cyB9LCBpZCk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGV2aWNlTGlzdCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5wcm9wcy5sb2FkRGV2aWNlcygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlckRldmljZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEZXZpY2VzKGxvY2F0aW9ucywgbG9jYXRpb24pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgZGV2aWNlc0xpc3QgPSBsb2NhdGlvbnNbbG9jYXRpb25dLmxlbmd0aCA+IDggPyBsb2NhdGlvbnNbbG9jYXRpb25dLnNsaWNlKDAsIDcpIDogbG9jYXRpb25zW2xvY2F0aW9uXTtcblxuICAgICAgcmV0dXJuIGRldmljZXNMaXN0Lm1hcChmdW5jdGlvbiAoZGV2aWNlLCBpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRGV2aWNlTGlzdEl0ZW0yLmRlZmF1bHQsIHtcbiAgICAgICAgICBkYXRhOiBkZXZpY2UsXG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIGxvY2F0aW9uOiAnJyxcbiAgICAgICAgICBjaGFuZ2VTdGF0dXM6IF90aGlzMi5jaGFuZ2VTdGF0dXMsXG4gICAgICAgICAgc2V0UG9wdXBTaG93bjogX3RoaXMyLnNldFBvcHVwU2hvd24gfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXJEZXZpY2VHcm91cCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckRldmljZUdyb3VwKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBsb2NhdGlvbnMgPSAoMCwgX3V0aWxzLnNvcnREZXZpY2VzQnlMb2NhdGlvbnMpKHRoaXMucHJvcHMuZGV2aWNlcyk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhsb2NhdGlvbnMpLm1hcChmdW5jdGlvbiAobG9jYXRpb24sIGkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWdyb3VwJywga2V5OiBpIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdkZXZpY2UtZ3JvdXBfX3RpdGxlJyB9LFxuICAgICAgICAgICAgbG9jYXRpb24udG9VcHBlckNhc2UoKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2RldmljZS1ncm91cF9faXRlbXMnLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZTogJ2hpZGUnLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0OiA1MDAsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQ6IDMwMCB9LFxuICAgICAgICAgICAgX3RoaXMzLnJlbmRlckRldmljZXMobG9jYXRpb25zLCBsb2NhdGlvbiksXG4gICAgICAgICAgICBsb2NhdGlvbnNbbG9jYXRpb25dLmxlbmd0aCA+IDggPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdkZXZpY2UtZ3JvdXBfX2xpbmsnLFxuICAgICAgICAgICAgICAgIHRvOiAnL2RldmljZXMvJyArIGxvY2F0aW9uIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ZhIGZhLXJlcGVhdCcsXG4gICAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pLFxuICAgICAgICAgICAgICAnTW9yZSBkZXZpY2VzJ1xuICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuZmlsdGVyT3B0aW9uO1xuXG4gICAgICBpZiAodHlwZW9mIGZpbHRlck9wdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJBY3Rpb24oZmlsdGVyT3B0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfRGV2aXNlc1NlY3Rpb24yLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWx0ZXJPcHRpb246IGZpbHRlck9wdGlvbixcbiAgICAgICAgICBkZXZpY2VzOiB0aGlzLnByb3BzLmRldmljZXMsXG4gICAgICAgICAgbG9jYXRpb246IHRoaXMucHJvcHMubG9jYXRpb24sXG4gICAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxuICAgICAgICAgIG1hdGNoOiB0aGlzLnByb3BzLm1hdGNoLFxuICAgICAgICAgIHN0YXR1czogdGhpcy5wcm9wcy5zdGF0dXMsXG4gICAgICAgICAgdGV4dDogdGhpcy5wcm9wcy5lcnJvclRleHQsXG4gICAgICAgICAgc2V0UG9wdXBTaG93bjogdGhpcy5zZXRQb3B1cFNob3duLFxuICAgICAgICAgIHBvcHVwU2hvd246IHRoaXMuc3RhdGUucG9wdXBTaG93bixcbiAgICAgICAgICBkZWxldGVEZXZpY2U6IHRoaXMuZGVsZXRlRGV2aWNlLFxuICAgICAgICAgIGNsZWFyU3RhdHVzOiB0aGlzLnByb3BzLmNsZWFyU3RhdHVzLFxuICAgICAgICAgIGN1cnJlbnRJZDogdGhpcy5zdGF0ZS5jdXJyZW50SWQsXG4gICAgICAgICAgcXVhbnRpdHk6IHRoaXMucHJvcHMuZGV2aWNlcy5sZW5ndGggfSxcbiAgICAgICAgdGhpcy5wcm9wcy5zdGF0dXMgPT09ICdET05FJyAmJiB0aGlzLnByb3BzLmRldmljZXMubGVuZ3RoID09PSAwID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1lvdSBuZWVkIHRvIGFkZCBkZXZpY2UnXG4gICAgICAgICkgOiB0aGlzLnJlbmRlckRldmljZUdyb3VwKClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERldmljZUxpc3Q7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgZGV2aWNlczogKDAsIF9zZWxlY3RvcnMuZmlsdGVySXRlbXMpKHN0YXRlKSxcbiAgICBzdGF0dXM6IHN0YXRlLmRldmljZXNMaXN0LnVwbG9hZFN0YXR1cyxcbiAgICBlcnJvclRleHQ6IHN0YXRlLmRldmljZXNMaXN0LmVycm9yVGV4dFxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGNoYW5nZVN0YXR1czogZnVuY3Rpb24gY2hhbmdlU3RhdHVzKGRhdGEsIGlkKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9kZXZpY2VzLnVwZGF0ZURldmljZSkoZGF0YSwgaWQpKTtcbiAgICB9LFxuICAgIGxvYWREZXZpY2VzOiBmdW5jdGlvbiBsb2FkRGV2aWNlcygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2RldmljZXMubG9hZERldmljZXMpKCkpO1xuICAgIH0sXG4gICAgZGVsZXRlRGV2aWNlOiBmdW5jdGlvbiBkZWxldGVEZXZpY2UoaWQpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2RldmljZXMuZGVsZXRlRGV2aWNlKShpZCkpO1xuICAgIH0sXG4gICAgc2VuZE5vdGlmaWNhdGlvbldTOiBmdW5jdGlvbiBzZW5kTm90aWZpY2F0aW9uV1MobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfbm90aWZpY2F0aW9ucy5zZW5kTm90aWZpY2F0aW9uV1MpKG1lc3NhZ2UpKTtcbiAgICB9LFxuICAgIGNsZWFyU3RhdHVzOiBmdW5jdGlvbiBjbGVhclN0YXR1cygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2RldmljZXMuY2xlYXJTdGF0dXMpKCkpO1xuICAgIH1cbiAgfTtcbn07XG5cbkRldmljZUxpc3QucHJvcFR5cGVzID0ge1xuICBtYXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGNoYW5nZVN0YXR1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBkZXZpY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICBmaWx0ZXJBY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZmluZEl0ZW1zOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGxvYWREZXZpY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGRlbGV0ZURldmljZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzdGF0dXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBzZW5kTm90aWZpY2F0aW9uV1M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZXJyb3JUZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY2xlYXJTdGF0dXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShEZXZpY2VMaXN0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcGFnZXMvRGV2aWNlTGlzdC9EZXZpY2VMaXN0LnNjc3NcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc2VsZWN0b3JzL2luZGV4LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZpbHRlckl0ZW1zID0gdW5kZWZpbmVkO1xuXG52YXIgX3Jlc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L2xpYi9pbmRleC5qc1wiKTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy91dGlscy91dGlscy5qc1wiKTtcblxudmFyIGdldEZpbHRlck9wdGlvbiA9IGZ1bmN0aW9uIGdldEZpbHRlck9wdGlvbihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbjtcbn07XG52YXIgZ2V0RGV2aWNlcyA9IGZ1bmN0aW9uIGdldERldmljZXMoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmRldmljZXNMaXN0LmRldmljZXM7XG59O1xudmFyIGdldFNlYXJjaFZhbHVlID0gZnVuY3Rpb24gZ2V0U2VhcmNoVmFsdWUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnNlYXJjaEFuZEZpbHRlci5zZWFyY2hWYWx1ZTtcbn07XG5cbnZhciBmaWx0ZXJJdGVtcyA9IGV4cG9ydHMuZmlsdGVySXRlbXMgPSAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShbZ2V0RmlsdGVyT3B0aW9uLCBnZXRTZWFyY2hWYWx1ZSwgZ2V0RGV2aWNlc10sIGZ1bmN0aW9uIChmaWx0ZXJPcHRpb24sIHNlYXJjaFZhbHVlLCBpdGVtcykge1xuICB2YXIgbmV3QXJyID0gaXRlbXM7XG5cbiAgaWYgKGZpbHRlck9wdGlvbiA9PT0gJ2FsbCcpIHtcbiAgICBuZXdBcnIgPSBpdGVtcztcbiAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvbicpIHtcbiAgICBuZXdBcnIgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnN0YXR1cyA9PT0gdHJ1ZTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvZmYnKSB7XG4gICAgbmV3QXJyID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zdGF0dXMgPT09IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXdBcnIuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbHMuc2VhcmNoSXRlbSkoaXRlbSwgc2VhcmNoVmFsdWUpO1xuICB9KTtcbn0pO1xuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gMi5pbmRleF9idW5kbGUuanMiLCJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjaGFpbigpe1xyXG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXHJcbiAgdmFyIGFyZ3MgPSBbXTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcclxuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cclxuXHJcbiAgYXJncyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uKGZuKXsgcmV0dXJuIGZuICE9IG51bGwgfSlcclxuXHJcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkXHJcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSByZXR1cm4gYXJnc1swXVxyXG5cclxuICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudCwgbmV4dCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xyXG4gICAgICBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgIG5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbiAgfSlcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSByZXF1aXJlKCcuL2hhc0NsYXNzJyk7XG5cbnZhciBfaGFzQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzQ2xhc3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzczIuZGVmYXVsdCkoZWxlbWVudCkpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBoYXNDbGFzcztcbmZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHJldHVybiAhIWNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO2Vsc2UgcmV0dXJuIChcIiBcIiArIGVsZW1lbnQuY2xhc3NOYW1lICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgIT09IC0xO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL3JlbW92ZUNsYXNzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hbmltYXRpb25FbmQgPSBleHBvcnRzLmFuaW1hdGlvbkRlbGF5ID0gZXhwb3J0cy5hbmltYXRpb25UaW1pbmcgPSBleHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gZXhwb3J0cy5hbmltYXRpb25OYW1lID0gZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gZXhwb3J0cy50cmFuc2l0aW9uRHVyYXRpb24gPSBleHBvcnRzLnRyYW5zaXRpb25EZWxheSA9IGV4cG9ydHMudHJhbnNpdGlvblRpbWluZyA9IGV4cG9ydHMudHJhbnNpdGlvblByb3BlcnR5ID0gZXhwb3J0cy50cmFuc2Zvcm0gPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5ET00gPSByZXF1aXJlKCcuLi91dGlsL2luRE9NJyk7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybSc7XG52YXIgcHJlZml4ID0gdm9pZCAwLFxuICAgIHRyYW5zaXRpb25FbmQgPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uRW5kID0gdm9pZCAwO1xudmFyIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSB2b2lkIDAsXG4gICAgdHJhbnNpdGlvblRpbWluZyA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uRGVsYXkgPSB2b2lkIDA7XG52YXIgYW5pbWF0aW9uTmFtZSA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25EdXJhdGlvbiA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25UaW1pbmcgPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uRGVsYXkgPSB2b2lkIDA7XG5cbmlmIChfaW5ET00yLmRlZmF1bHQpIHtcbiAgdmFyIF9nZXRUcmFuc2l0aW9uUHJvcGVydCA9IGdldFRyYW5zaXRpb25Qcm9wZXJ0aWVzKCk7XG5cbiAgcHJlZml4ID0gX2dldFRyYW5zaXRpb25Qcm9wZXJ0LnByZWZpeDtcbiAgZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZCA9IF9nZXRUcmFuc2l0aW9uUHJvcGVydC50cmFuc2l0aW9uRW5kO1xuICBleHBvcnRzLmFuaW1hdGlvbkVuZCA9IGFuaW1hdGlvbkVuZCA9IF9nZXRUcmFuc2l0aW9uUHJvcGVydC5hbmltYXRpb25FbmQ7XG5cblxuICBleHBvcnRzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybSA9IHByZWZpeCArICctJyArIHRyYW5zZm9ybTtcbiAgZXhwb3J0cy50cmFuc2l0aW9uUHJvcGVydHkgPSB0cmFuc2l0aW9uUHJvcGVydHkgPSBwcmVmaXggKyAnLXRyYW5zaXRpb24tcHJvcGVydHknO1xuICBleHBvcnRzLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbiA9IHByZWZpeCArICctdHJhbnNpdGlvbi1kdXJhdGlvbic7XG4gIGV4cG9ydHMudHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5ID0gcHJlZml4ICsgJy10cmFuc2l0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy50cmFuc2l0aW9uVGltaW5nID0gdHJhbnNpdGlvblRpbWluZyA9IHByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nO1xuXG4gIGV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWUgPSBwcmVmaXggKyAnLWFuaW1hdGlvbi1uYW1lJztcbiAgZXhwb3J0cy5hbmltYXRpb25EdXJhdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uID0gcHJlZml4ICsgJy1hbmltYXRpb24tZHVyYXRpb24nO1xuICBleHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZyA9IHByZWZpeCArICctYW5pbWF0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy5hbmltYXRpb25EZWxheSA9IGFuaW1hdGlvbkRlbGF5ID0gcHJlZml4ICsgJy1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJztcbn1cblxuZXhwb3J0cy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5leHBvcnRzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IHRyYW5zaXRpb25Qcm9wZXJ0eTtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWluZyA9IHRyYW5zaXRpb25UaW1pbmc7XG5leHBvcnRzLnRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheTtcbmV4cG9ydHMudHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uO1xuZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZDtcbmV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWU7XG5leHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb247XG5leHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZztcbmV4cG9ydHMuYW5pbWF0aW9uRGVsYXkgPSBhbmltYXRpb25EZWxheTtcbmV4cG9ydHMuYW5pbWF0aW9uRW5kID0gYW5pbWF0aW9uRW5kO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgZW5kOiB0cmFuc2l0aW9uRW5kLFxuICBwcm9wZXJ0eTogdHJhbnNpdGlvblByb3BlcnR5LFxuICB0aW1pbmc6IHRyYW5zaXRpb25UaW1pbmcsXG4gIGRlbGF5OiB0cmFuc2l0aW9uRGVsYXksXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb25cbn07XG5cblxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblByb3BlcnRpZXMoKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuXG4gIHZhciB2ZW5kb3JNYXAgPSB7XG4gICAgTzogZnVuY3Rpb24gTyhlKSB7XG4gICAgICByZXR1cm4gJ28nICsgZS50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG4gICAgTW96OiBmdW5jdGlvbiBNb3ooZSkge1xuICAgICAgcmV0dXJuIGUudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuICAgIFdlYmtpdDogZnVuY3Rpb24gV2Via2l0KGUpIHtcbiAgICAgIHJldHVybiAnd2Via2l0JyArIGU7XG4gICAgfSxcbiAgICBtczogZnVuY3Rpb24gbXMoZSkge1xuICAgICAgcmV0dXJuICdNUycgKyBlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmVuZG9ycyA9IE9iamVjdC5rZXlzKHZlbmRvck1hcCk7XG5cbiAgdmFyIHRyYW5zaXRpb25FbmQgPSB2b2lkIDAsXG4gICAgICBhbmltYXRpb25FbmQgPSB2b2lkIDA7XG4gIHZhciBwcmVmaXggPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmVuZG9yID0gdmVuZG9yc1tpXTtcblxuICAgIGlmICh2ZW5kb3IgKyAnVHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkge1xuICAgICAgcHJlZml4ID0gJy0nICsgdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICB0cmFuc2l0aW9uRW5kID0gdmVuZG9yTWFwW3ZlbmRvcl0oJ1RyYW5zaXRpb25FbmQnKTtcbiAgICAgIGFuaW1hdGlvbkVuZCA9IHZlbmRvck1hcFt2ZW5kb3JdKCdBbmltYXRpb25FbmQnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdHJhbnNpdGlvbkVuZCAmJiAndHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkgdHJhbnNpdGlvbkVuZCA9ICd0cmFuc2l0aW9uZW5kJztcblxuICBpZiAoIWFuaW1hdGlvbkVuZCAmJiAnYW5pbWF0aW9uTmFtZScgaW4gc3R5bGUpIGFuaW1hdGlvbkVuZCA9ICdhbmltYXRpb25lbmQnO1xuXG4gIHN0eWxlID0gbnVsbDtcblxuICByZXR1cm4geyBhbmltYXRpb25FbmQ6IGFuaW1hdGlvbkVuZCwgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCwgcHJlZml4OiBwcmVmaXggfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL3RyYW5zaXRpb24vcHJvcGVydGllcy5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL3V0aWwvaW5ET00uanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW5ET00gPSByZXF1aXJlKCcuL2luRE9NJyk7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdmVuZG9ycyA9IFsnJywgJ3dlYmtpdCcsICdtb3onLCAnbycsICdtcyddO1xudmFyIGNhbmNlbCA9ICdjbGVhclRpbWVvdXQnO1xudmFyIHJhZiA9IGZhbGxiYWNrO1xudmFyIGNvbXBhdFJhZiA9IHZvaWQgMDtcblxudmFyIGdldEtleSA9IGZ1bmN0aW9uIGdldEtleSh2ZW5kb3IsIGspIHtcbiAgcmV0dXJuIHZlbmRvciArICghdmVuZG9yID8gayA6IGtbMF0udG9VcHBlckNhc2UoKSArIGsuc3Vic3RyKDEpKSArICdBbmltYXRpb25GcmFtZSc7XG59O1xuXG5pZiAoX2luRE9NMi5kZWZhdWx0KSB7XG4gIHZlbmRvcnMuc29tZShmdW5jdGlvbiAodmVuZG9yKSB7XG4gICAgdmFyIHJhZktleSA9IGdldEtleSh2ZW5kb3IsICdyZXF1ZXN0Jyk7XG5cbiAgICBpZiAocmFmS2V5IGluIHdpbmRvdykge1xuICAgICAgY2FuY2VsID0gZ2V0S2V5KHZlbmRvciwgJ2NhbmNlbCcpO1xuICAgICAgcmV0dXJuIHJhZiA9IGZ1bmN0aW9uIHJhZihjYikge1xuICAgICAgICByZXR1cm4gd2luZG93W3JhZktleV0oY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L3JhZiAqL1xudmFyIHByZXYgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSksXG4gICAgICByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG5cbiAgcHJldiA9IGN1cnI7XG4gIHJldHVybiByZXE7XG59XG5cbmNvbXBhdFJhZiA9IGZ1bmN0aW9uIGNvbXBhdFJhZihjYikge1xuICByZXR1cm4gcmFmKGNiKTtcbn07XG5jb21wYXRSYWYuY2FuY2VsID0gZnVuY3Rpb24gKGlkKSB7XG4gIHdpbmRvd1tjYW5jZWxdICYmIHR5cGVvZiB3aW5kb3dbY2FuY2VsXSA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3dbY2FuY2VsXShpZCk7XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gY29tcGF0UmFmO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdyZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cCcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gcmVxdWlyZSgnLi9UcmFuc2l0aW9uR3JvdXAnKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IHJlcXVpcmUoJy4vQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZSgnLi91dGlscy9Qcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0cmFuc2l0aW9uTmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICB0cmFuc2l0aW9uQXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25FbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnQXBwZWFyJyksXG4gIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnRW50ZXInKSxcbiAgdHJhbnNpdGlvbkxlYXZlVGltZW91dDogKDAsIF9Qcm9wVHlwZXMudHJhbnNpdGlvblRpbWVvdXQpKCdMZWF2ZScpXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB0cmFuc2l0aW9uQXBwZWFyOiBmYWxzZSxcbiAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICB0cmFuc2l0aW9uTGVhdmU6IHRydWVcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uR3JvdXAoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl93cmFwQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgbmFtZTogX3RoaXMucHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIGFwcGVhcjogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgZW50ZXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgbGVhdmU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25MZWF2ZSxcbiAgICAgICAgYXBwZWFyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQsXG4gICAgICAgIGVudGVyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dCxcbiAgICAgICAgbGVhdmVUaW1lb3V0OiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0XG4gICAgICB9LCBjaGlsZCk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICAvLyBXZSBuZWVkIHRvIHByb3ZpZGUgdGhpcyBjaGlsZEZhY3Rvcnkgc28gdGhhdFxuICAvLyBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkIGNhbiByZWNlaXZlIHVwZGF0ZXMgdG8gbmFtZSwgZW50ZXIsIGFuZFxuICAvLyBsZWF2ZSB3aGlsZSBpdCBpcyBsZWF2aW5nLlxuXG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGNoaWxkRmFjdG9yeTogdGhpcy5fd3JhcENoaWxkIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ0NTU1RyYW5zaXRpb25Hcm91cCc7XG5cblxuQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuQ1NTVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9hZGRDbGFzcyA9IHJlcXVpcmUoJ2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzJyk7XG5cbnZhciBfYWRkQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkQ2xhc3MpO1xuXG52YXIgX3JlbW92ZUNsYXNzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MnKTtcblxudmFyIF9yZW1vdmVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVDbGFzcyk7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcblxudmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcblxudmFyIF9wcm9wZXJ0aWVzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzJyk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL3V0aWxzL1Byb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBldmVudHMgPSBbXTtcbmlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKTtcbmlmIChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIGFkZEVuZExpc3RlbmVyKG5vZGUsIGxpc3RlbmVyKSB7XG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCAwKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICAvLyBPbmNlIHdlIHJlcXVpcmUgdGltZW91dHMgdG8gYmUgc3BlY2lmaWVkLCB3ZSBjYW4gcmVtb3ZlIHRoZVxuICAvLyBib29sZWFuIGZsYWdzIChhcHBlYXIgZXRjLikgYW5kIGp1c3QgYWNjZXB0IGEgbnVtYmVyXG4gIC8vIG9yIGEgYm9vbCBmb3IgdGhlIHRpbWVvdXQgZmxhZ3MgKGFwcGVhclRpbWVvdXQgZXRjLilcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGFwcGVhclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBlbnRlclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsZWF2ZVRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lLCBfdGhpcy5wcm9wcy5hcHBlYXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsRW50ZXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmVudGVyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSwgX3RoaXMucHJvcHMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsTGVhdmUgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSwgX3RoaXMucHJvcHMubGVhdmVUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUgPSBbXTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cyA9IFtdO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihhbmltYXRpb25UeXBlLCBmaW5pc2hDYWxsYmFjaywgdGltZW91dCkge1xuICAgIHZhciBub2RlID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcyk7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZV0gfHwgdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ10gfHwgY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IHZvaWQgMDtcblxuICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5xdWV1ZUNsYXNzQW5kTm9kZShhY3RpdmVDbGFzc05hbWUsIG5vZGUpO1xuXG4gICAgLy8gQ2xlYW4tdXAgdGhlIGFuaW1hdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gICAgdmFyIGZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluaXNoLCB0aW1lb3V0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLnB1c2godGltZXIpO1xuICAgIH0gZWxzZSBpZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzID0gYWRkRW5kTGlzdGVuZXIobm9kZSwgZmluaXNoKTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnF1ZXVlQ2xhc3NBbmROb2RlID0gZnVuY3Rpb24gcXVldWVDbGFzc0FuZE5vZGUoY2xhc3NOYW1lLCBub2RlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5wdXNoKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbm9kZTogbm9kZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnJhZkhhbmRsZSkge1xuICAgICAgdGhpcy5yYWZIYW5kbGUgPSAoMCwgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gZnVuY3Rpb24gZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLnVubW91bnRlZCkge1xuICAgICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAgICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgIG9iai5ub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkob2JqLm5vZGUsIG9iai5jbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5yYWZIYW5kbGUgPSBudWxsO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy5uYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuZGlzcGxheU5hbWUgPSAnQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uID0gcmVxdWlyZSgnY2hhaW4tZnVuY3Rpb24nKTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoYWluRnVuY3Rpb24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9DaGlsZE1hcHBpbmcgPSByZXF1aXJlKCcuL3V0aWxzL0NoaWxkTWFwcGluZycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIGNoaWxkRmFjdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdzcGFuJyxcbiAgY2hpbGRGYWN0b3J5OiBmdW5jdGlvbiBjaGlsZEZhY3RvcnkoY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cbn07XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0aW9uR3JvdXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgX3RoaXMucGVyZm9ybUFwcGVhciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcihfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRBcHBlYXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcigpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGFwcGVhcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1FbnRlciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEVudGVyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIoX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgZW50ZXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgICBfdGhpcy5wZXJmb3JtTGVhdmUoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wZXJmb3JtTGVhdmUgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxMZWF2ZSkge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKF90aGlzLl9oYW5kbGVEb25lTGVhdmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc29tZXdoYXQgZGFuZ2Vyb3VzIGIvYyBpdCBjYWxscyBzZXRTdGF0ZSgpXG4gICAgICAgIC8vIGFnYWluLCBlZmZlY3RpdmVseSBtdXRhdGluZyB0aGUgY29tcG9uZW50IGJlZm9yZSBhbGwgdGhlIHdvcmtcbiAgICAgICAgLy8gaXMgZG9uZS5cbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRMZWF2ZSgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKGN1cnJlbnRDaGlsZE1hcHBpbmcgJiYgY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgZW50ZXJlZCBhZ2FpbiBiZWZvcmUgaXQgZnVsbHkgbGVmdC4gQWRkIGl0IGFnYWluLlxuICAgICAgICBfdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuY2hpbGRyZW4pO1xuICAgICAgICAgIGRlbGV0ZSBuZXdDaGlsZHJlbltrZXldO1xuICAgICAgICAgIHJldHVybiB7IGNoaWxkcmVuOiBuZXdDaGlsZHJlbiB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2hpbGRSZWZzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykocHJvcHMuY2hpbGRyZW4pXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzID0ge307XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGluaXRpYWxDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgIGZvciAodmFyIGtleSBpbiBpbml0aWFsQ2hpbGRNYXBwaW5nKSB7XG4gICAgICBpZiAoaW5pdGlhbENoaWxkTWFwcGluZ1trZXldKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUFwcGVhcihrZXksIHRoaXMuY2hpbGRSZWZzW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBuZXh0Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgIHZhciBwcmV2Q2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLm1lcmdlQ2hpbGRNYXBwaW5ncykocHJldkNoaWxkTWFwcGluZywgbmV4dENoaWxkTWFwcGluZylcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGtleSBpbiBuZXh0Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzUHJldiA9IHByZXZDaGlsZE1hcHBpbmcgJiYgcHJldkNoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKG5leHRDaGlsZE1hcHBpbmdba2V5XSAmJiAhaGFzUHJldiAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rZXkgaW4gcHJldkNoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc05leHQgPSBuZXh0Q2hpbGRNYXBwaW5nICYmIG5leHRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoX2tleSk7XG4gICAgICBpZiAocHJldkNoaWxkTWFwcGluZ1tfa2V5XSAmJiAhaGFzTmV4dCAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1tfa2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0xlYXZlLnB1c2goX2tleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgd2Ugd2FudCB0byBzb21lZGF5IGNoZWNrIGZvciByZW9yZGVyaW5nLCB3ZSBjb3VsZCBkbyBpdCBoZXJlLlxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGtleXNUb0VudGVyID0gdGhpcy5rZXlzVG9FbnRlcjtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAga2V5c1RvRW50ZXIuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnBlcmZvcm1FbnRlcihrZXksIF90aGlzMi5jaGlsZFJlZnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICB2YXIga2V5c1RvTGVhdmUgPSB0aGlzLmtleXNUb0xlYXZlO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgICBrZXlzVG9MZWF2ZS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUxlYXZlKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIC8vIFRPRE86IHdlIGNvdWxkIGdldCByaWQgb2YgdGhlIG5lZWQgZm9yIHRoZSB3cmFwcGVyIG5vZGVcbiAgICAvLyBieSBjbG9uaW5nIGEgc2luZ2xlIGNoaWxkXG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSBbXTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGtleSkge1xuICAgICAgdmFyIGNoaWxkID0gX3RoaXMzLnN0YXRlLmNoaWxkcmVuW2tleV07XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGlzQ2FsbGJhY2tSZWYgPSB0eXBlb2YgY2hpbGQucmVmICE9PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGZhY3RvcnlDaGlsZCA9IF90aGlzMy5wcm9wcy5jaGlsZEZhY3RvcnkoY2hpbGQpO1xuICAgICAgICB2YXIgcmVmID0gZnVuY3Rpb24gcmVmKHIpIHtcbiAgICAgICAgICBfdGhpczMuY2hpbGRSZWZzW2tleV0gPSByO1xuICAgICAgICB9O1xuXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGlzQ2FsbGJhY2tSZWYsICdzdHJpbmcgcmVmcyBhcmUgbm90IHN1cHBvcnRlZCBvbiBjaGlsZHJlbiBvZiBUcmFuc2l0aW9uR3JvdXAgYW5kIHdpbGwgYmUgaWdub3JlZC4gJyArICdQbGVhc2UgdXNlIGEgY2FsbGJhY2sgcmVmIGluc3RlYWQ6IGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmVmcy1hbmQtdGhlLWRvbS5odG1sI3RoZS1yZWYtY2FsbGJhY2stYXR0cmlidXRlJykgOiB2b2lkIDA7XG5cbiAgICAgICAgLy8gQWx3YXlzIGNoYWluaW5nIHRoZSByZWZzIGxlYWRzIHRvIHByb2JsZW1zIHdoZW4gdGhlIGNoaWxkRmFjdG9yeVxuICAgICAgICAvLyB3cmFwcyB0aGUgY2hpbGQuIFRoZSBjaGlsZCByZWYgY2FsbGJhY2sgZ2V0cyBjYWxsZWQgdHdpY2Ugd2l0aCB0aGVcbiAgICAgICAgLy8gd3JhcHBlciBhbmQgdGhlIGNoaWxkLiBTbyB3ZSBvbmx5IG5lZWQgdG8gY2hhaW4gdGhlIHJlZiBpZiB0aGVcbiAgICAgICAgLy8gZmFjdG9yeUNoaWxkIGlzIG5vdCBkaWZmZXJlbnQgZnJvbSBjaGlsZC5cbiAgICAgICAgaWYgKGZhY3RvcnlDaGlsZCA9PT0gY2hpbGQgJiYgaXNDYWxsYmFja1JlZikge1xuICAgICAgICAgIHJlZiA9ICgwLCBfY2hhaW5GdW5jdGlvbjIuZGVmYXVsdCkoY2hpbGQucmVmLCByZWYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWW91IG1heSBuZWVkIHRvIGFwcGx5IHJlYWN0aXZlIHVwZGF0ZXMgdG8gYSBjaGlsZCBhcyBpdCBpcyBsZWF2aW5nLlxuICAgICAgICAvLyBUaGUgbm9ybWFsIFJlYWN0IHdheSB0byBkbyBpdCB3b24ndCB3b3JrIHNpbmNlIHRoZSBjaGlsZCB3aWxsIGhhdmVcbiAgICAgICAgLy8gYWxyZWFkeSBiZWVuIHJlbW92ZWQuIEluIGNhc2UgeW91IG5lZWQgdGhpcyBiZWhhdmlvciB5b3UgY2FuIHByb3ZpZGVcbiAgICAgICAgLy8gYSBjaGlsZEZhY3RvcnkgZnVuY3Rpb24gdG8gd3JhcCBldmVyeSBjaGlsZCwgZXZlbiB0aGUgb25lcyB0aGF0IGFyZVxuICAgICAgICAvLyBsZWF2aW5nLlxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLnB1c2goX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChmYWN0b3J5Q2hpbGQsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICByZWY6IHJlZlxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN0YXRlLmNoaWxkcmVuKSB7XG4gICAgICBfbG9vcChrZXkpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdCBmb3J3YXJkIFRyYW5zaXRpb25Hcm91cCBwcm9wcyB0byBwcmltaXRpdmUgRE9NIG5vZGVzXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTGVhdmU7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uQXBwZWFyO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uRW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkRmFjdG9yeTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuVG9SZW5kZXIpO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uR3JvdXA7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uR3JvdXAuZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbkdyb3VwJztcblxuXG5UcmFuc2l0aW9uR3JvdXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gcHJvcFR5cGVzIDoge307XG5UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2l0aW9uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmc7XG5leHBvcnRzLm1lcmdlQ2hpbGRNYXBwaW5ncyA9IG1lcmdlQ2hpbGRNYXBwaW5ncztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbi8qKlxuICogR2l2ZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gLCByZXR1cm4gYW4gb2JqZWN0IG1hcHBpbmcga2V5IHRvIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Kn0gY2hpbGRyZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gXG4gKiBAcmV0dXJuIHtvYmplY3R9IE1hcHBpbmcgb2Yga2V5IHRvIGNoaWxkXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkTWFwcGluZyhjaGlsZHJlbikge1xuICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgX3JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJlc3VsdFtjaGlsZC5rZXldID0gY2hpbGQ7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICogc2FtZSByZW5kZXIgcGFzcy4gV2Ugd2FudCB0byBzaG93ICpib3RoKiBzaW5jZSB3ZSB3YW50IHRvIHNpbXVsdGFuZW91c2x5XG4gKiBhbmltYXRlIGVsZW1lbnRzIGluIGFuZCBvdXQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBwcmV2aW91cyBzZXQgb2Yga2V5c1xuICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gKiBvcmRlcmluZy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgZXhwb3NlIHNvbWUgb2YgdGhlIHV0aWxpdGllcyBpblxuICogUmVhY3RNdWx0aUNoaWxkIHRvIG1ha2UgdGhpcyBlYXN5LCBidXQgZm9yIG5vdyBSZWFjdCBpdHNlbGYgZG9lcyBub3RcbiAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICogc28gd2UgaW1wbGVtZW50IGl0IGhlcmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0IG5leHQgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IGEga2V5IHNldCB0aGF0IGNvbnRhaW5zIGFsbCBrZXlzIGluIGBwcmV2YCBhbmQgYWxsIGtleXNcbiAqIGluIGBuZXh0YCBpbiBhIHJlYXNvbmFibGUgb3JkZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gbmV4dFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2W2tleV07XG4gIH1cblxuICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cbiAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgdmFyIG5leHRLZXlzUGVuZGluZyA9IHt9O1xuXG4gIHZhciBwZW5kaW5nS2V5cyA9IFtdO1xuICBmb3IgKHZhciBwcmV2S2V5IGluIHByZXYpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShwcmV2S2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaSA9IHZvaWQgMDtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHQpIHtcbiAgICBpZiAobmV4dEtleXNQZW5kaW5nLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dEtleXNQZW5kaW5nW25leHRLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwZW5kaW5nTmV4dEtleSA9IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXTtcbiAgICAgICAgY2hpbGRNYXBwaW5nW25leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nTmV4dEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5XSA9IGdldFZhbHVlRm9yS2V5KG5leHRLZXkpO1xuICB9XG5cbiAgLy8gRmluYWxseSwgYWRkIHRoZSBrZXlzIHdoaWNoIGRpZG4ndCBhcHBlYXIgYmVmb3JlIGFueSBrZXkgaW4gYG5leHRgXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm5hbWVTaGFwZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblRpbWVvdXQodHJhbnNpdGlvblR5cGUpIHtcbiAgdmFyIHRpbWVvdXRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlICsgJ1RpbWVvdXQnO1xuICB2YXIgZW5hYmxlZFByb3BOYW1lID0gJ3RyYW5zaXRpb24nICsgdHJhbnNpdGlvblR5cGU7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIC8vIElmIHRoZSB0cmFuc2l0aW9uIGlzIGVuYWJsZWRcbiAgICBpZiAocHJvcHNbZW5hYmxlZFByb3BOYW1lXSkge1xuICAgICAgLy8gSWYgbm8gdGltZW91dCBkdXJhdGlvbiBpcyBwcm92aWRlZFxuICAgICAgaWYgKHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgd2FzblxcJ3Qgc3VwcGxpZWQgdG8gQ1NTVHJhbnNpdGlvbkdyb3VwOiAnICsgJ3RoaXMgY2FuIGNhdXNlIHVucmVsaWFibGUgYW5pbWF0aW9ucyBhbmQgd29uXFwndCBiZSBzdXBwb3J0ZWQgaW4gJyArICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFJlYWN0LiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWFuaW1hdGlvbi10cmFuc2l0aW9uLWdyb3VwLXRpbWVvdXQgZm9yIG1vcmUgJyArICdpbmZvcm1hdGlvbi4nKTtcblxuICAgICAgICAvLyBJZiB0aGUgZHVyYXRpb24gaXNuJ3QgYSBudW1iZXJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IodGltZW91dFByb3BOYW1lICsgJyBtdXN0IGJlIGEgbnVtYmVyIChpbiBtaWxsaXNlY29uZHMpJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59XG5cbnZhciBuYW1lU2hhcGUgPSBleHBvcnRzLm5hbWVTaGFwZSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59KSwgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZW50ZXJBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSldKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvUHJvcFR5cGVzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0TWVtb2l6ZSA9IGRlZmF1bHRNZW1vaXplO1xuZXhwb3J0cy5jcmVhdGVTZWxlY3RvckNyZWF0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3I7XG5leHBvcnRzLmNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcjtcbmZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIHByZXYsIG5leHQpIHtcbiAgaWYgKHByZXYgPT09IG51bGwgfHwgbmV4dCA9PT0gbnVsbCB8fCBwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICB2YXIgbGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdEVxdWFsaXR5Q2hlY2s7XG5cbiAgdmFyIGxhc3RBcmdzID0gbnVsbDtcbiAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuICAvLyB3ZSByZWZlcmVuY2UgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZW0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKSB7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cbiAgaWYgKCFkZXBlbmRlbmNpZXMuZXZlcnkoZnVuY3Rpb24gKGRlcCkge1xuICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuICB9KSkge1xuICAgIHZhciBkZXBlbmRlbmN5VHlwZXMgPSBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBjcmVhdG9ycyBleHBlY3QgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsICcgKyAoJ2luc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogWycgKyBkZXBlbmRlbmN5VHlwZXMgKyAnXScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihtZW1vaXplKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZW1vaXplT3B0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtZW1vaXplT3B0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgZnVuY3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIHZhciByZXN1bHRGdW5jID0gZnVuY3MucG9wKCk7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IGdldERlcGVuZGVuY2llcyhmdW5jcyk7XG5cbiAgICB2YXIgbWVtb2l6ZWRSZXN1bHRGdW5jID0gbWVtb2l6ZS5hcHBseSh1bmRlZmluZWQsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZWNvbXB1dGF0aW9ucysrO1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiByZXN1bHRGdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cbiAgICAvLyBJZiBhIHNlbGVjdG9yIGlzIGNhbGxlZCB3aXRoIHRoZSBleGFjdCBzYW1lIGFyZ3VtZW50cyB3ZSBkb24ndCBuZWVkIHRvIHRyYXZlcnNlIG91ciBkZXBlbmRlbmNpZXMgYWdhaW4uXG4gICAgdmFyIHNlbGVjdG9yID0gZGVmYXVsdE1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgdmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGFuZCBtdXRhdGUgYSBsb2NhbCBsaXN0IG9mIHBhcmFtcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgIHBhcmFtcy5wdXNoKGRlcGVuZGVuY2llc1tpXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuICAgIHNlbGVjdG9yLnJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zO1xuICAgIH07XG4gICAgc2VsZWN0b3IucmVzZXRSZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH07XG59XG5cbnZhciBjcmVhdGVTZWxlY3RvciA9IGV4cG9ydHMuY3JlYXRlU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoZGVmYXVsdE1lbW9pemUpO1xuXG5mdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGNyZWF0ZVNlbGVjdG9yO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZXNlbGVjdC9saWIvaW5kZXguanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBUb2dnbGVTZXR0aW5ncyBmcm9tICcuLi9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTZXR0aW5ncyc7XHJcbmltcG9ydCAnLi9EZXZpY2VMaXN0SXRlbS5zY3NzJztcclxuXHJcbmNsYXNzIERldmljZUxpc3RJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnNldERldmljZUlkID0gKGUpID0+e1xyXG4gICAgICB0aGlzLnByb3BzLnNldFBvcHVwU2hvd24odGhpcy5wcm9wcy5kYXRhLl9pZCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV2aWNlLWl0ZW1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19pbmZvXCI+XHJcbiAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJkZXZpY2UtaXRlbV9faW5mby1uYW1lXCIgdG89e1xyXG4gICAgICAgICAgICBgL2RldmljZXMvZGV2aWNlLyR7dGhpcy5wcm9wcy5kYXRhLl9pZH1gXHJcbiAgICAgICAgICB9PlxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhLm5hbWV9XHJcbiAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19pbmZvLXN0YXR1c1wiPlxyXG4gICAgICAgICAgICA8VG9nZ2xlU2V0dGluZ3NcclxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmRhdGEuc3RhdHVzfVxyXG4gICAgICAgICAgICAgIGl0ZW1JZD17dGhpcy5wcm9wcy5kYXRhLl9pZH1cclxuICAgICAgICAgICAgICBzZXRJdGVtVmFsdWU9e3RoaXMucHJvcHMuY2hhbmdlU3RhdHVzfS8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvbi1sb2NhdGlvblwiPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxvY2F0aW9ufTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvbi1pY29uXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXZpY2UtaXRlbV9fZGVzY3JpcHRpb24taWNvbi1kZWxldGVcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImZhIGZhLXRyYXNoXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldERldmljZUlkfT5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRldmljZUxpc3RJdGVtLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgc2V0UG9wdXBTaG93bjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9jYXRpb246IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgIHN0YXR1czogUHJvcFR5cGVzLmJvb2xlYW4sXHJcbiAgICBfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgbG9jYXRpb246IFByb3BUeXBlcy5zdHJpbmdcclxuICB9KVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlTGlzdEl0ZW07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9NZXNzYWdlL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUG9wdXAvUG9wdXAnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24nO1xyXG5pbXBvcnQgTGlzdEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlcic7XHJcblxyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuY2xhc3MgRGV2aWNlc1NlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMuZmlsdGVyT3B0aW9uO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImRldmljZS1saXN0XCI+XHJcbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cImRldmljZS1saXN0X190aXRsZVwiPlxyXG4gICAgICAgICAge3RoaXMucHJvcHMubG9jYXRpb25PZkRldmljZXMgP1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uT2ZEZXZpY2VzLnRvVXBwZXJDYXNlKClcclxuICAgICAgICAgICAgOiAnWW91ciBkZXZpY2VzJ31cclxuICAgICAgICA8L2gxPlxyXG4gICAgICAgIDxMaXN0SGVhZGVyXHJcbiAgICAgICAgICBxdWFudGl0eT17dGhpcy5wcm9wcy5xdWFudGl0eX1cclxuICAgICAgICAgIGxvY2F0aW9uPXt0aGlzLnByb3BzLmxvY2F0aW9ufVxyXG4gICAgICAgICAgaGlzdG9yeT17dGhpcy5wcm9wcy5oaXN0b3J5fVxyXG4gICAgICAgICAgbWF0Y2g9e3RoaXMucHJvcHMubWF0Y2h9IC8+XHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiZGV2aWNlLWxpc3RfX2NvbnRlbnRcIj5cclxuICAgICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB9XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDxQb3B1cFxyXG4gICAgICAgICAgc2V0UG9wdXBTaG93bj17dGhpcy5wcm9wcy5zZXRQb3B1cFNob3dufVxyXG4gICAgICAgICAgcG9wdXBTaG93bj17dGhpcy5wcm9wcy5wb3B1cFNob3dufVxyXG4gICAgICAgICAgaGVhZGVyPVwiQ29uZmlybSB0aGUgYWN0aW9uXCJcclxuICAgICAgICAgIHRleHQ9XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSBkZXZpY2U/XCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHNldFBvcHVwU2hvd249e3RoaXMucHJvcHMuc2V0UG9wdXBTaG93bn1cclxuICAgICAgICAgICAgb2tIYW5kbGVyPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVEZXZpY2UodGhpcy5wcm9wcy5jdXJyZW50SWQpO1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0UG9wdXBTaG93bigpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9eydidG4gcG9wdXBfX2J0bid9XHJcbiAgICAgICAgICAgIGlubmVyVGV4dD17J09rJ31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIG9rSGFuZGxlcj17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0UG9wdXBTaG93bigpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLS1kZWZhdWx0IHBvcHVwX19idG4nfVxyXG4gICAgICAgICAgICBpbm5lclRleHQ9eydDYW5jZWwnfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1BvcHVwPlxyXG4gICAgICAgIDxNZXNzYWdlXHJcbiAgICAgICAgICBjbGVhclN0YXR1cz17dGhpcy5wcm9wcy5jbGVhclN0YXR1c31cclxuICAgICAgICAgIGhlYWRlcj17J0Vycm9yJ31cclxuICAgICAgICAvPlxyXG4gICAgICA8L3NlY3Rpb24+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbkRldmljZXNTZWN0aW9uLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9hZERldmljZXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGZpbHRlck9wdGlvbjogUHJvcFR5cGVzLmFueSxcclxuICBmaWx0ZXJBY3Rpb246IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRldmljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcclxuICBoaXN0b3J5OiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIG1hdGNoOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxyXG4gIGNsZWFyU3RhdHVzOiBQcm9wVHlwZXMuZnVuYyxcclxuICBjdXJyZW50SWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2V0UG9wdXBTaG93bjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcG9wdXBTaG93bjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgcXVhbnRpdHk6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgbG9jYXRpb25PZkRldmljZXM6IFByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldmljZXNTZWN0aW9uO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbi5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCAnLi9GaWx0ZXJTZWxlY3Quc2Nzcyc7XHJcblxyXG5jb25zdCBGaWx0ZXJTZWxlY3QgPSAocHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXJCb3hcIj5cclxuICAgICAgPHNlbGVjdFxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZpbHRlckJveF9fZmlsdGVyXCJcclxuICAgICAgICBvbkNoYW5nZT17ZSA9PiBwcm9wcy5oYW5kbGVTZWxlY3QoZS50YXJnZXQudmFsdWUpfT5cclxuICAgICAgICAgIHtwcm9wcy5vcHRpb25zLm1hcChpdGVtID0+XHJcbiAgICAgICAgICAgIDxvcHRpb25cclxuICAgICAgICAgICAgICB2YWx1ZT17IGl0ZW0udmFsdWV9XHJcbiAgICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlfVxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkPXtpdGVtLnZhbHVlID09PSBwcm9wcy52YWx1ZX0+XHJcbiAgICAgICAgICAgICAgICB7aXRlbS5pbm5lclRleHR9XHJcbiAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICApfVxyXG4gICAgICA8L3NlbGVjdD5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5GaWx0ZXJTZWxlY3QucHJvcFR5cGVzID0ge1xyXG4gIGhhbmRsZVNlbGVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZpbHRlclNlbGVjdDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XHJcbmltcG9ydCBGaWx0ZXJTZWxlY3QgZnJvbSAnLi4vRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdCc7XHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vU2VhcmNoL1NlYXJjaCc7XHJcbmltcG9ydCB7XHJcbiAgZmlsdGVyQWN0aW9uLFxyXG4gIHNlYXJjaEFjdGlvbiB9IGZyb20gJy4uLy4uL2FjdGlvbnMvZGV2aWNlcy5hY3Rpb24nO1xyXG5pbXBvcnQgeyBxdWVyeUZyb21PYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICcuLi8uLi9kYXRhL2ZpbHRlck9wdGlvbnMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuY2xhc3MgTGlzdEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLmluaXRpYWxQYXJhbXMgPSB7XHJcbiAgICAgIHNlYXJjaDogJycsXHJcbiAgICAgIGZpbHRlcjogJ2FsbCdcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3QgPSAoZmlsdGVyT3B0aW9uKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbik7XHJcbiAgICAgIHRoaXMudXBkYXRlVXJsKHsgLi4udGhpcy5pbml0aWFsUGFyYW1zLCBmaWx0ZXI6IGZpbHRlck9wdGlvbiB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmhhbmRsZVNlYXJjaFJlc3VsdCA9IChzZWFyY2hWYWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbmRJdGVtcyhzZWFyY2hWYWx1ZSk7XHJcbiAgICAgIHRoaXMudXBkYXRlVXJsKHsgLi4udGhpcy5pbml0aWFsUGFyYW1zLCBzZWFyY2g6IHNlYXJjaFZhbHVlIH0pO1xyXG4gICAgfTtcclxuICAgIHRoaXMudXBkYXRlVXJsID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IHRoaXMucHJvcHMubWF0Y2g7XHJcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSB0aGlzLnByb3BzLmhpc3Rvcnk7XHJcblxyXG4gICAgICB0aGlzLmluaXRpYWxQYXJhbXMgPSBwYXJhbXM7XHJcbiAgICAgIGhpc3RvcnkucHVzaCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IG1hdGNoLnVybCxcclxuICAgICAgICBzZWFyY2g6IHF1ZXJ5RnJvbU9iamVjdChwYXJhbXMpXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLnByb3BzLmxvY2F0aW9uO1xyXG4gICAgY29uc3Qgc2VhcmNoVmFsdWUgPSBxdWVyeVN0cmluZy5wYXJzZShsb2NhdGlvbi5zZWFyY2gpLnNlYXJjaDtcclxuICAgIGNvbnN0IGZpbHRlclZhbHVlID0gcXVlcnlTdHJpbmcucGFyc2UobG9jYXRpb24uc2VhcmNoKS5maWx0ZXI7XHJcblxyXG4gICAgaWYgKHNlYXJjaFZhbHVlKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoUmVzdWx0KHNlYXJjaFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVyVmFsdWUpIHtcclxuICAgICAgdGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3QoZmlsdGVyVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbignYWxsJyk7XHJcbiAgICB0aGlzLnByb3BzLmZpbmRJdGVtcygnJyk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJkZXZpY2UtbGlzdF9faGVhZGVyXCI+XHJcbiAgICAgICAgPFNlYXJjaFxyXG4gICAgICAgICAgaGFuZGxlU2VhcmNoPXt0aGlzLmhhbmRsZVNlYXJjaFJlc3VsdH1cclxuICAgICAgICAgIHF1YW50aXR5PXt0aGlzLnByb3BzLnF1YW50aXR5fVxyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuaW5pdGlhbFBhcmFtcy5zZWFyY2h9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1saXN0X19oZWFkZXItLXJpZ2h0XCI+XHJcbiAgICAgICAgICA8RmlsdGVyU2VsZWN0XHJcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdD17dGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3R9XHJcbiAgICAgICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XHJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLmluaXRpYWxQYXJhbXMuZmlsdGVyfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxMaW5rIHRvPXsnL2J1aWxkZXInfSBjbGFzc05hbWU9XCJidG4gYnRuLS1wcmltYXJ5IGFkZC1pdGVtLWJ1dHRvblwiPlxyXG4gICAgICAgICAgICBOZXdcclxuICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4oe1xyXG4gIGZpbHRlck9wdGlvbjogc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbixcclxuICBzZWFyY2g6IHN0YXRlLnNlYXJjaEFuZEZpbHRlci5zZWFyY2hWYWx1ZVxyXG59KTtcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICBmaWx0ZXJBY3Rpb246IChmaWx0ZXJPcHRpb24pID0+IGRpc3BhdGNoKGZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pKSxcclxuICBmaW5kSXRlbXM6IChzZWFyY2hWYWx1ZSkgPT4gZGlzcGF0Y2goc2VhcmNoQWN0aW9uKHNlYXJjaFZhbHVlKSlcclxufSk7XHJcblxyXG5MaXN0SGVhZGVyLnByb3BUeXBlcyA9IHtcclxuICBzZWFyY2g6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZmlsdGVyT3B0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGZpbHRlckFjdGlvbjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZmluZEl0ZW1zOiBQcm9wVHlwZXMuZnVuYyxcclxuICBtYXRjaDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBoaXN0b3J5OiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvYWREZXZpY2VzOiBQcm9wVHlwZXMuZnVuYyxcclxuICBxdWFudGl0eTogUHJvcFR5cGVzLm51bWJlclxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTGlzdEhlYWRlcik7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlci5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCAnLi9zZWFyY2guc2Nzcyc7XHJcblxyXG5jb25zdCBTZWFyY2ggPSAocHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hCb3hcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hCb3hfX3Jlc3VsdHNcIj5cclxuICAgICAgICA8c3Bhbj57cHJvcHMucXVhbnRpdHl9PC9zcGFuPiBkZXZpY2VzXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgbmFtZT1cInNlYXJjaFwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkZpbmQgYSBkZXZpY2VcIlxyXG4gICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoQm94X19maWVsZFwiXHJcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzLmhhbmRsZVNlYXJjaChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICB9fS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcblNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgaGFuZGxlU2VhcmNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gIHF1YW50aXR5OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgJy4vVG9nZ2xlU3R5bGUuc2Nzcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2dnbGVTZXR0aW5ncyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2VWYWx1ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLnNldEl0ZW1WYWx1ZSghdGhpcy5wcm9wcy5jaGVja2VkLFxyXG4gICAgICB0aGlzLnByb3BzLml0ZW1JZCxcclxuICAgICAgdGhpcy5wcm9wcy5kZXZpY2VJZCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9eyBgJHsgdGhpcy5wcm9wcy5zdHlsZU5hbWUgfWAgfT5cclxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwic3dpdGNoXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5jaGVja2VkfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZVZhbHVlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2xpZGVyIHJvdW5kXCI+PC9kaXY+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVG9nZ2xlU2V0dGluZ3MucHJvcFR5cGVzID0ge1xyXG4gIGRldmljZTogUHJvcFR5cGVzLm9iamVjdCxcclxuICBzdHlsZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY2hlY2tlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuICBzZXRJdGVtVmFsdWU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGl0ZW1JZDogUHJvcFR5cGVzLmFueSxcclxuICBuZXdWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICBkZXZpY2VJZDogUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5Ub2dnbGVTZXR0aW5ncy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgY2hlY2tlZDogZmFsc2VcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanMiLCJleHBvcnQgY29uc3Qgb3B0aW9ucyA9IFtcclxuICB7XHJcbiAgICB2YWx1ZTogJ2FsbCcsXHJcbiAgICBpbm5lclRleHQ6ICdBbGwnXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogJ29uJyxcclxuICAgIGlubmVyVGV4dDogJ1Nob3cgT24nXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogJ29mZicsXHJcbiAgICBpbm5lclRleHQ6ICdTaG93IE9GRidcclxuICB9XHJcbl07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kYXRhL2ZpbHRlck9wdGlvbnMuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBEZXZpY2VMaXN0SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtJztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTWVzc2FnZS9NZXNzYWdlJztcclxuaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1BvcHVwL1BvcHVwJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uJztcclxuaW1wb3J0IExpc3RIZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXInO1xyXG5pbXBvcnQgRGV2aWNlc1NlY3Rpb24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbic7XHJcbmltcG9ydCB7XHJcbiAgbG9hZERldmljZXMsXHJcbiAgY2hhbmdlU3RhdHVzLFxyXG4gIGRlbGV0ZURldmljZSxcclxuICB1cGRhdGVEZXZpY2UsXHJcbiAgY2xlYXJTdGF0dXMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL2RldmljZXMuYWN0aW9uJztcclxuaW1wb3J0IHsgc2VuZE5vdGlmaWNhdGlvbldTIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9ub3RpZmljYXRpb25zLmFjdGlvbic7XHJcbmltcG9ydCB7IGZpbHRlckl0ZW1zIH0gZnJvbSAnLi4vLi4vc2VsZWN0b3JzJztcclxuaW1wb3J0IHsgc29ydERldmljZXNCeUxvY2F0aW9ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwIGZyb20gJ3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cCc7XHJcblxyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgJy4vRGV2aWNlTGlzdC5zY3NzJztcclxuXHJcbmNsYXNzIERldmljZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHBvcHVwU2hvd246IGZhbHNlLFxyXG4gICAgICBjdXJyZW50SWQ6ICcnLFxyXG4gICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgdG9kb3NQZXJQYWdlOiA2XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVsZXRlRGV2aWNlID0gKGlkKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlRGV2aWNlKGlkKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXRQb3B1cFNob3duID0gKGlkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuc3RhdGUucG9wdXBTaG93bjtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHBvcHVwU2hvd246ICFjdXJyZW50U3RhdGUsXHJcbiAgICAgICAgY3VycmVudElkOiBpZFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmNoYW5nZVN0YXR1cyA9IChzdGF0dXMsIGlkKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuY2hhbmdlU3RhdHVzKHsgc3RhdHVzIH0sIGlkKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICB0aGlzLnByb3BzLmxvYWREZXZpY2VzKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJEZXZpY2VzIChsb2NhdGlvbnMsIGxvY2F0aW9uKSB7XHJcbiAgICBjb25zdCBkZXZpY2VzTGlzdCA9IGxvY2F0aW9uc1tsb2NhdGlvbl0ubGVuZ3RoID4gOCA/XHJcbiAgICAgIGxvY2F0aW9uc1tsb2NhdGlvbl0uc2xpY2UoMCwgNykgOlxyXG4gICAgICBsb2NhdGlvbnNbbG9jYXRpb25dO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIGRldmljZXNMaXN0Lm1hcCgoZGV2aWNlLCBpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxEZXZpY2VMaXN0SXRlbVxyXG4gICAgICAgICAgICBkYXRhPXtkZXZpY2V9XHJcbiAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgbG9jYXRpb249eycnfVxyXG4gICAgICAgICAgICBjaGFuZ2VTdGF0dXM9e3RoaXMuY2hhbmdlU3RhdHVzfVxyXG4gICAgICAgICAgICBzZXRQb3B1cFNob3duPXt0aGlzLnNldFBvcHVwU2hvd259Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckRldmljZUdyb3VwICgpIHtcclxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHNvcnREZXZpY2VzQnlMb2NhdGlvbnModGhpcy5wcm9wcy5kZXZpY2VzKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBPYmplY3Qua2V5cyhsb2NhdGlvbnMpLm1hcCgobG9jYXRpb24sIGkpID0+IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXZpY2UtZ3JvdXBcIiBrZXk9e2l9PlxyXG4gICAgICAgICAgICA8aDJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZXZpY2UtZ3JvdXBfX3RpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICB7bG9jYXRpb24udG9VcHBlckNhc2UoKX1cclxuICAgICAgICAgICAgPC9oMj5cclxuICAgICAgICAgICAgPFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGV2aWNlLWdyb3VwX19pdGVtc1wiXHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU9XCJoaWRlXCJcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0PXs1MDB9XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkxlYXZlVGltZW91dD17MzAwfT5cclxuICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJEZXZpY2VzKGxvY2F0aW9ucywgbG9jYXRpb24pfVxyXG4gICAgICAgICAgICAgIHtsb2NhdGlvbnNbbG9jYXRpb25dLmxlbmd0aCA+IDggP1xyXG4gICAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGV2aWNlLWdyb3VwX19saW5rXCJcclxuICAgICAgICAgICAgICAgICAgdG89e2AvZGV2aWNlcy8ke2xvY2F0aW9ufWB9PlxyXG4gICAgICAgICAgICAgICAgICA8aVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZhIGZhLXJlcGVhdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICBNb3JlIGRldmljZXNcclxuICAgICAgICAgICAgICAgIDwvTGluaz4gOiBudWxsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuZmlsdGVyT3B0aW9uO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxEZXZpY2VzU2VjdGlvblxyXG4gICAgICAgIGZpbHRlck9wdGlvbj17ZmlsdGVyT3B0aW9ufVxyXG4gICAgICAgIGRldmljZXM9e3RoaXMucHJvcHMuZGV2aWNlc31cclxuICAgICAgICBsb2NhdGlvbj17dGhpcy5wcm9wcy5sb2NhdGlvbn1cclxuICAgICAgICBoaXN0b3J5PXt0aGlzLnByb3BzLmhpc3Rvcnl9XHJcbiAgICAgICAgbWF0Y2g9e3RoaXMucHJvcHMubWF0Y2h9XHJcbiAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnN0YXR1c31cclxuICAgICAgICB0ZXh0PXt0aGlzLnByb3BzLmVycm9yVGV4dH1cclxuICAgICAgICBzZXRQb3B1cFNob3duPXt0aGlzLnNldFBvcHVwU2hvd259XHJcbiAgICAgICAgcG9wdXBTaG93bj17dGhpcy5zdGF0ZS5wb3B1cFNob3dufVxyXG4gICAgICAgIGRlbGV0ZURldmljZT17dGhpcy5kZWxldGVEZXZpY2V9XHJcbiAgICAgICAgY2xlYXJTdGF0dXM9e3RoaXMucHJvcHMuY2xlYXJTdGF0dXN9XHJcbiAgICAgICAgY3VycmVudElkPXt0aGlzLnN0YXRlLmN1cnJlbnRJZH1cclxuICAgICAgICBxdWFudGl0eT17dGhpcy5wcm9wcy5kZXZpY2VzLmxlbmd0aH0+XHJcblxyXG4gICAgICAgIHsgdGhpcy5wcm9wcy5zdGF0dXMgPT09ICdET05FJyAmJiB0aGlzLnByb3BzLmRldmljZXMubGVuZ3RoID09PSAwID9cclxuICAgICAgICAgIDxzcGFuPllvdSBuZWVkIHRvIGFkZCBkZXZpY2U8L3NwYW4+IDogdGhpcy5yZW5kZXJEZXZpY2VHcm91cCgpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L0RldmljZXNTZWN0aW9uPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+KHtcclxuICBkZXZpY2VzOiBmaWx0ZXJJdGVtcyhzdGF0ZSksXHJcbiAgc3RhdHVzOiBzdGF0ZS5kZXZpY2VzTGlzdC51cGxvYWRTdGF0dXMsXHJcbiAgZXJyb3JUZXh0OiBzdGF0ZS5kZXZpY2VzTGlzdC5lcnJvclRleHRcclxufSk7XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgY2hhbmdlU3RhdHVzOiAoZGF0YSwgaWQpID0+IGRpc3BhdGNoKHVwZGF0ZURldmljZShkYXRhLCBpZCkpLFxyXG4gIGxvYWREZXZpY2VzOiAoKSA9PiBkaXNwYXRjaChsb2FkRGV2aWNlcygpKSxcclxuICBkZWxldGVEZXZpY2U6IChpZCkgPT4gZGlzcGF0Y2goZGVsZXRlRGV2aWNlKGlkKSksXHJcbiAgc2VuZE5vdGlmaWNhdGlvbldTOiAobWVzc2FnZSkgPT4gZGlzcGF0Y2goc2VuZE5vdGlmaWNhdGlvbldTKG1lc3NhZ2UpKSxcclxuICBjbGVhclN0YXR1czogKCkgPT4gZGlzcGF0Y2goY2xlYXJTdGF0dXMoKSlcclxufSk7XHJcblxyXG5EZXZpY2VMaXN0LnByb3BUeXBlcyA9IHtcclxuICBtYXRjaDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRldmljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICBmaWx0ZXJBY3Rpb246IFByb3BUeXBlcy5mdW5jLFxyXG4gIGZpbmRJdGVtczogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9hZERldmljZXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgaGlzdG9yeTogUHJvcFR5cGVzLm9iamVjdCxcclxuICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcclxuICBzdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2VuZE5vdGlmaWNhdGlvbldTOiBQcm9wVHlwZXMuZnVuYyxcclxuICBlcnJvclRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY2xlYXJTdGF0dXM6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShEZXZpY2VMaXN0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5qcyIsImltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xyXG5pbXBvcnQgeyBzZWFyY2hJdGVtIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuY29uc3QgZ2V0RmlsdGVyT3B0aW9uID0gc3RhdGUgPT4gc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbjtcclxuY29uc3QgZ2V0RGV2aWNlcyA9IHN0YXRlID0+IHN0YXRlLmRldmljZXNMaXN0LmRldmljZXM7XHJcbmNvbnN0IGdldFNlYXJjaFZhbHVlID0gc3RhdGUgPT4gc3RhdGUuc2VhcmNoQW5kRmlsdGVyLnNlYXJjaFZhbHVlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpbHRlckl0ZW1zID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAgW2dldEZpbHRlck9wdGlvbiwgZ2V0U2VhcmNoVmFsdWUsIGdldERldmljZXNdLFxyXG4gIChmaWx0ZXJPcHRpb24sIHNlYXJjaFZhbHVlLCBpdGVtcykgPT4ge1xyXG4gICAgbGV0IG5ld0FyciA9IGl0ZW1zO1xyXG5cclxuICAgIGlmIChmaWx0ZXJPcHRpb24gPT09ICdhbGwnKSB7XHJcbiAgICAgIG5ld0FyciA9IGl0ZW1zO1xyXG4gICAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvbicpIHtcclxuICAgICAgbmV3QXJyID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgPT09IHRydWUpO1xyXG4gICAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvZmYnKSB7XHJcbiAgICAgIG5ld0FyciA9IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uc3RhdHVzID09PSBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3QXJyLmZpbHRlcihpdGVtID0+IHNlYXJjaEl0ZW0oaXRlbSwgc2VhcmNoVmFsdWUpKTtcclxuICB9XHJcbik7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZWxlY3RvcnMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9