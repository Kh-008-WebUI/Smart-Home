webpackJsonp([2],{"./node_modules/chain-function/index.js":function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},"./node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n("./node_modules/dom-helpers/class/hasClass.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},"./node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},"./node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},"./node_modules/dom-helpers/transition/properties.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o=n("./node_modules/dom-helpers/util/inDOM.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i="transform",a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,p=void 0,f=void 0,m=void 0,h=void 0,v=void 0;if(r.default){var y=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),o=void 0,r=void 0,i="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){i="-"+s.toLowerCase(),o=t[s]("TransitionEnd"),r=t[s]("AnimationEnd");break}}return!o&&"transitionProperty"in e&&(o="transitionend"),!r&&"animationName"in e&&(r="animationend"),e=null,{animationEnd:r,transitionEnd:o,prefix:i}}();a=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=u=y.animationEnd,t.transform=i=a+"-"+i,t.transitionProperty=l=a+"-transition-property",t.transitionDuration=c=a+"-transition-duration",t.transitionDelay=p=a+"-transition-delay",t.transitionTiming=d=a+"-transition-timing-function",t.animationName=f=a+"-animation-name",t.animationDuration=m=a+"-animation-duration",t.animationTiming=h=a+"-animation-delay",t.animationDelay=v=a+"-animation-timing-function"}t.transform=i,t.transitionProperty=l,t.transitionTiming=d,t.transitionDelay=p,t.transitionDuration=c,t.transitionEnd=s,t.animationName=f,t.animationDuration=m,t.animationTiming=h,t.animationDelay=v,t.animationEnd=u,t.default={transform:i,end:s,property:l,timing:d,delay:p,duration:c}},"./node_modules/dom-helpers/util/inDOM.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},"./node_modules/dom-helpers/util/requestAnimationFrame.js":function(e,t,n){"use strict";function o(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-d)),o=setTimeout(e,n);return d=t,o}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/dom-helpers/util/inDOM.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=["","webkit","moz","o","ms"],s="clearTimeout",u=o,l=void 0,c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&a.some(function(e){var t=c(e,"request");if(t in window)return s=c(e,"cancel"),u=function(e){return window[t](e)}});var d=(new Date).getTime();l=function(e){return u(e)},l.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=l,e.exports=t.default},"./node_modules/react-addons-css-transition-group/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-transition-group/CSSTransitionGroup.js")},"./node_modules/react-transition-group/CSSTransitionGroup.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n("./node_modules/react/react.js"),c=o(l),d=n("./node_modules/prop-types/index.js"),p=o(d),f=n("./node_modules/react-transition-group/TransitionGroup.js"),m=o(f),h=n("./node_modules/react-transition-group/CSSTransitionGroupChild.js"),v=o(h),y=n("./node_modules/react-transition-group/utils/PropTypes.js"),_=(y.nameShape.isRequired,p.default.bool,p.default.bool,p.default.bool,(0,y.transitionTimeout)("Appear"),(0,y.transitionTimeout)("Enter"),(0,y.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),b=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(u))),o._wrapChild=function(e){return c.default.createElement(v.default,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},a=n,i(o,a)}return a(t,e),t.prototype.render=function(){return c.default.createElement(m.default,u({},this.props,{childFactory:this._wrapChild}))},t}(c.default.Component);b.displayName="CSSTransitionGroup",b.propTypes={},b.defaultProps=_,t.default=b,e.exports=t.default},"./node_modules/react-transition-group/CSSTransitionGroupChild.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return w.length?w.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){w.length&&w.forEach(function(n){return e.removeEventListener(n,t,!1)})}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n("./node_modules/dom-helpers/class/addClass.js"),d=o(c),p=n("./node_modules/dom-helpers/class/removeClass.js"),f=o(p),m=n("./node_modules/dom-helpers/util/requestAnimationFrame.js"),h=o(m),v=n("./node_modules/dom-helpers/transition/properties.js"),y=n("./node_modules/react/react.js"),_=o(y),b=n("./node_modules/prop-types/index.js"),g=o(b),j=n("./node_modules/react-dom/index.js"),S=n("./node_modules/react-transition-group/utils/PropTypes.js"),w=[];v.transitionEnd&&w.push(v.transitionEnd),v.animationEnd&&w.push(v.animationEnd);var E=(g.default.node,S.nameShape.isRequired,g.default.bool,g.default.bool,g.default.bool,g.default.number,g.default.number,g.default.number,function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.componentWillAppear=function(e){o.props.appear?o.transition("appear",e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition("enter",e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition("leave",e,o.props.leaveTimeout):e()},a=n,i(o,a)}return a(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,j.findDOMNode)(this);if(!o)return void(t&&t());var r=this.props.name[e]||this.props.name+"-"+e,i=this.props.name[e+"Active"]||r+"-active",a=null,u=void 0;(0,d.default)(o,r),this.queueClassAndNode(i,o);var l=function(e){e&&e.target!==o||(clearTimeout(a),u&&u(),(0,f.default)(o,r),(0,f.default)(o,i),u&&u(),t&&t())};n?(a=setTimeout(l,n),this.transitionTimeouts.push(a)):v.transitionEnd&&(u=s(o,l))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,h.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,d.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,_.default.cloneElement(_.default.Children.only(this.props.children),e)},t}(_.default.Component));E.displayName="CSSTransitionGroupChild",E.propTypes={},t.default=E,e.exports=t.default},"./node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n("./node_modules/chain-function/index.js"),c=o(l),d=n("./node_modules/react/react.js"),p=o(d),f=n("./node_modules/prop-types/index.js"),m=o(f),h=n("./node_modules/warning/browser.js"),v=(o(h),n("./node_modules/react-transition-group/utils/ChildMapping.js")),y=(m.default.any,m.default.func,m.default.node,{component:"span",childFactory:function(e){return e}}),_=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,v.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=u({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,v.getChildMapping)(n.children)},a}return a(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,v.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,v.mergeChildMappings)(n,t)});for(var o in t){var r=n&&n.hasOwnProperty(o);!t[o]||r||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var o=e.state.children[n];if(o){var r="string"!=typeof o.ref,i=e.props.childFactory(o),a=function(t){e.childRefs[n]=t};i===o&&r&&(a=(0,c.default)(o.ref,a)),t.push(p.default.cloneElement(i,{key:n,ref:a}))}}(n);var o=u({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,p.default.createElement(this.props.component,o,t)},t}(p.default.Component);_.displayName="TransitionGroup",_.propTypes={},_.defaultProps=y,t.default=_,e.exports=t.default},"./node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";function o(e){if(!e)return e;var t={};return i.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function r(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(o[i]=r,r=[]):r.push(i);var a=void 0,s={};for(var u in t){if(o.hasOwnProperty(u))for(a=0;a<o[u].length;a++){var l=o[u][a];s[o[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=r;var i=n("./node_modules/react/react.js")},"./node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=r;var i=n("./node_modules/react/react.js"),a=(o(i),n("./node_modules/prop-types/index.js")),s=o(a);t.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},"./node_modules/reselect/lib/index.js":function(e,t,n){"use strict";function o(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,i=null;return function(){return r(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return void 0===e?"undefined":l(e)}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var s=0,u=o.pop(),l=a(o),c=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(n)),d=i(function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)});return d.resultFunc=u,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!==(void 0===e?"undefined":l(e)))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+(void 0===e?"undefined":l(e)));var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=u;var c=t.createSelector=s(i)},"./src/components/DeviceListItem/DeviceListItem.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/react-router-dom/es/index.js"),d=n("./node_modules/prop-types/index.js"),p=o(d),f=n("./src/components/ToggleSettings/ToggleSettings.js"),m=o(f);n("./src/components/DeviceListItem/DeviceListItem.scss");var h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDeviceId=function(e){n.props.setPopupShown(n.props.data._id)},n}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"device-item"},l.default.createElement("div",{className:"device-item__info"},l.default.createElement(c.Link,{className:"device-item__info-name",to:"/devices/device/"+this.props.data._id},this.props.data.name),l.default.createElement("div",{className:"device-item__info-status"},l.default.createElement(m.default,{checked:this.props.data.status,itemId:this.props.data._id,setItemValue:this.props.changeStatus}))),l.default.createElement("div",{className:"device-item__description"},l.default.createElement("div",{className:"device-item__description-location"},this.props.location),l.default.createElement("div",{className:"device-item__description-icon"},l.default.createElement("div",{className:"device-item__description-icon-delete"},l.default.createElement("a",{className:"fa fa-trash",onClick:this.setDeviceId})))))}}]),t}(l.default.Component);h.propTypes={changeStatus:p.default.func,deleteDevice:p.default.func,setPopupShown:p.default.func,location:p.default.string,data:p.default.shape({status:p.default.boolean,_id:p.default.string,name:p.default.string,location:p.default.string})},t.default=h},"./src/components/DeviceListItem/DeviceListItem.scss":function(e,t){},"./src/components/DevisesSection/DevisesSection.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=(n("./node_modules/react-router-dom/es/index.js"),n("./src/components/Message/Message.js")),d=n("./src/components/Popup/Popup.js"),p=n("./src/components/Button/Button.js"),f=n("./src/components/ListHeader/ListHeader.js"),m=o(f),h=n("./node_modules/prop-types/index.js"),v=o(h),y=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.filterOption;return void 0!==t&&this.props.filterAction(t),l.default.createElement("section",{className:"device-list"},l.default.createElement("h1",{className:"device-list__title"},this.props.locationOfDevices?this.props.locationOfDevices.toUpperCase():"Your devices"),l.default.createElement(m.default,{quantity:this.props.quantity,location:this.props.location,history:this.props.history,match:this.props.match}),l.default.createElement("section",{className:"device-list__content"},this.props.children),l.default.createElement(d.Popup,{setPopupShown:this.props.setPopupShown,popupShown:this.props.popupShown,header:"Confirm the action",text:"Are you sure you want to remove the device?"},l.default.createElement(p.Button,{setPopupShown:this.props.setPopupShown,okHandler:function(){e.props.deleteDevice(e.props.currentId),e.props.setPopupShown()},className:"btn popup__btn",innerText:"Ok"}),l.default.createElement(p.Button,{okHandler:function(){e.props.setPopupShown()},className:"btn btn--default popup__btn",innerText:"Cancel"})),l.default.createElement(c.Message,{clearStatus:this.props.clearStatus,header:"Error"}))}}]),t}(l.default.Component);y.propTypes={changeStatus:v.default.func,deleteDevice:v.default.func,loadDevices:v.default.func,filterOption:v.default.any,filterAction:v.default.func,devices:v.default.array,location:v.default.object,history:v.default.object,match:v.default.object,children:v.default.any,clearStatus:v.default.func,currentId:v.default.string,setPopupShown:v.default.func,popupShown:v.default.bool,quantity:v.default.number,locationOfDevices:v.default.string},t.default=y},"./src/components/FilterSelect/FilterSelect.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),i=o(r),a=n("./node_modules/prop-types/index.js"),s=o(a);n("./src/components/FilterSelect/FilterSelect.scss");var u=function(e){return i.default.createElement("div",{className:"filterBox"},i.default.createElement("select",{className:"filterBox__filter",value:e.value||"all",onChange:function(t){return e.handleSelect(t.target.value)}},e.options.map(function(e){return i.default.createElement("option",{value:e.value,key:e.value},e.innerText)})))};u.propTypes={handleSelect:s.default.func.isRequired,options:s.default.array,value:s.default.string},t.default=u},"./src/components/FilterSelect/FilterSelect.scss":function(e,t){},"./src/components/ListHeader/ListHeader.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n("./node_modules/react/react.js"),c=o(l),d=n("./node_modules/react-router-dom/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/query-string/index.js"),m=o(f),h=n("./src/components/FilterSelect/FilterSelect.js"),v=o(h),y=n("./src/components/Search/Search.js"),_=o(y),b=n("./src/actions/devices.action.js"),g=n("./src/utils/utils.js"),j=n("./src/data/filterOptions.js"),S=n("./node_modules/prop-types/index.js"),w=o(S),E=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initialParams={search:"",filter:"all"},n.handleFilterSelect=function(e){n.props.filterAction(e),n.updateUrl(s({},n.initialParams,{filter:e}))},n.handleSearchResult=function(e){n.props.findItems(e),n.updateUrl(s({},n.initialParams,{search:e}))},n.updateUrl=function(e){var t=n.props.match,o=n.props.history;n.initialParams=e,o.push({pathname:t.url,search:(0,g.queryFromObject)(e)})},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=m.default.parse(e.search).search,n=m.default.parse(e.search).filter;t&&this.handleSearchResult(t),n&&this.handleFilterSelect(n)}},{key:"componentWillUnmount",value:function(){this.props.filterAction("all"),this.props.findItems("")}},{key:"render",value:function(){return c.default.createElement("header",{className:"device-list__header"},c.default.createElement(_.default,{handleSearch:this.handleSearchResult,quantity:this.props.quantity,value:this.initialParams.search}),c.default.createElement("div",{className:"device-list__header--right"},c.default.createElement(v.default,{handleSelect:this.handleFilterSelect,options:j.options,value:this.initialParams.filter}),c.default.createElement(d.Link,{to:"/builder",className:"btn btn--primary add-item-button"},"New")))}}]),t}(c.default.Component),T=function(e){return{filterOption:e.searchAndFilter.filterOption,search:e.searchAndFilter.searchValue}},O=function(e){return{filterAction:function(t){return e((0,b.filterAction)(t))},findItems:function(t){return e((0,b.searchAction)(t))}}};E.propTypes={search:w.default.string,filterOption:w.default.string,filterAction:w.default.func,findItems:w.default.func,match:w.default.object,history:w.default.object,location:w.default.object,loadDevices:w.default.func,quantity:w.default.number},t.default=(0,p.connect)(T,O)(E)},"./src/components/Search/Search.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/react.js"),i=o(r),a=n("./node_modules/prop-types/index.js"),s=o(a);n("./src/components/Search/search.scss");var u=function(e){return i.default.createElement("div",{className:"searchBox"},i.default.createElement("div",{className:"searchBox__results"},i.default.createElement("span",null,e.quantity)," devices"),i.default.createElement("div",null,i.default.createElement("input",{type:"text",name:"search",placeholder:"Find a device",value:e.value,className:"searchBox__field",onChange:function(t){e.handleSearch(t.target.value)}})))};u.propTypes={handleSearch:s.default.func.isRequired,quantity:s.default.number,value:s.default.string},t.default=u},"./src/components/Search/search.scss":function(e,t){},"./src/components/ToggleSettings/ToggleSettings.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/prop-types/index.js"),d=o(c);n("./src/components/ToggleSettings/ToggleStyle.scss");var p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeValue=function(e){n.props.setItemValue(!n.props.checked,n.props.itemId,n.props.deviceId)},n}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:""+this.props.styleName},l.default.createElement("label",{className:"switch"},l.default.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.onChangeValue}),l.default.createElement("div",{className:"slider round"})))}}]),t}(l.default.Component);t.default=p,p.propTypes={device:d.default.object,styleName:d.default.string,checked:d.default.bool.isRequired,setItemValue:d.default.func,itemId:d.default.any,newValue:d.default.string,deviceId:d.default.string},p.defaultProps={checked:!1}},"./src/components/ToggleSettings/ToggleStyle.scss":function(e,t){},"./src/data/filterOptions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.options=[{value:"all",innerText:"All"},{value:"on",innerText:"Show On"},{value:"off",innerText:"Show OFF"}]},"./src/pages/DeviceList/DeviceList.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n("./node_modules/react/react.js"),l=o(u),c=n("./node_modules/react-router-dom/es/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/DeviceListItem/DeviceListItem.js"),f=o(p),m=(n("./src/components/Message/Message.js"),n("./src/components/Popup/Popup.js"),n("./src/components/Button/Button.js"),n("./src/components/ListHeader/ListHeader.js")),h=(o(m),n("./src/components/DevisesSection/DevisesSection.js")),v=o(h),y=n("./src/actions/devices.action.js"),_=n("./src/actions/notifications.action.js"),b=n("./src/selectors/index.js"),g=n("./src/utils/utils.js"),j=n("./node_modules/react-addons-css-transition-group/index.js"),S=o(j),w=n("./node_modules/prop-types/index.js"),E=o(w);n("./src/pages/DeviceList/DeviceList.scss");var T=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={popupShown:!1,currentId:"",currentPage:1,todosPerPage:6},n.deleteDevice=function(e){n.props.deleteDevice(e)},n.setPopupShown=function(e){var t=n.state.popupShown;n.setState({popupShown:!t,currentId:e})},n.changeStatus=function(e,t){n.props.changeStatus({status:e},t)},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.loadDevices()}},{key:"renderDevices",value:function(e,t){var n=this;return(e[t].length>8?e[t].slice(0,7):e[t]).map(function(e,t){return l.default.createElement(f.default,{data:e,key:t,location:"",changeStatus:n.changeStatus,setPopupShown:n.setPopupShown})})}},{key:"renderDeviceGroup",value:function(){var e=this,t=(0,g.sortDevicesByLocations)(this.props.devices);return Object.keys(t).map(function(n,o){return l.default.createElement("div",{className:"device-group",key:o},l.default.createElement("h2",{className:"device-group__title"},n.toUpperCase()),l.default.createElement(S.default,{className:"device-group__items",transitionName:"hide",transitionEnterTimeout:500,transitionLeaveTimeout:300},e.renderDevices(t,n),t[n].length>8?l.default.createElement(c.Link,{className:"device-group__link",to:"/devices/"+n},l.default.createElement("i",{className:"fa fa-repeat","aria-hidden":"true"}),"More devices"):null))})}},{key:"render",value:function(){var e=this.props.match.params.filterOption;return void 0!==e&&this.props.filterAction(e),l.default.createElement(v.default,{filterOption:e,devices:this.props.devices,location:this.props.location,history:this.props.history,match:this.props.match,status:this.props.status,text:this.props.errorText,setPopupShown:this.setPopupShown,popupShown:this.state.popupShown,deleteDevice:this.deleteDevice,clearStatus:this.props.clearStatus,currentId:this.state.currentId,quantity:this.props.devices.length},"DONE"===this.props.status&&0===this.props.devices.length?l.default.createElement("span",null,"You need to add device"):this.renderDeviceGroup())}}]),t}(l.default.Component),O=function(e){return{devices:(0,b.filterItems)(e),status:e.devicesList.uploadStatus,errorText:e.devicesList.errorText}},P=function(e){return{changeStatus:function(t,n){return e((0,y.updateDevice)(t,n))},loadDevices:function(){return e((0,y.loadDevices)())},deleteDevice:function(t){return e((0,y.deleteDevice)(t))},sendNotificationWS:function(t){return e((0,_.sendNotificationWS)(t))},clearStatus:function(){return e((0,y.clearStatus)())}}};T.propTypes={match:E.default.object,changeStatus:E.default.func,devices:E.default.array,filterAction:E.default.func,findItems:E.default.func,loadDevices:E.default.func,deleteDevice:E.default.func,history:E.default.object,location:E.default.object,status:E.default.string,sendNotificationWS:E.default.func,errorText:E.default.string,clearStatus:E.default.func},t.default=(0,d.connect)(O,P)(T)},"./src/pages/DeviceList/DeviceList.scss":function(e,t){},"./src/selectors/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterItems=void 0;var o=n("./node_modules/reselect/lib/index.js"),r=n("./src/utils/utils.js"),i=function(e){return e.searchAndFilter.filterOption},a=function(e){return e.devicesList.devices},s=function(e){return e.searchAndFilter.searchValue};t.filterItems=(0,o.createSelector)([i,s,a],function(e,t,n){var o=n;return"all"===e?o=n:"on"===e?o=n.filter(function(e){return!0===e.status}):"off"===e&&(o=n.filter(function(e){return!1===e.status})),o.filter(function(e){return(0,r.searchItem)(e.name,t)})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMi5pbmRleF9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jaGFpbi1mdW5jdGlvbi9pbmRleC5qcz83MDJmIiwid2VicGFjazovLy8uL34vZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MuanM/ZjUzMCIsIndlYnBhY2s6Ly8vLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzPzVlNDAiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qcz80MzE4Iiwid2VicGFjazovLy8uL34vZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzP2JmMmUiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy91dGlsL2luRE9NLmpzP2U1NGEiLCJ3ZWJwYWNrOi8vLy4vfi9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcz81NjViIiwid2VicGFjazovLy8uL34vcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzP2Y4N2MiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qcz82ODZiIiwid2VicGFjazovLy8uL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qcz84NjBjIiwid2VicGFjazovLy8uL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAuanM/NTEyMSIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzPzQ4YTMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qcz85ZDUyIiwid2VicGFjazovLy8uL34vcmVzZWxlY3QvbGliL2luZGV4LmpzPzY0NmIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uanM/OTc0MiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbi5qcz81ZjE5Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0ZpbHRlclNlbGVjdC9GaWx0ZXJTZWxlY3QuanM/NDUyZSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanM/YWU5YiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TZWFyY2gvU2VhcmNoLmpzP2RhM2YiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanM/NjIxZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvZmlsdGVyT3B0aW9ucy5qcz85NjZkIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9EZXZpY2VMaXN0L0RldmljZUxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlbGVjdG9ycy9pbmRleC5qcz8yMjcxIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIi4vbm9kZV9tb2R1bGVzL2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJsZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiaSIsImZpbHRlciIsImZuIiwicmVkdWNlIiwiY3VycmVudCIsIm5leHQiLCJhcHBseSIsInRoaXMiLCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9hZGRDbGFzcy5qcyIsImFkZENsYXNzIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsIl9oYXNDbGFzczIiLCJkZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9oYXNDbGFzcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qcyIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJpbmRleE9mIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MuanMiLCJyZW1vdmUiLCJyZXBsYWNlIiwiUmVnRXhwIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzIiwiYW5pbWF0aW9uRW5kIiwiYW5pbWF0aW9uRGVsYXkiLCJhbmltYXRpb25UaW1pbmciLCJhbmltYXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbk5hbWUiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkRlbGF5IiwidHJhbnNpdGlvblRpbWluZyIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsInRyYW5zZm9ybSIsInVuZGVmaW5lZCIsIl9pbkRPTSIsIl9pbkRPTTIiLCJwcmVmaXgiLCJfZ2V0VHJhbnNpdGlvblByb3BlcnQiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInZlbmRvck1hcCIsIk8iLCJlIiwidG9Mb3dlckNhc2UiLCJNb3oiLCJXZWJraXQiLCJtcyIsInZlbmRvcnMiLCJrZXlzIiwidmVuZG9yIiwiZW5kIiwicHJvcGVydHkiLCJ0aW1pbmciLCJkZWxheSIsImR1cmF0aW9uIiwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9pbkRPTS5qcyIsIndpbmRvdyIsIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwiZmFsbGJhY2siLCJjdXJyIiwiRGF0ZSIsImdldFRpbWUiLCJNYXRoIiwibWF4IiwicHJldiIsInJlcSIsInNldFRpbWVvdXQiLCJjYW5jZWwiLCJyYWYiLCJjb21wYXRSYWYiLCJnZXRLZXkiLCJrIiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJzb21lIiwicmFmS2V5IiwiY2IiLCJpZCIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cC9pbmRleC5qcyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwLmpzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfdHlwZW9mIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJfVHJhbnNpdGlvbkdyb3VwIiwiX1RyYW5zaXRpb25Hcm91cDIiLCJfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQiLCJfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyIiwiX1Byb3BUeXBlcyIsImRlZmF1bHRQcm9wcyIsIm5hbWVTaGFwZSIsImlzUmVxdWlyZWQiLCJib29sIiwidHJhbnNpdGlvblRpbWVvdXQiLCJ0cmFuc2l0aW9uQXBwZWFyIiwidHJhbnNpdGlvbkVudGVyIiwidHJhbnNpdGlvbkxlYXZlIiwiQ1NTVHJhbnNpdGlvbkdyb3VwIiwiX1JlYWN0JENvbXBvbmVudCIsIl90ZW1wIiwiX3RoaXMiLCJfcmV0IiwiX2xlbiIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsIl93cmFwQ2hpbGQiLCJjaGlsZCIsIm5hbWUiLCJwcm9wcyIsInRyYW5zaXRpb25OYW1lIiwiYXBwZWFyIiwiZW50ZXIiLCJsZWF2ZSIsImFwcGVhclRpbWVvdXQiLCJ0cmFuc2l0aW9uQXBwZWFyVGltZW91dCIsImVudGVyVGltZW91dCIsInRyYW5zaXRpb25FbnRlclRpbWVvdXQiLCJsZWF2ZVRpbWVvdXQiLCJ0cmFuc2l0aW9uTGVhdmVUaW1lb3V0IiwicmVuZGVyIiwiY2hpbGRGYWN0b3J5IiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cENoaWxkLmpzIiwiYWRkRW5kTGlzdGVuZXIiLCJub2RlIiwibGlzdGVuZXIiLCJldmVudHMiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYWRkQ2xhc3MiLCJfYWRkQ2xhc3MyIiwiX3JlbW92ZUNsYXNzIiwiX3JlbW92ZUNsYXNzMiIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lMiIsIl9wcm9wZXJ0aWVzIiwiX3JlYWN0RG9tIiwicHVzaCIsIkNTU1RyYW5zaXRpb25Hcm91cENoaWxkIiwibnVtYmVyIiwiY29tcG9uZW50V2lsbEFwcGVhciIsImRvbmUiLCJ0cmFuc2l0aW9uIiwiY29tcG9uZW50V2lsbEVudGVyIiwiY29tcG9uZW50V2lsbExlYXZlIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY2xhc3NOYW1lQW5kTm9kZVF1ZXVlIiwidHJhbnNpdGlvblRpbWVvdXRzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bm1vdW50ZWQiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiYW5pbWF0aW9uVHlwZSIsImZpbmlzaENhbGxiYWNrIiwiZmluZERPTU5vZGUiLCJhY3RpdmVDbGFzc05hbWUiLCJ0aW1lciIsInJlbW92ZUxpc3RlbmVycyIsInF1ZXVlQ2xhc3NBbmROb2RlIiwiZmluaXNoIiwiX3RoaXMyIiwicmFmSGFuZGxlIiwiZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUiLCJzY3JvbGxUb3AiLCJjaGlsZHJlbiIsImNsb25lRWxlbWVudCIsIkNoaWxkcmVuIiwib25seSIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzIiwiX2NoYWluRnVuY3Rpb24iLCJfY2hhaW5GdW5jdGlvbjIiLCJfd2FybmluZyIsIl9DaGlsZE1hcHBpbmciLCJhbnkiLCJmdW5jIiwiY29tcG9uZW50IiwiVHJhbnNpdGlvbkdyb3VwIiwiY29udGV4dCIsInBlcmZvcm1BcHBlYXIiLCJjdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5cyIsIl9oYW5kbGVEb25lQXBwZWFyaW5nIiwiYmluZCIsImNvbXBvbmVudERpZEFwcGVhciIsImN1cnJlbnRDaGlsZE1hcHBpbmciLCJnZXRDaGlsZE1hcHBpbmciLCJwZXJmb3JtTGVhdmUiLCJwZXJmb3JtRW50ZXIiLCJfaGFuZGxlRG9uZUVudGVyaW5nIiwiY29tcG9uZW50RGlkRW50ZXIiLCJfaGFuZGxlRG9uZUxlYXZpbmciLCJjb21wb25lbnREaWRMZWF2ZSIsImtleXNUb0VudGVyIiwic2V0U3RhdGUiLCJzdGF0ZSIsIm5ld0NoaWxkcmVuIiwiY2hpbGRSZWZzIiwia2V5c1RvTGVhdmUiLCJjb21wb25lbnREaWRNb3VudCIsImluaXRpYWxDaGlsZE1hcHBpbmciLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwibmV4dENoaWxkTWFwcGluZyIsInByZXZDaGlsZE1hcHBpbmciLCJtZXJnZUNoaWxkTWFwcGluZ3MiLCJoYXNQcmV2IiwiaGFzTmV4dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl90aGlzMyIsImNoaWxkcmVuVG9SZW5kZXIiLCJpc0NhbGxiYWNrUmVmIiwicmVmIiwiZmFjdG9yeUNoaWxkIiwiciIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvQ2hpbGRNYXBwaW5nLmpzIiwicmVzdWx0IiwibWFwIiwiZ2V0VmFsdWVGb3JLZXkiLCJuZXh0S2V5c1BlbmRpbmciLCJwZW5kaW5nS2V5cyIsInByZXZLZXkiLCJjaGlsZE1hcHBpbmciLCJuZXh0S2V5IiwicGVuZGluZ05leHRLZXkiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qcyIsInRyYW5zaXRpb25UeXBlIiwidGltZW91dFByb3BOYW1lIiwiZW5hYmxlZFByb3BOYW1lIiwiRXJyb3IiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJzaGFwZSIsImFjdGl2ZSIsImVudGVyQWN0aXZlIiwibGVhdmVBY3RpdmUiLCJhcHBlYXJBY3RpdmUiLCIuL25vZGVfbW9kdWxlcy9yZXNlbGVjdC9saWIvaW5kZXguanMiLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImEiLCJiIiwiYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwiLCJlcXVhbGl0eUNoZWNrIiwiZGVmYXVsdE1lbW9pemUiLCJsYXN0QXJncyIsImxhc3RSZXN1bHQiLCJnZXREZXBlbmRlbmNpZXMiLCJmdW5jcyIsImRlcGVuZGVuY2llcyIsImlzQXJyYXkiLCJldmVyeSIsImRlcCIsImRlcGVuZGVuY3lUeXBlcyIsImpvaW4iLCJjcmVhdGVTZWxlY3RvckNyZWF0b3IiLCJtZW1vaXplIiwibWVtb2l6ZU9wdGlvbnMiLCJfbGVuMiIsIl9rZXkyIiwicmVjb21wdXRhdGlvbnMiLCJyZXN1bHRGdW5jIiwicG9wIiwibWVtb2l6ZWRSZXN1bHRGdW5jIiwic2VsZWN0b3IiLCJwYXJhbXMiLCJyZXNldFJlY29tcHV0YXRpb25zIiwiY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIiwic2VsZWN0b3JzIiwic2VsZWN0b3JDcmVhdG9yIiwiY3JlYXRlU2VsZWN0b3IiLCJvYmplY3RLZXlzIiwiX2xlbjMiLCJ2YWx1ZXMiLCJfa2V5MyIsImNvbXBvc2l0aW9uIiwiaW5kZXgiLCIuL3NyYy9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtLmpzIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3RSb3V0ZXJEb20iLCJfVG9nZ2xlU2V0dGluZ3MiLCJfVG9nZ2xlU2V0dGluZ3MyIiwiRGV2aWNlTGlzdEl0ZW0iLCJnZXRQcm90b3R5cGVPZiIsInNldERldmljZUlkIiwic2V0UG9wdXBTaG93biIsImRhdGEiLCJfaWQiLCJMaW5rIiwidG8iLCJjaGVja2VkIiwic3RhdHVzIiwiaXRlbUlkIiwic2V0SXRlbVZhbHVlIiwiY2hhbmdlU3RhdHVzIiwibG9jYXRpb24iLCJvbkNsaWNrIiwiZGVsZXRlRGV2aWNlIiwiYm9vbGVhbiIsIi4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uc2NzcyIsIi4vc3JjL2NvbXBvbmVudHMvRGV2aXNlc1NlY3Rpb24vRGV2aXNlc1NlY3Rpb24uanMiLCJfTWVzc2FnZSIsIl9Qb3B1cCIsIl9CdXR0b24iLCJfTGlzdEhlYWRlciIsIl9MaXN0SGVhZGVyMiIsIkRldmljZXNTZWN0aW9uIiwiZmlsdGVyT3B0aW9uIiwiZmlsdGVyQWN0aW9uIiwibG9jYXRpb25PZkRldmljZXMiLCJxdWFudGl0eSIsImhpc3RvcnkiLCJtYXRjaCIsIlBvcHVwIiwicG9wdXBTaG93biIsImhlYWRlciIsInRleHQiLCJCdXR0b24iLCJva0hhbmRsZXIiLCJjdXJyZW50SWQiLCJpbm5lclRleHQiLCJNZXNzYWdlIiwiY2xlYXJTdGF0dXMiLCJsb2FkRGV2aWNlcyIsImRldmljZXMiLCJhcnJheSIsIm9iamVjdCIsIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qcyIsIkZpbHRlclNlbGVjdCIsIm9uQ2hhbmdlIiwiaGFuZGxlU2VsZWN0Iiwib3B0aW9ucyIsIml0ZW0iLCIuL3NyYy9jb21wb25lbnRzL0ZpbHRlclNlbGVjdC9GaWx0ZXJTZWxlY3Quc2NzcyIsIi4vc3JjL2NvbXBvbmVudHMvTGlzdEhlYWRlci9MaXN0SGVhZGVyLmpzIiwiX3JlYWN0UmVkdXgiLCJfcXVlcnlTdHJpbmciLCJfcXVlcnlTdHJpbmcyIiwiX0ZpbHRlclNlbGVjdCIsIl9GaWx0ZXJTZWxlY3QyIiwiX1NlYXJjaCIsIl9TZWFyY2gyIiwiX2RldmljZXMiLCJfdXRpbHMiLCJfZmlsdGVyT3B0aW9ucyIsIkxpc3RIZWFkZXIiLCJpbml0aWFsUGFyYW1zIiwic2VhcmNoIiwiaGFuZGxlRmlsdGVyU2VsZWN0IiwidXBkYXRlVXJsIiwiaGFuZGxlU2VhcmNoUmVzdWx0Iiwic2VhcmNoVmFsdWUiLCJmaW5kSXRlbXMiLCJwYXRobmFtZSIsInVybCIsInF1ZXJ5RnJvbU9iamVjdCIsInBhcnNlIiwiZmlsdGVyVmFsdWUiLCJoYW5kbGVTZWFyY2giLCJtYXBTdGF0ZVRvUHJvcHMiLCJzZWFyY2hBbmRGaWx0ZXIiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJkaXNwYXRjaCIsInNlYXJjaEFjdGlvbiIsImNvbm5lY3QiLCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanMiLCJTZWFyY2giLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9zZWFyY2guc2NzcyIsIi4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanMiLCJUb2dnbGVTZXR0aW5ncyIsIm9uQ2hhbmdlVmFsdWUiLCJkZXZpY2VJZCIsInN0eWxlTmFtZSIsImRldmljZSIsIm5ld1ZhbHVlIiwiLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTdHlsZS5zY3NzIiwiLi9zcmMvZGF0YS9maWx0ZXJPcHRpb25zLmpzIiwiLi9zcmMvcGFnZXMvRGV2aWNlTGlzdC9EZXZpY2VMaXN0LmpzIiwiX0RldmljZUxpc3RJdGVtIiwiX0RldmljZUxpc3RJdGVtMiIsIl9EZXZpc2VzU2VjdGlvbiIsIl9EZXZpc2VzU2VjdGlvbjIiLCJfbm90aWZpY2F0aW9ucyIsIl9zZWxlY3RvcnMiLCJfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAiLCJfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAyIiwiRGV2aWNlTGlzdCIsImN1cnJlbnRQYWdlIiwidG9kb3NQZXJQYWdlIiwiY3VycmVudFN0YXRlIiwibG9jYXRpb25zIiwic2xpY2UiLCJzb3J0RGV2aWNlc0J5TG9jYXRpb25zIiwicmVuZGVyRGV2aWNlcyIsImFyaWEtaGlkZGVuIiwiZXJyb3JUZXh0IiwicmVuZGVyRGV2aWNlR3JvdXAiLCJmaWx0ZXJJdGVtcyIsImRldmljZXNMaXN0IiwidXBsb2FkU3RhdHVzIiwidXBkYXRlRGV2aWNlIiwic2VuZE5vdGlmaWNhdGlvbldTIiwibWVzc2FnZSIsIi4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5zY3NzIiwiLi9zcmMvc2VsZWN0b3JzL2luZGV4LmpzIiwiX3Jlc2VsZWN0IiwiZ2V0RmlsdGVyT3B0aW9uIiwiZ2V0RGV2aWNlcyIsImdldFNlYXJjaFZhbHVlIiwiaXRlbXMiLCJuZXdBcnIiLCJzZWFyY2hJdGVtIl0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyx5Q0FDQSxTQUFVQyxFQUFRQyxFQUFTQyxHQUVqQyxZQ0pBRixHQUFPQyxRQUFVLFdBSWYsSUFBSyxHQUhERSxHQUFNQyxVQUFVQyxPQUNoQkMsS0FFS0MsRUFBSSxFQUFHQSxFQUFJSixFQUFLSSxJQUN2QkQsRUFBS0MsR0FBS0gsVUFBVUcsRUFJdEIsSUFGQUQsRUFBT0EsRUFBS0UsT0FBTyxTQUFTQyxHQUFLLE1BQWEsT0FBTkEsSUFFcEIsSUFBaEJILEVBQUtELE9BQ1QsTUFBb0IsS0FBaEJDLEVBQUtELE9BQXFCQyxFQUFLLEdBRTVCQSxFQUFLSSxPQUFPLFNBQVNDLEVBQVNDLEdBQ25DLE1BQU8sWUFDTEQsRUFBUUUsTUFBTUMsS0FBTVYsV0FDcEJRLEVBQUtDLE1BQU1DLEtBQU1WLGdCRGVqQlcsK0NBQ0EsU0FBVWYsRUFBUUMsRUFBU0MsR0FFakMsWUVyQkEsU0FBU2MsR0FB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QUNpQixPQUFqQnhHLEVBQ1R5RyxFQUFTRCxFQUFNdGMsT0FBTyxTQUFBdVgsR0FBQSxPQUF3QixJQUFoQkEsRUFBS3pDLFNBQ1QsUUFBakJnQixJQUNUeUcsRUFBU0QsRUFBTXRjLE9BQU8sU0FBQXVYLEdBQUEsT0FBd0IsSUFBaEJBLEVBQUt6QyxVQUU5QnlILEVBQU92YyxPQUFPLFNBQUF1WCxHQUFBLE9BQVEsRUFBQVcsRUFBQXNFLFlBQVdqRixFQUFLck8sS0FBTXdQIiwiZmlsZSI6IjIuaW5kZXhfYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFsyXSx7XG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY2hhaW4tZnVuY3Rpb24vaW5kZXguanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjaGFpbigpIHtcbiAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBhcmdzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gIH1hcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIGZuICE9IG51bGw7XG4gIH0pO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSByZXR1cm4gYXJnc1swXTtcblxuICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGN1cnJlbnQsIG5leHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgICAgY3VycmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgbmV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvY2xhc3MvYWRkQ2xhc3MuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFkZENsYXNzO1xuXG52YXIgX2hhc0NsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzXCIpO1xuXG52YXIgX2hhc0NsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc0NsYXNzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO2Vsc2UgaWYgKCEoMCwgX2hhc0NsYXNzMi5kZWZhdWx0KShlbGVtZW50KSkgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9oYXNDbGFzcy5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaGFzQ2xhc3M7XG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gISFjbGFzc05hbWUgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtlbHNlIHJldHVybiAoXCIgXCIgKyBlbGVtZW50LmNsYXNzTmFtZSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpICE9PSAtMTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL3JlbW92ZUNsYXNzLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzTmFtZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy90cmFuc2l0aW9uL3Byb3BlcnRpZXMuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYW5pbWF0aW9uRW5kID0gZXhwb3J0cy5hbmltYXRpb25EZWxheSA9IGV4cG9ydHMuYW5pbWF0aW9uVGltaW5nID0gZXhwb3J0cy5hbmltYXRpb25EdXJhdGlvbiA9IGV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGV4cG9ydHMudHJhbnNpdGlvbkVuZCA9IGV4cG9ydHMudHJhbnNpdGlvbkR1cmF0aW9uID0gZXhwb3J0cy50cmFuc2l0aW9uRGVsYXkgPSBleHBvcnRzLnRyYW5zaXRpb25UaW1pbmcgPSBleHBvcnRzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IGV4cG9ydHMudHJhbnNmb3JtID0gdW5kZWZpbmVkO1xuXG52YXIgX2luRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvaW5ET00uanNcIik7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxudmFyIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm0nO1xudmFyIHByZWZpeCA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uRW5kID0gdm9pZCAwLFxuICAgIGFuaW1hdGlvbkVuZCA9IHZvaWQgMDtcbnZhciB0cmFuc2l0aW9uUHJvcGVydHkgPSB2b2lkIDAsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdm9pZCAwLFxuICAgIHRyYW5zaXRpb25UaW1pbmcgPSB2b2lkIDAsXG4gICAgdHJhbnNpdGlvbkRlbGF5ID0gdm9pZCAwO1xudmFyIGFuaW1hdGlvbk5hbWUgPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uRHVyYXRpb24gPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uVGltaW5nID0gdm9pZCAwLFxuICAgIGFuaW1hdGlvbkRlbGF5ID0gdm9pZCAwO1xuXG5pZiAoX2luRE9NMi5kZWZhdWx0KSB7XG4gIHZhciBfZ2V0VHJhbnNpdGlvblByb3BlcnQgPSBnZXRUcmFuc2l0aW9uUHJvcGVydGllcygpO1xuXG4gIHByZWZpeCA9IF9nZXRUcmFuc2l0aW9uUHJvcGVydC5wcmVmaXg7XG4gIGV4cG9ydHMudHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25FbmQgPSBfZ2V0VHJhbnNpdGlvblByb3BlcnQudHJhbnNpdGlvbkVuZDtcbiAgZXhwb3J0cy5hbmltYXRpb25FbmQgPSBhbmltYXRpb25FbmQgPSBfZ2V0VHJhbnNpdGlvblByb3BlcnQuYW5pbWF0aW9uRW5kO1xuXG4gIGV4cG9ydHMudHJhbnNmb3JtID0gdHJhbnNmb3JtID0gcHJlZml4ICsgJy0nICsgdHJhbnNmb3JtO1xuICBleHBvcnRzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHByZWZpeCArICctdHJhbnNpdGlvbi1wcm9wZXJ0eSc7XG4gIGV4cG9ydHMudHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uID0gcHJlZml4ICsgJy10cmFuc2l0aW9uLWR1cmF0aW9uJztcbiAgZXhwb3J0cy50cmFuc2l0aW9uRGVsYXkgPSB0cmFuc2l0aW9uRGVsYXkgPSBwcmVmaXggKyAnLXRyYW5zaXRpb24tZGVsYXknO1xuICBleHBvcnRzLnRyYW5zaXRpb25UaW1pbmcgPSB0cmFuc2l0aW9uVGltaW5nID0gcHJlZml4ICsgJy10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbic7XG5cbiAgZXhwb3J0cy5hbmltYXRpb25OYW1lID0gYW5pbWF0aW9uTmFtZSA9IHByZWZpeCArICctYW5pbWF0aW9uLW5hbWUnO1xuICBleHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb24gPSBwcmVmaXggKyAnLWFuaW1hdGlvbi1kdXJhdGlvbic7XG4gIGV4cG9ydHMuYW5pbWF0aW9uVGltaW5nID0gYW5pbWF0aW9uVGltaW5nID0gcHJlZml4ICsgJy1hbmltYXRpb24tZGVsYXknO1xuICBleHBvcnRzLmFuaW1hdGlvbkRlbGF5ID0gYW5pbWF0aW9uRGVsYXkgPSBwcmVmaXggKyAnLWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nO1xufVxuXG5leHBvcnRzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbmV4cG9ydHMudHJhbnNpdGlvblByb3BlcnR5ID0gdHJhbnNpdGlvblByb3BlcnR5O1xuZXhwb3J0cy50cmFuc2l0aW9uVGltaW5nID0gdHJhbnNpdGlvblRpbWluZztcbmV4cG9ydHMudHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5O1xuZXhwb3J0cy50cmFuc2l0aW9uRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb247XG5leHBvcnRzLnRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kO1xuZXhwb3J0cy5hbmltYXRpb25OYW1lID0gYW5pbWF0aW9uTmFtZTtcbmV4cG9ydHMuYW5pbWF0aW9uRHVyYXRpb24gPSBhbmltYXRpb25EdXJhdGlvbjtcbmV4cG9ydHMuYW5pbWF0aW9uVGltaW5nID0gYW5pbWF0aW9uVGltaW5nO1xuZXhwb3J0cy5hbmltYXRpb25EZWxheSA9IGFuaW1hdGlvbkRlbGF5O1xuZXhwb3J0cy5hbmltYXRpb25FbmQgPSBhbmltYXRpb25FbmQ7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICBlbmQ6IHRyYW5zaXRpb25FbmQsXG4gIHByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcGVydHksXG4gIHRpbWluZzogdHJhbnNpdGlvblRpbWluZyxcbiAgZGVsYXk6IHRyYW5zaXRpb25EZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvblxufTtcblxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblByb3BlcnRpZXMoKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuXG4gIHZhciB2ZW5kb3JNYXAgPSB7XG4gICAgTzogZnVuY3Rpb24gTyhlKSB7XG4gICAgICByZXR1cm4gJ28nICsgZS50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG4gICAgTW96OiBmdW5jdGlvbiBNb3ooZSkge1xuICAgICAgcmV0dXJuIGUudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuICAgIFdlYmtpdDogZnVuY3Rpb24gV2Via2l0KGUpIHtcbiAgICAgIHJldHVybiAnd2Via2l0JyArIGU7XG4gICAgfSxcbiAgICBtczogZnVuY3Rpb24gbXMoZSkge1xuICAgICAgcmV0dXJuICdNUycgKyBlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmVuZG9ycyA9IE9iamVjdC5rZXlzKHZlbmRvck1hcCk7XG5cbiAgdmFyIHRyYW5zaXRpb25FbmQgPSB2b2lkIDAsXG4gICAgICBhbmltYXRpb25FbmQgPSB2b2lkIDA7XG4gIHZhciBwcmVmaXggPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmVuZG9yID0gdmVuZG9yc1tpXTtcblxuICAgIGlmICh2ZW5kb3IgKyAnVHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkge1xuICAgICAgcHJlZml4ID0gJy0nICsgdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICB0cmFuc2l0aW9uRW5kID0gdmVuZG9yTWFwW3ZlbmRvcl0oJ1RyYW5zaXRpb25FbmQnKTtcbiAgICAgIGFuaW1hdGlvbkVuZCA9IHZlbmRvck1hcFt2ZW5kb3JdKCdBbmltYXRpb25FbmQnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdHJhbnNpdGlvbkVuZCAmJiAndHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkgdHJhbnNpdGlvbkVuZCA9ICd0cmFuc2l0aW9uZW5kJztcblxuICBpZiAoIWFuaW1hdGlvbkVuZCAmJiAnYW5pbWF0aW9uTmFtZScgaW4gc3R5bGUpIGFuaW1hdGlvbkVuZCA9ICdhbmltYXRpb25lbmQnO1xuXG4gIHN0eWxlID0gbnVsbDtcblxuICByZXR1cm4geyBhbmltYXRpb25FbmQ6IGFuaW1hdGlvbkVuZCwgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCwgcHJlZml4OiBwcmVmaXggfTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9pbkRPTS5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2luRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvaW5ET00uanNcIik7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxudmFyIHZlbmRvcnMgPSBbJycsICd3ZWJraXQnLCAnbW96JywgJ28nLCAnbXMnXTtcbnZhciBjYW5jZWwgPSAnY2xlYXJUaW1lb3V0JztcbnZhciByYWYgPSBmYWxsYmFjaztcbnZhciBjb21wYXRSYWYgPSB2b2lkIDA7XG5cbnZhciBnZXRLZXkgPSBmdW5jdGlvbiBnZXRLZXkodmVuZG9yLCBrKSB7XG4gIHJldHVybiB2ZW5kb3IgKyAoIXZlbmRvciA/IGsgOiBrWzBdLnRvVXBwZXJDYXNlKCkgKyBrLnN1YnN0cigxKSkgKyAnQW5pbWF0aW9uRnJhbWUnO1xufTtcblxuaWYgKF9pbkRPTTIuZGVmYXVsdCkge1xuICB2ZW5kb3JzLnNvbWUoZnVuY3Rpb24gKHZlbmRvcikge1xuICAgIHZhciByYWZLZXkgPSBnZXRLZXkodmVuZG9yLCAncmVxdWVzdCcpO1xuXG4gICAgaWYgKHJhZktleSBpbiB3aW5kb3cpIHtcbiAgICAgIGNhbmNlbCA9IGdldEtleSh2ZW5kb3IsICdjYW5jZWwnKTtcbiAgICAgIHJldHVybiByYWYgPSBmdW5jdGlvbiByYWYoY2IpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd1tyYWZLZXldKGNiKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuLyogaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvbmVudC9yYWYgKi9cbnZhciBwcmV2ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5mdW5jdGlvbiBmYWxsYmFjayhmbikge1xuICB2YXIgY3VyciA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgbXMgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyIC0gcHJldikpLFxuICAgICAgcmVxID0gc2V0VGltZW91dChmbiwgbXMpO1xuXG4gIHByZXYgPSBjdXJyO1xuICByZXR1cm4gcmVxO1xufVxuXG5jb21wYXRSYWYgPSBmdW5jdGlvbiBjb21wYXRSYWYoY2IpIHtcbiAgcmV0dXJuIHJhZihjYik7XG59O1xuY29tcGF0UmFmLmNhbmNlbCA9IGZ1bmN0aW9uIChpZCkge1xuICB3aW5kb3dbY2FuY2VsXSAmJiB0eXBlb2Ygd2luZG93W2NhbmNlbF0gPT09ICdmdW5jdGlvbicgJiYgd2luZG93W2NhbmNlbF0oaWQpO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbXBhdFJhZjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXAuanNcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvQ1NTVHJhbnNpdGlvbkdyb3VwLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfXJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uR3JvdXAuanNcIik7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zaXRpb25Hcm91cCk7XG5cbnZhciBfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qc1wiKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbnZhciBfUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvUHJvcFR5cGVzLmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1yZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3VwZXJDbGFzcykpKTtcbiAgfXN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7aWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0cmFuc2l0aW9uTmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICB0cmFuc2l0aW9uQXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25FbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnQXBwZWFyJyksXG4gIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnRW50ZXInKSxcbiAgdHJhbnNpdGlvbkxlYXZlVGltZW91dDogKDAsIF9Qcm9wVHlwZXMudHJhbnNpdGlvblRpbWVvdXQpKCdMZWF2ZScpXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB0cmFuc2l0aW9uQXBwZWFyOiBmYWxzZSxcbiAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICB0cmFuc2l0aW9uTGVhdmU6IHRydWVcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uR3JvdXAoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl93cmFwQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgbmFtZTogX3RoaXMucHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIGFwcGVhcjogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgZW50ZXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgbGVhdmU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25MZWF2ZSxcbiAgICAgICAgYXBwZWFyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQsXG4gICAgICAgIGVudGVyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dCxcbiAgICAgICAgbGVhdmVUaW1lb3V0OiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0XG4gICAgICB9LCBjaGlsZCk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICAvLyBXZSBuZWVkIHRvIHByb3ZpZGUgdGhpcyBjaGlsZEZhY3Rvcnkgc28gdGhhdFxuICAvLyBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkIGNhbiByZWNlaXZlIHVwZGF0ZXMgdG8gbmFtZSwgZW50ZXIsIGFuZFxuICAvLyBsZWF2ZSB3aGlsZSBpdCBpcyBsZWF2aW5nLlxuXG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGNoaWxkRmFjdG9yeTogdGhpcy5fd3JhcENoaWxkIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ0NTU1RyYW5zaXRpb25Hcm91cCc7XG5cbkNTU1RyYW5zaXRpb25Hcm91cC5wcm9wVHlwZXMgPSAgZmFsc2UgPyBwcm9wVHlwZXMgOiB7fTtcbkNTU1RyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cENoaWxkLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfXJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgX2FkZENsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzXCIpO1xuXG52YXIgX2FkZENsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZENsYXNzKTtcblxudmFyIF9yZW1vdmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9kb20taGVscGVycy9jbGFzcy9yZW1vdmVDbGFzcy5qc1wiKTtcblxudmFyIF9yZW1vdmVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVDbGFzcyk7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2RvbS1oZWxwZXJzL3V0aWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXCIpO1xuXG52YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuXG52YXIgX3Byb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzLmpzXCIpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanNcIik7XG5cbnZhciBfUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvUHJvcFR5cGVzLmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1yZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3VwZXJDbGFzcykpKTtcbiAgfXN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7aWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgZXZlbnRzID0gW107XG5pZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkgZXZlbnRzLnB1c2goX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCk7XG5pZiAoX3Byb3BlcnRpZXMuYW5pbWF0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpO1xuXG5mdW5jdGlvbiBhZGRFbmRMaXN0ZW5lcihub2RlLCBsaXN0ZW5lcikge1xuICBpZiAoZXZlbnRzLmxlbmd0aCkge1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gbm9kZS5hZGRFdmVudExpc3RlbmVyKGUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2V0VGltZW91dChsaXN0ZW5lciwgMCk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghZXZlbnRzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSk7XG4gIH07XG59XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIG5hbWU6IF9Qcm9wVHlwZXMubmFtZVNoYXBlLmlzUmVxdWlyZWQsXG5cbiAgLy8gT25jZSB3ZSByZXF1aXJlIHRpbWVvdXRzIHRvIGJlIHNwZWNpZmllZCwgd2UgY2FuIHJlbW92ZSB0aGVcbiAgLy8gYm9vbGVhbiBmbGFncyAoYXBwZWFyIGV0Yy4pIGFuZCBqdXN0IGFjY2VwdCBhIG51bWJlclxuICAvLyBvciBhIGJvb2wgZm9yIHRoZSB0aW1lb3V0IGZsYWdzIChhcHBlYXJUaW1lb3V0IGV0Yy4pXG4gIGFwcGVhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBlbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBsZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBhcHBlYXJUaW1lb3V0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgZW50ZXJUaW1lb3V0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgbGVhdmVUaW1lb3V0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlclxufTtcblxudmFyIENTU1RyYW5zaXRpb25Hcm91cENoaWxkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTU1RyYW5zaXRpb25Hcm91cENoaWxkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCgpIHtcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5jb21wb25lbnRXaWxsQXBwZWFyID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5hcHBlYXIpIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbignYXBwZWFyJywgZG9uZSwgX3RoaXMucHJvcHMuYXBwZWFyVGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuY29tcG9uZW50V2lsbEVudGVyID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5lbnRlcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdlbnRlcicsIGRvbmUsIF90aGlzLnByb3BzLmVudGVyVGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuY29tcG9uZW50V2lsbExlYXZlID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5sZWF2ZSkge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdsZWF2ZScsIGRvbmUsIF90aGlzLnByb3BzLmxlYXZlVGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gW107XG4gICAgdGhpcy50cmFuc2l0aW9uVGltZW91dHMgPSBbXTtcbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVubW91bnRlZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICB9XG4gICAgdGhpcy50cmFuc2l0aW9uVGltZW91dHMuZm9yRWFjaChmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUubGVuZ3RoID0gMDtcbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUudHJhbnNpdGlvbiA9IGZ1bmN0aW9uIHRyYW5zaXRpb24oYW5pbWF0aW9uVHlwZSwgZmluaXNoQ2FsbGJhY2ssIHRpbWVvdXQpIHtcbiAgICB2YXIgbm9kZSA9ICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMpO1xuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBpZiAoZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgICAgZmluaXNoQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGVdIHx8IHRoaXMucHJvcHMubmFtZSArICctJyArIGFuaW1hdGlvblR5cGU7XG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHRoaXMucHJvcHMubmFtZVthbmltYXRpb25UeXBlICsgJ0FjdGl2ZSddIHx8IGNsYXNzTmFtZSArICctYWN0aXZlJztcbiAgICB2YXIgdGltZXIgPSBudWxsO1xuICAgIHZhciByZW1vdmVMaXN0ZW5lcnMgPSB2b2lkIDA7XG5cbiAgICAoMCwgX2FkZENsYXNzMi5kZWZhdWx0KShub2RlLCBjbGFzc05hbWUpO1xuXG4gICAgLy8gTmVlZCB0byBkbyB0aGlzIHRvIGFjdHVhbGx5IHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxuICAgIHRoaXMucXVldWVDbGFzc0FuZE5vZGUoYWN0aXZlQ2xhc3NOYW1lLCBub2RlKTtcblxuICAgIC8vIENsZWFuLXVwIHRoZSBhbmltYXRpb24gYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheVxuICAgIHZhciBmaW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goZSkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgaWYgKHJlbW92ZUxpc3RlbmVycykgcmVtb3ZlTGlzdGVuZXJzKCk7XG5cbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgICAoMCwgX3JlbW92ZUNsYXNzMi5kZWZhdWx0KShub2RlLCBhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgLy8gVXN1YWxseSB0aGlzIG9wdGlvbmFsIGNhbGxiYWNrIGlzIHVzZWQgZm9yIGluZm9ybWluZyBhbiBvd25lciBvZlxuICAgICAgLy8gYSBsZWF2ZSBhbmltYXRpb24gYW5kIHRlbGxpbmcgaXQgdG8gcmVtb3ZlIHRoZSBjaGlsZC5cbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGltZW91dCkge1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpbmlzaCwgdGltZW91dCk7XG4gICAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5wdXNoKHRpbWVyKTtcbiAgICB9IGVsc2UgaWYgKF9wcm9wZXJ0aWVzLnRyYW5zaXRpb25FbmQpIHtcbiAgICAgIHJlbW92ZUxpc3RlbmVycyA9IGFkZEVuZExpc3RlbmVyKG5vZGUsIGZpbmlzaCk7XG4gICAgfVxuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5xdWV1ZUNsYXNzQW5kTm9kZSA9IGZ1bmN0aW9uIHF1ZXVlQ2xhc3NBbmROb2RlKGNsYXNzTmFtZSwgbm9kZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUucHVzaCh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG5vZGU6IG5vZGVcbiAgICB9KTtcblxuICAgIGlmICghdGhpcy5yYWZIYW5kbGUpIHtcbiAgICAgIHRoaXMucmFmSGFuZGxlID0gKDAsIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyLmRlZmF1bHQpKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5mbHVzaENsYXNzTmFtZUFuZE5vZGVRdWV1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5mbHVzaENsYXNzTmFtZUFuZE5vZGVRdWV1ZSA9IGZ1bmN0aW9uIGZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCkge1xuICAgIGlmICghdGhpcy51bm1vdW50ZWQpIHtcbiAgICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAvLyBUaGlzIGlzIGZvciB0byBmb3JjZSBhIHJlcGFpbnQsXG4gICAgICAgIC8vIHdoaWNoIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byB0cmFuc2l0aW9uIHN0eWxlcyB3aGVuIGFkZGluZyBhIGNsYXNzIG5hbWUuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgICAgICBvYmoubm9kZS5zY3JvbGxUb3A7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG9iai5ub2RlLCBvYmouY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICAgIHRoaXMucmFmSGFuZGxlID0gbnVsbDtcbiAgfTtcblxuICBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBkZWxldGUgcHJvcHMubmFtZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyO1xuICAgIGRlbGV0ZSBwcm9wcy5lbnRlcjtcbiAgICBkZWxldGUgcHJvcHMubGVhdmU7XG4gICAgZGVsZXRlIHByb3BzLmFwcGVhclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMubGVhdmVUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5jaGlsZHJlbjtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKSwgcHJvcHMpO1xuICB9O1xuXG4gIHJldHVybiBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLmRpc3BsYXlOYW1lID0gJ0NTU1RyYW5zaXRpb25Hcm91cENoaWxkJztcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfXJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgX2NoYWluRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvY2hhaW4tZnVuY3Rpb24vaW5kZXguanNcIik7XG5cbnZhciBfY2hhaW5GdW5jdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGFpbkZ1bmN0aW9uKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanNcIik7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9DaGlsZE1hcHBpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfXJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzdXBlckNsYXNzKSkpO1xuICB9c3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTtpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIGNoaWxkRmFjdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdzcGFuJyxcbiAgY2hpbGRGYWN0b3J5OiBmdW5jdGlvbiBjaGlsZEZhY3RvcnkoY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cbn07XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0aW9uR3JvdXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgX3RoaXMucGVyZm9ybUFwcGVhciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcihfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRBcHBlYXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcigpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGFwcGVhcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1FbnRlciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEVudGVyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIoX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgZW50ZXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgICBfdGhpcy5wZXJmb3JtTGVhdmUoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wZXJmb3JtTGVhdmUgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxMZWF2ZSkge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKF90aGlzLl9oYW5kbGVEb25lTGVhdmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc29tZXdoYXQgZGFuZ2Vyb3VzIGIvYyBpdCBjYWxscyBzZXRTdGF0ZSgpXG4gICAgICAgIC8vIGFnYWluLCBlZmZlY3RpdmVseSBtdXRhdGluZyB0aGUgY29tcG9uZW50IGJlZm9yZSBhbGwgdGhlIHdvcmtcbiAgICAgICAgLy8gaXMgZG9uZS5cbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRMZWF2ZSgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKGN1cnJlbnRDaGlsZE1hcHBpbmcgJiYgY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgZW50ZXJlZCBhZ2FpbiBiZWZvcmUgaXQgZnVsbHkgbGVmdC4gQWRkIGl0IGFnYWluLlxuICAgICAgICBfdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuY2hpbGRyZW4pO1xuICAgICAgICAgIGRlbGV0ZSBuZXdDaGlsZHJlbltrZXldO1xuICAgICAgICAgIHJldHVybiB7IGNoaWxkcmVuOiBuZXdDaGlsZHJlbiB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2hpbGRSZWZzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykocHJvcHMuY2hpbGRyZW4pXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzID0ge307XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGluaXRpYWxDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgIGZvciAodmFyIGtleSBpbiBpbml0aWFsQ2hpbGRNYXBwaW5nKSB7XG4gICAgICBpZiAoaW5pdGlhbENoaWxkTWFwcGluZ1trZXldKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUFwcGVhcihrZXksIHRoaXMuY2hpbGRSZWZzW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBuZXh0Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgIHZhciBwcmV2Q2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLm1lcmdlQ2hpbGRNYXBwaW5ncykocHJldkNoaWxkTWFwcGluZywgbmV4dENoaWxkTWFwcGluZylcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGtleSBpbiBuZXh0Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzUHJldiA9IHByZXZDaGlsZE1hcHBpbmcgJiYgcHJldkNoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKG5leHRDaGlsZE1hcHBpbmdba2V5XSAmJiAhaGFzUHJldiAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rZXkgaW4gcHJldkNoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc05leHQgPSBuZXh0Q2hpbGRNYXBwaW5nICYmIG5leHRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoX2tleSk7XG4gICAgICBpZiAocHJldkNoaWxkTWFwcGluZ1tfa2V5XSAmJiAhaGFzTmV4dCAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1tfa2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0xlYXZlLnB1c2goX2tleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgd2Ugd2FudCB0byBzb21lZGF5IGNoZWNrIGZvciByZW9yZGVyaW5nLCB3ZSBjb3VsZCBkbyBpdCBoZXJlLlxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGtleXNUb0VudGVyID0gdGhpcy5rZXlzVG9FbnRlcjtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAga2V5c1RvRW50ZXIuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnBlcmZvcm1FbnRlcihrZXksIF90aGlzMi5jaGlsZFJlZnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICB2YXIga2V5c1RvTGVhdmUgPSB0aGlzLmtleXNUb0xlYXZlO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgICBrZXlzVG9MZWF2ZS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUxlYXZlKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIC8vIFRPRE86IHdlIGNvdWxkIGdldCByaWQgb2YgdGhlIG5lZWQgZm9yIHRoZSB3cmFwcGVyIG5vZGVcbiAgICAvLyBieSBjbG9uaW5nIGEgc2luZ2xlIGNoaWxkXG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSBbXTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGtleSkge1xuICAgICAgdmFyIGNoaWxkID0gX3RoaXMzLnN0YXRlLmNoaWxkcmVuW2tleV07XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGlzQ2FsbGJhY2tSZWYgPSB0eXBlb2YgY2hpbGQucmVmICE9PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGZhY3RvcnlDaGlsZCA9IF90aGlzMy5wcm9wcy5jaGlsZEZhY3RvcnkoY2hpbGQpO1xuICAgICAgICB2YXIgcmVmID0gZnVuY3Rpb24gcmVmKHIpIHtcbiAgICAgICAgICBfdGhpczMuY2hpbGRSZWZzW2tleV0gPSByO1xuICAgICAgICB9O1xuXG4gICAgICAgICBmYWxzZSA/ICgwLCBfd2FybmluZzIuZGVmYXVsdCkoaXNDYWxsYmFja1JlZiwgJ3N0cmluZyByZWZzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIGNoaWxkcmVuIG9mIFRyYW5zaXRpb25Hcm91cCBhbmQgd2lsbCBiZSBpZ25vcmVkLiAnICsgJ1BsZWFzZSB1c2UgYSBjYWxsYmFjayByZWYgaW5zdGVhZDogaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwjdGhlLXJlZi1jYWxsYmFjay1hdHRyaWJ1dGUnKSA6IHZvaWQgMDtcblxuICAgICAgICAvLyBBbHdheXMgY2hhaW5pbmcgdGhlIHJlZnMgbGVhZHMgdG8gcHJvYmxlbXMgd2hlbiB0aGUgY2hpbGRGYWN0b3J5XG4gICAgICAgIC8vIHdyYXBzIHRoZSBjaGlsZC4gVGhlIGNoaWxkIHJlZiBjYWxsYmFjayBnZXRzIGNhbGxlZCB0d2ljZSB3aXRoIHRoZVxuICAgICAgICAvLyB3cmFwcGVyIGFuZCB0aGUgY2hpbGQuIFNvIHdlIG9ubHkgbmVlZCB0byBjaGFpbiB0aGUgcmVmIGlmIHRoZVxuICAgICAgICAvLyBmYWN0b3J5Q2hpbGQgaXMgbm90IGRpZmZlcmVudCBmcm9tIGNoaWxkLlxuICAgICAgICBpZiAoZmFjdG9yeUNoaWxkID09PSBjaGlsZCAmJiBpc0NhbGxiYWNrUmVmKSB7XG4gICAgICAgICAgcmVmID0gKDAsIF9jaGFpbkZ1bmN0aW9uMi5kZWZhdWx0KShjaGlsZC5yZWYsIHJlZik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBZb3UgbWF5IG5lZWQgdG8gYXBwbHkgcmVhY3RpdmUgdXBkYXRlcyB0byBhIGNoaWxkIGFzIGl0IGlzIGxlYXZpbmcuXG4gICAgICAgIC8vIFRoZSBub3JtYWwgUmVhY3Qgd2F5IHRvIGRvIGl0IHdvbid0IHdvcmsgc2luY2UgdGhlIGNoaWxkIHdpbGwgaGF2ZVxuICAgICAgICAvLyBhbHJlYWR5IGJlZW4gcmVtb3ZlZC4gSW4gY2FzZSB5b3UgbmVlZCB0aGlzIGJlaGF2aW9yIHlvdSBjYW4gcHJvdmlkZVxuICAgICAgICAvLyBhIGNoaWxkRmFjdG9yeSBmdW5jdGlvbiB0byB3cmFwIGV2ZXJ5IGNoaWxkLCBldmVuIHRoZSBvbmVzIHRoYXQgYXJlXG4gICAgICAgIC8vIGxlYXZpbmcuXG4gICAgICAgIGNoaWxkcmVuVG9SZW5kZXIucHVzaChfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGZhY3RvcnlDaGlsZCwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHJlZjogcmVmXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuc3RhdGUuY2hpbGRyZW4pIHtcbiAgICAgIF9sb29wKGtleSk7XG4gICAgfVxuXG4gICAgLy8gRG8gbm90IGZvcndhcmQgVHJhbnNpdGlvbkdyb3VwIHByb3BzIHRvIHByaW1pdGl2ZSBET00gbm9kZXNcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25MZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25BcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25FbnRlcjtcbiAgICBkZWxldGUgcHJvcHMuY2hpbGRGYWN0b3J5O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uRW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uQXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuY29tcG9uZW50O1xuXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuY29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zaXRpb25Hcm91cDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb25Hcm91cC5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uR3JvdXAnO1xuXG5UcmFuc2l0aW9uR3JvdXAucHJvcFR5cGVzID0gIGZhbHNlID8gcHJvcFR5cGVzIDoge307XG5UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2l0aW9uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nO1xuZXhwb3J0cy5tZXJnZUNoaWxkTWFwcGluZ3MgPSBtZXJnZUNoaWxkTWFwcGluZ3M7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbi8qKlxuICogR2l2ZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gLCByZXR1cm4gYW4gb2JqZWN0IG1hcHBpbmcga2V5IHRvIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Kn0gY2hpbGRyZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gXG4gKiBAcmV0dXJuIHtvYmplY3R9IE1hcHBpbmcgb2Yga2V5IHRvIGNoaWxkXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkTWFwcGluZyhjaGlsZHJlbikge1xuICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgX3JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJlc3VsdFtjaGlsZC5rZXldID0gY2hpbGQ7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICogc2FtZSByZW5kZXIgcGFzcy4gV2Ugd2FudCB0byBzaG93ICpib3RoKiBzaW5jZSB3ZSB3YW50IHRvIHNpbXVsdGFuZW91c2x5XG4gKiBhbmltYXRlIGVsZW1lbnRzIGluIGFuZCBvdXQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBwcmV2aW91cyBzZXQgb2Yga2V5c1xuICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gKiBvcmRlcmluZy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgZXhwb3NlIHNvbWUgb2YgdGhlIHV0aWxpdGllcyBpblxuICogUmVhY3RNdWx0aUNoaWxkIHRvIG1ha2UgdGhpcyBlYXN5LCBidXQgZm9yIG5vdyBSZWFjdCBpdHNlbGYgZG9lcyBub3RcbiAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICogc28gd2UgaW1wbGVtZW50IGl0IGhlcmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0IG5leHQgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IGEga2V5IHNldCB0aGF0IGNvbnRhaW5zIGFsbCBrZXlzIGluIGBwcmV2YCBhbmQgYWxsIGtleXNcbiAqIGluIGBuZXh0YCBpbiBhIHJlYXNvbmFibGUgb3JkZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gbmV4dFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2W2tleV07XG4gIH1cblxuICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cbiAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgdmFyIG5leHRLZXlzUGVuZGluZyA9IHt9O1xuXG4gIHZhciBwZW5kaW5nS2V5cyA9IFtdO1xuICBmb3IgKHZhciBwcmV2S2V5IGluIHByZXYpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShwcmV2S2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaSA9IHZvaWQgMDtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHQpIHtcbiAgICBpZiAobmV4dEtleXNQZW5kaW5nLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dEtleXNQZW5kaW5nW25leHRLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwZW5kaW5nTmV4dEtleSA9IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXTtcbiAgICAgICAgY2hpbGRNYXBwaW5nW25leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nTmV4dEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5XSA9IGdldFZhbHVlRm9yS2V5KG5leHRLZXkpO1xuICB9XG5cbiAgLy8gRmluYWxseSwgYWRkIHRoZSBrZXlzIHdoaWNoIGRpZG4ndCBhcHBlYXIgYmVmb3JlIGFueSBrZXkgaW4gYG5leHRgXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL3V0aWxzL1Byb3BUeXBlcy5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5uYW1lU2hhcGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnRyYW5zaXRpb25UaW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblRpbWVvdXQodHJhbnNpdGlvblR5cGUpIHtcbiAgdmFyIHRpbWVvdXRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlICsgJ1RpbWVvdXQnO1xuICB2YXIgZW5hYmxlZFByb3BOYW1lID0gJ3RyYW5zaXRpb24nICsgdHJhbnNpdGlvblR5cGU7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIC8vIElmIHRoZSB0cmFuc2l0aW9uIGlzIGVuYWJsZWRcbiAgICBpZiAocHJvcHNbZW5hYmxlZFByb3BOYW1lXSkge1xuICAgICAgLy8gSWYgbm8gdGltZW91dCBkdXJhdGlvbiBpcyBwcm92aWRlZFxuICAgICAgaWYgKHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgd2FzblxcJ3Qgc3VwcGxpZWQgdG8gQ1NTVHJhbnNpdGlvbkdyb3VwOiAnICsgJ3RoaXMgY2FuIGNhdXNlIHVucmVsaWFibGUgYW5pbWF0aW9ucyBhbmQgd29uXFwndCBiZSBzdXBwb3J0ZWQgaW4gJyArICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFJlYWN0LiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWFuaW1hdGlvbi10cmFuc2l0aW9uLWdyb3VwLXRpbWVvdXQgZm9yIG1vcmUgJyArICdpbmZvcm1hdGlvbi4nKTtcblxuICAgICAgICAvLyBJZiB0aGUgZHVyYXRpb24gaXNuJ3QgYSBudW1iZXJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IodGltZW91dFByb3BOYW1lICsgJyBtdXN0IGJlIGEgbnVtYmVyIChpbiBtaWxsaXNlY29uZHMpJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59XG5cbnZhciBuYW1lU2hhcGUgPSBleHBvcnRzLm5hbWVTaGFwZSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59KSwgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZW50ZXJBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSldKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvbGliL2luZGV4LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdE1lbW9pemUgPSBkZWZhdWx0TWVtb2l6ZTtcbmV4cG9ydHMuY3JlYXRlU2VsZWN0b3JDcmVhdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yO1xuZXhwb3J0cy5jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3I7XG5mdW5jdGlvbiBkZWZhdWx0RXF1YWxpdHlDaGVjayhhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuXG5mdW5jdGlvbiBhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBwcmV2LCBuZXh0KSB7XG4gIGlmIChwcmV2ID09PSBudWxsIHx8IG5leHQgPT09IG51bGwgfHwgcHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRG8gdGhpcyBpbiBhIGZvciBsb29wIChhbmQgbm90IGEgYGZvckVhY2hgIG9yIGFuIGBldmVyeWApIHNvIHdlIGNhbiBkZXRlcm1pbmUgZXF1YWxpdHkgYXMgZmFzdCBhcyBwb3NzaWJsZS5cbiAgdmFyIGxlbmd0aCA9IHByZXYubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbGl0eUNoZWNrKHByZXZbaV0sIG5leHRbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRFcXVhbGl0eUNoZWNrO1xuXG4gIHZhciBsYXN0QXJncyA9IG51bGw7XG4gIHZhciBsYXN0UmVzdWx0ID0gbnVsbDtcbiAgLy8gd2UgcmVmZXJlbmNlIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGVtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBsYXN0QXJncywgYXJndW1lbnRzKSkge1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhmdW5jcykge1xuICB2YXIgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShmdW5jc1swXSkgPyBmdW5jc1swXSA6IGZ1bmNzO1xuXG4gIGlmICghZGVwZW5kZW5jaWVzLmV2ZXJ5KGZ1bmN0aW9uIChkZXApIHtcbiAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkpIHtcbiAgICB2YXIgZGVwZW5kZW5jeVR5cGVzID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZGVwKTtcbiAgICB9KS5qb2luKCcsICcpO1xuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgY3JlYXRvcnMgZXhwZWN0IGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCAnICsgKCdpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IFsnICsgZGVwZW5kZW5jeVR5cGVzICsgJ10nKSk7XG4gIH1cblxuICByZXR1cm4gZGVwZW5kZW5jaWVzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3IobWVtb2l6ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVtb2l6ZU9wdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWVtb2l6ZU9wdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGZ1bmNzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB2YXIgcmVzdWx0RnVuYyA9IGZ1bmNzLnBvcCgpO1xuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoZnVuY3MpO1xuXG4gICAgdmFyIG1lbW9pemVkUmVzdWx0RnVuYyA9IG1lbW9pemUuYXBwbHkodW5kZWZpbmVkLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmVjb21wdXRhdGlvbnMrKztcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1dLmNvbmNhdChtZW1vaXplT3B0aW9ucykpO1xuXG4gICAgLy8gSWYgYSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgZXhhY3Qgc2FtZSBhcmd1bWVudHMgd2UgZG9uJ3QgbmVlZCB0byB0cmF2ZXJzZSBvdXIgZGVwZW5kZW5jaWVzIGFnYWluLlxuICAgIHZhciBzZWxlY3RvciA9IGRlZmF1bHRNZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgIHZhciBsZW5ndGggPSBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBhbmQgbXV0YXRlIGEgbG9jYWwgbGlzdCBvZiBwYXJhbXMgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgICBwYXJhbXMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG52YXIgY3JlYXRlU2VsZWN0b3IgPSBleHBvcnRzLmNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGRlZmF1bHRNZW1vaXplKTtcblxuZnVuY3Rpb24gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yKHNlbGVjdG9ycykge1xuICB2YXIgc2VsZWN0b3JDcmVhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBjcmVhdGVTZWxlY3RvcjtcblxuICBpZiAoKHR5cGVvZiBzZWxlY3RvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHNlbGVjdG9ycykpICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyAodHlwZW9mIHNlbGVjdG9ycyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc2VsZWN0b3JzKSkpKTtcbiAgfVxuICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKHNlbGVjdG9ycyk7XG4gIHJldHVybiBzZWxlY3RvckNyZWF0b3Iob2JqZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzZWxlY3RvcnNba2V5XTtcbiAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICB2YWx1ZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkge1xuICAgICAgY29tcG9zaXRpb25bb2JqZWN0S2V5c1tpbmRleF1dID0gdmFsdWU7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfSwge30pO1xuICB9KTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EZXZpY2VMaXN0SXRlbS9EZXZpY2VMaXN0SXRlbS5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1RvZ2dsZVNldHRpbmdzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanNcIik7XG5cbnZhciBfVG9nZ2xlU2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9nZ2xlU2V0dGluZ3MpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9EZXZpY2VMaXN0SXRlbS9EZXZpY2VMaXN0SXRlbS5zY3NzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEZXZpY2VMaXN0SXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhEZXZpY2VMaXN0SXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGV2aWNlTGlzdEl0ZW0ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGV2aWNlTGlzdEl0ZW0pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERldmljZUxpc3RJdGVtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGV2aWNlTGlzdEl0ZW0pKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5zZXRQb3B1cFNob3duKF90aGlzLnByb3BzLmRhdGEuX2lkKTtcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEZXZpY2VMaXN0SXRlbSwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtJyB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19pbmZvJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19pbmZvLW5hbWUnLCB0bzogJy9kZXZpY2VzL2RldmljZS8nICsgdGhpcy5wcm9wcy5kYXRhLl9pZCB9LFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLm5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19pbmZvLXN0YXR1cycgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Ub2dnbGVTZXR0aW5nczIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBjaGVja2VkOiB0aGlzLnByb3BzLmRhdGEuc3RhdHVzLFxuICAgICAgICAgICAgICBpdGVtSWQ6IHRoaXMucHJvcHMuZGF0YS5faWQsXG4gICAgICAgICAgICAgIHNldEl0ZW1WYWx1ZTogdGhpcy5wcm9wcy5jaGFuZ2VTdGF0dXMgfSlcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWl0ZW1fX2Rlc2NyaXB0aW9uJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19kZXNjcmlwdGlvbi1sb2NhdGlvbicgfSxcbiAgICAgICAgICAgIHRoaXMucHJvcHMubG9jYXRpb25cbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19kZXNjcmlwdGlvbi1pY29uJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1pdGVtX19kZXNjcmlwdGlvbi1pY29uLWRlbGV0ZScgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2EnLCB7IGNsYXNzTmFtZTogJ2ZhIGZhLXRyYXNoJyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNldERldmljZUlkIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZXZpY2VMaXN0SXRlbTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkRldmljZUxpc3RJdGVtLnByb3BUeXBlcyA9IHtcbiAgY2hhbmdlU3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGRlbGV0ZURldmljZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBzZXRQb3B1cFNob3duOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGxvY2F0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZGF0YTogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gICAgc3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xlYW4sXG4gICAgX2lkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbiAgfSlcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERldmljZUxpc3RJdGVtO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtLnNjc3NcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbi5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX01lc3NhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9NZXNzYWdlL01lc3NhZ2UuanNcIik7XG5cbnZhciBfUG9wdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cC5qc1wiKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLmpzXCIpO1xuXG52YXIgX0xpc3RIZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanNcIik7XG5cbnZhciBfTGlzdEhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0SGVhZGVyKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRGV2aWNlc1NlY3Rpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRGV2aWNlc1NlY3Rpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERldmljZXNTZWN0aW9uKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldmljZXNTZWN0aW9uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGV2aWNlc1NlY3Rpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEZXZpY2VzU2VjdGlvbikpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEZXZpY2VzU2VjdGlvbiwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMuZmlsdGVyT3B0aW9uO1xuXG4gICAgICBpZiAodHlwZW9mIGZpbHRlck9wdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5maWx0ZXJBY3Rpb24oZmlsdGVyT3B0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWxpc3QnIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdoMScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtbGlzdF9fdGl0bGUnIH0sXG4gICAgICAgICAgdGhpcy5wcm9wcy5sb2NhdGlvbk9mRGV2aWNlcyA/IHRoaXMucHJvcHMubG9jYXRpb25PZkRldmljZXMudG9VcHBlckNhc2UoKSA6ICdZb3VyIGRldmljZXMnXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9MaXN0SGVhZGVyMi5kZWZhdWx0LCB7XG4gICAgICAgICAgcXVhbnRpdHk6IHRoaXMucHJvcHMucXVhbnRpdHksXG4gICAgICAgICAgbG9jYXRpb246IHRoaXMucHJvcHMubG9jYXRpb24sXG4gICAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxuICAgICAgICAgIG1hdGNoOiB0aGlzLnByb3BzLm1hdGNoIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXZpY2UtbGlzdF9fY29udGVudCcgfSxcbiAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9Qb3B1cC5Qb3B1cCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzZXRQb3B1cFNob3duOiB0aGlzLnByb3BzLnNldFBvcHVwU2hvd24sXG4gICAgICAgICAgICBwb3B1cFNob3duOiB0aGlzLnByb3BzLnBvcHVwU2hvd24sXG4gICAgICAgICAgICBoZWFkZXI6ICdDb25maXJtIHRoZSBhY3Rpb24nLFxuICAgICAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhlIGRldmljZT8nIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0J1dHRvbi5CdXR0b24sIHtcbiAgICAgICAgICAgIHNldFBvcHVwU2hvd246IHRoaXMucHJvcHMuc2V0UG9wdXBTaG93bixcbiAgICAgICAgICAgIG9rSGFuZGxlcjogZnVuY3Rpb24gb2tIYW5kbGVyKCkge1xuICAgICAgICAgICAgICBfdGhpczIucHJvcHMuZGVsZXRlRGV2aWNlKF90aGlzMi5wcm9wcy5jdXJyZW50SWQpO1xuICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2V0UG9wdXBTaG93bigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0biBwb3B1cF9fYnRuJyxcbiAgICAgICAgICAgIGlubmVyVGV4dDogJ09rJ1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9CdXR0b24uQnV0dG9uLCB7XG4gICAgICAgICAgICBva0hhbmRsZXI6IGZ1bmN0aW9uIG9rSGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnNldFBvcHVwU2hvd24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gYnRuLS1kZWZhdWx0IHBvcHVwX19idG4nLFxuICAgICAgICAgICAgaW5uZXJUZXh0OiAnQ2FuY2VsJ1xuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9NZXNzYWdlLk1lc3NhZ2UsIHtcbiAgICAgICAgICBjbGVhclN0YXR1czogdGhpcy5wcm9wcy5jbGVhclN0YXR1cyxcbiAgICAgICAgICBoZWFkZXI6ICdFcnJvcidcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERldmljZXNTZWN0aW9uO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuRGV2aWNlc1NlY3Rpb24ucHJvcFR5cGVzID0ge1xuICBjaGFuZ2VTdGF0dXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZGVsZXRlRGV2aWNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGxvYWREZXZpY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGZpbHRlck9wdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIGZpbHRlckFjdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBkZXZpY2VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtYXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgY2xlYXJTdGF0dXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgY3VycmVudElkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgc2V0UG9wdXBTaG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBwb3B1cFNob3duOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHF1YW50aXR5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgbG9jYXRpb25PZkRldmljZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEZXZpY2VzU2VjdGlvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9GaWx0ZXJTZWxlY3QvRmlsdGVyU2VsZWN0LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9GaWx0ZXJTZWxlY3QvRmlsdGVyU2VsZWN0LnNjc3NcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBGaWx0ZXJTZWxlY3QgPSBmdW5jdGlvbiBGaWx0ZXJTZWxlY3QocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIHsgY2xhc3NOYW1lOiAnZmlsdGVyQm94JyB9LFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3NlbGVjdCcsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbHRlckJveF9fZmlsdGVyJyxcbiAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8ICdhbGwnLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5oYW5kbGVTZWxlY3QoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9IH0sXG4gICAgICBwcm9wcy5vcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICAgICAgICBrZXk6IGl0ZW0udmFsdWUgfSxcbiAgICAgICAgICBpdGVtLmlubmVyVGV4dFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApXG4gICk7XG59O1xuXG5GaWx0ZXJTZWxlY3QucHJvcFR5cGVzID0ge1xuICBoYW5kbGVTZWxlY3Q6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBvcHRpb25zOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbHRlclNlbGVjdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9GaWx0ZXJTZWxlY3QvRmlsdGVyU2VsZWN0LnNjc3NcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9pbmRleC5qc1wiKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX3F1ZXJ5U3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3F1ZXJ5LXN0cmluZy9pbmRleC5qc1wiKTtcblxudmFyIF9xdWVyeVN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9xdWVyeVN0cmluZyk7XG5cbnZhciBfRmlsdGVyU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qc1wiKTtcblxudmFyIF9GaWx0ZXJTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyU2VsZWN0KTtcblxudmFyIF9TZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9TZWFyY2gvU2VhcmNoLmpzXCIpO1xuXG52YXIgX1NlYXJjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWFyY2gpO1xuXG52YXIgX2RldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYWN0aW9ucy9kZXZpY2VzLmFjdGlvbi5qc1wiKTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy91dGlscy91dGlscy5qc1wiKTtcblxudmFyIF9maWx0ZXJPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2RhdGEvZmlsdGVyT3B0aW9ucy5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTGlzdEhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMaXN0SGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaXN0SGVhZGVyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RIZWFkZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpc3RIZWFkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaXN0SGVhZGVyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuaW5pdGlhbFBhcmFtcyA9IHtcbiAgICAgIHNlYXJjaDogJycsXG4gICAgICBmaWx0ZXI6ICdhbGwnXG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUZpbHRlclNlbGVjdCA9IGZ1bmN0aW9uIChmaWx0ZXJPcHRpb24pIHtcbiAgICAgIF90aGlzLnByb3BzLmZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pO1xuICAgICAgX3RoaXMudXBkYXRlVXJsKF9leHRlbmRzKHt9LCBfdGhpcy5pbml0aWFsUGFyYW1zLCB7IGZpbHRlcjogZmlsdGVyT3B0aW9uIH0pKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZVNlYXJjaFJlc3VsdCA9IGZ1bmN0aW9uIChzZWFyY2hWYWx1ZSkge1xuICAgICAgX3RoaXMucHJvcHMuZmluZEl0ZW1zKHNlYXJjaFZhbHVlKTtcbiAgICAgIF90aGlzLnVwZGF0ZVVybChfZXh0ZW5kcyh7fSwgX3RoaXMuaW5pdGlhbFBhcmFtcywgeyBzZWFyY2g6IHNlYXJjaFZhbHVlIH0pKTtcbiAgICB9O1xuICAgIF90aGlzLnVwZGF0ZVVybCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIHZhciBtYXRjaCA9IF90aGlzLnByb3BzLm1hdGNoO1xuICAgICAgdmFyIGhpc3RvcnkgPSBfdGhpcy5wcm9wcy5oaXN0b3J5O1xuXG4gICAgICBfdGhpcy5pbml0aWFsUGFyYW1zID0gcGFyYW1zO1xuICAgICAgaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgcGF0aG5hbWU6IG1hdGNoLnVybCxcbiAgICAgICAgc2VhcmNoOiAoMCwgX3V0aWxzLnF1ZXJ5RnJvbU9iamVjdCkocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdEhlYWRlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5wcm9wcy5sb2NhdGlvbjtcbiAgICAgIHZhciBzZWFyY2hWYWx1ZSA9IF9xdWVyeVN0cmluZzIuZGVmYXVsdC5wYXJzZShsb2NhdGlvbi5zZWFyY2gpLnNlYXJjaDtcbiAgICAgIHZhciBmaWx0ZXJWYWx1ZSA9IF9xdWVyeVN0cmluZzIuZGVmYXVsdC5wYXJzZShsb2NhdGlvbi5zZWFyY2gpLmZpbHRlcjtcblxuICAgICAgaWYgKHNlYXJjaFZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoUmVzdWx0KHNlYXJjaFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlclZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRmlsdGVyU2VsZWN0KGZpbHRlclZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5wcm9wcy5maWx0ZXJBY3Rpb24oJ2FsbCcpO1xuICAgICAgdGhpcy5wcm9wcy5maW5kSXRlbXMoJycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWxpc3RfX2hlYWRlcicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NlYXJjaDIuZGVmYXVsdCwge1xuICAgICAgICAgIGhhbmRsZVNlYXJjaDogdGhpcy5oYW5kbGVTZWFyY2hSZXN1bHQsXG4gICAgICAgICAgcXVhbnRpdHk6IHRoaXMucHJvcHMucXVhbnRpdHksXG4gICAgICAgICAgdmFsdWU6IHRoaXMuaW5pdGlhbFBhcmFtcy5zZWFyY2hcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGV2aWNlLWxpc3RfX2hlYWRlci0tcmlnaHQnIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZpbHRlclNlbGVjdDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0OiB0aGlzLmhhbmRsZUZpbHRlclNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IF9maWx0ZXJPcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5pbml0aWFsUGFyYW1zLmZpbHRlclxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICB7IHRvOiAnL2J1aWxkZXInLCBjbGFzc05hbWU6ICdidG4gYnRuLS1wcmltYXJ5IGFkZC1pdGVtLWJ1dHRvbicgfSxcbiAgICAgICAgICAgICdOZXcnXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0SGVhZGVyO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGZpbHRlck9wdGlvbjogc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbixcbiAgICBzZWFyY2g6IHN0YXRlLnNlYXJjaEFuZEZpbHRlci5zZWFyY2hWYWx1ZVxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGZpbHRlckFjdGlvbjogZnVuY3Rpb24gZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbikge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZGV2aWNlcy5maWx0ZXJBY3Rpb24pKGZpbHRlck9wdGlvbikpO1xuICAgIH0sXG4gICAgZmluZEl0ZW1zOiBmdW5jdGlvbiBmaW5kSXRlbXMoc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2RldmljZXMuc2VhcmNoQWN0aW9uKShzZWFyY2hWYWx1ZSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbkxpc3RIZWFkZXIucHJvcFR5cGVzID0ge1xuICBzZWFyY2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBmaWx0ZXJPcHRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBmaWx0ZXJBY3Rpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZmluZEl0ZW1zOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG1hdGNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaGlzdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2F0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbG9hZERldmljZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcXVhbnRpdHk6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKExpc3RIZWFkZXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9zZWFyY2guc2Nzc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFNlYXJjaCA9IGZ1bmN0aW9uIFNlYXJjaChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgeyBjbGFzc05hbWU6ICdzZWFyY2hCb3gnIH0sXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiAnc2VhcmNoQm94X19yZXN1bHRzJyB9LFxuICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcHJvcHMucXVhbnRpdHlcbiAgICAgICksXG4gICAgICAnIGRldmljZXMnXG4gICAgKSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgbnVsbCxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBuYW1lOiAnc2VhcmNoJyxcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdGaW5kIGEgZGV2aWNlJyxcbiAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICBjbGFzc05hbWU6ICdzZWFyY2hCb3hfX2ZpZWxkJyxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICBwcm9wcy5oYW5kbGVTZWFyY2goZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9IH0pXG4gICAgKVxuICApO1xufTtcblxuU2VhcmNoLnByb3BUeXBlcyA9IHtcbiAgaGFuZGxlU2VhcmNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgcXVhbnRpdHk6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TZWFyY2gvc2VhcmNoLnNjc3NcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTZXR0aW5ncy5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU3R5bGUuc2Nzc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVG9nZ2xlU2V0dGluZ3MgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVG9nZ2xlU2V0dGluZ3MsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRvZ2dsZVNldHRpbmdzKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvZ2dsZVNldHRpbmdzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUb2dnbGVTZXR0aW5ncy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRvZ2dsZVNldHRpbmdzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25DaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5zZXRJdGVtVmFsdWUoIV90aGlzLnByb3BzLmNoZWNrZWQsIF90aGlzLnByb3BzLml0ZW1JZCwgX3RoaXMucHJvcHMuZGV2aWNlSWQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVG9nZ2xlU2V0dGluZ3MsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICcnICsgdGhpcy5wcm9wcy5zdHlsZU5hbWUgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ3N3aXRjaCcgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgY2hlY2tlZDogdGhpcy5wcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2VWYWx1ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ3NsaWRlciByb3VuZCcgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG9nZ2xlU2V0dGluZ3M7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUb2dnbGVTZXR0aW5ncztcblxuXG5Ub2dnbGVTZXR0aW5ncy5wcm9wVHlwZXMgPSB7XG4gIGRldmljZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHN0eWxlTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGNoZWNrZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBzZXRJdGVtVmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgaXRlbUlkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgbmV3VmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBkZXZpY2VJZDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn07XG5Ub2dnbGVTZXR0aW5ncy5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoZWNrZWQ6IGZhbHNlXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1RvZ2dsZVNldHRpbmdzL1RvZ2dsZVN0eWxlLnNjc3NcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGF0YS9maWx0ZXJPcHRpb25zLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgb3B0aW9ucyA9IGV4cG9ydHMub3B0aW9ucyA9IFt7XG4gIHZhbHVlOiAnYWxsJyxcbiAgaW5uZXJUZXh0OiAnQWxsJ1xufSwge1xuICB2YWx1ZTogJ29uJyxcbiAgaW5uZXJUZXh0OiAnU2hvdyBPbidcbn0sIHtcbiAgdmFsdWU6ICdvZmYnLFxuICBpbm5lclRleHQ6ICdTaG93IE9GRidcbn1dO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9wYWdlcy9EZXZpY2VMaXN0L0RldmljZUxpc3QuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9pbmRleC5qc1wiKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX0RldmljZUxpc3RJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvRGV2aWNlTGlzdEl0ZW0vRGV2aWNlTGlzdEl0ZW0uanNcIik7XG5cbnZhciBfRGV2aWNlTGlzdEl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGV2aWNlTGlzdEl0ZW0pO1xuXG52YXIgX01lc3NhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9NZXNzYWdlL01lc3NhZ2UuanNcIik7XG5cbnZhciBfUG9wdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cC5qc1wiKTtcblxudmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLmpzXCIpO1xuXG52YXIgX0xpc3RIZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXIuanNcIik7XG5cbnZhciBfTGlzdEhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0SGVhZGVyKTtcblxudmFyIF9EZXZpc2VzU2VjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL0RldmlzZXNTZWN0aW9uL0RldmlzZXNTZWN0aW9uLmpzXCIpO1xuXG52YXIgX0RldmlzZXNTZWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RldmlzZXNTZWN0aW9uKTtcblxudmFyIF9kZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2FjdGlvbnMvZGV2aWNlcy5hY3Rpb24uanNcIik7XG5cbnZhciBfbm90aWZpY2F0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9hY3Rpb25zL25vdGlmaWNhdGlvbnMuYWN0aW9uLmpzXCIpO1xuXG52YXIgX3NlbGVjdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9zZWxlY3RvcnMvaW5kZXguanNcIik7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvdXRpbHMvdXRpbHMuanNcIik7XG5cbnZhciBfcmVhY3RBZGRvbnNDc3NUcmFuc2l0aW9uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0QWRkb25zQ3NzVHJhbnNpdGlvbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zQ3NzVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5zY3NzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEZXZpY2VMaXN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKERldmljZUxpc3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERldmljZUxpc3QocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGV2aWNlTGlzdCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGV2aWNlTGlzdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERldmljZUxpc3QpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBvcHVwU2hvd246IGZhbHNlLFxuICAgICAgY3VycmVudElkOiAnJyxcbiAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgdG9kb3NQZXJQYWdlOiA2XG4gICAgfTtcblxuICAgIF90aGlzLmRlbGV0ZURldmljZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgX3RoaXMucHJvcHMuZGVsZXRlRGV2aWNlKGlkKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0UG9wdXBTaG93biA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IF90aGlzLnN0YXRlLnBvcHVwU2hvd247XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcG9wdXBTaG93bjogIWN1cnJlbnRTdGF0ZSxcbiAgICAgICAgY3VycmVudElkOiBpZFxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5jaGFuZ2VTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzLCBpZCkge1xuICAgICAgX3RoaXMucHJvcHMuY2hhbmdlU3RhdHVzKHsgc3RhdHVzOiBzdGF0dXMgfSwgaWQpO1xuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERldmljZUxpc3QsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMubG9hZERldmljZXMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXJEZXZpY2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRGV2aWNlcyhsb2NhdGlvbnMsIGxvY2F0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGRldmljZXNMaXN0ID0gbG9jYXRpb25zW2xvY2F0aW9uXS5sZW5ndGggPiA4ID8gbG9jYXRpb25zW2xvY2F0aW9uXS5zbGljZSgwLCA3KSA6IGxvY2F0aW9uc1tsb2NhdGlvbl07XG5cbiAgICAgIHJldHVybiBkZXZpY2VzTGlzdC5tYXAoZnVuY3Rpb24gKGRldmljZSwgaSkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RldmljZUxpc3RJdGVtMi5kZWZhdWx0LCB7XG4gICAgICAgICAgZGF0YTogZGV2aWNlLFxuICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICBsb2NhdGlvbjogJycsXG4gICAgICAgICAgY2hhbmdlU3RhdHVzOiBfdGhpczIuY2hhbmdlU3RhdHVzLFxuICAgICAgICAgIHNldFBvcHVwU2hvd246IF90aGlzMi5zZXRQb3B1cFNob3duIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyRGV2aWNlR3JvdXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEZXZpY2VHcm91cCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgbG9jYXRpb25zID0gKDAsIF91dGlscy5zb3J0RGV2aWNlc0J5TG9jYXRpb25zKSh0aGlzLnByb3BzLmRldmljZXMpO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobG9jYXRpb25zKS5tYXAoZnVuY3Rpb24gKGxvY2F0aW9uLCBpKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RldmljZS1ncm91cCcsIGtleTogaSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGV2aWNlLWdyb3VwX190aXRsZScgfSxcbiAgICAgICAgICAgIGxvY2F0aW9uLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0QWRkb25zQ3NzVHJhbnNpdGlvbkdyb3VwMi5kZWZhdWx0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdkZXZpY2UtZ3JvdXBfX2l0ZW1zJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6ICdoaWRlJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkVudGVyVGltZW91dDogNTAwLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uTGVhdmVUaW1lb3V0OiAzMDAgfSxcbiAgICAgICAgICAgIF90aGlzMy5yZW5kZXJEZXZpY2VzKGxvY2F0aW9ucywgbG9jYXRpb24pLFxuICAgICAgICAgICAgbG9jYXRpb25zW2xvY2F0aW9uXS5sZW5ndGggPiA4ID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlckRvbS5MaW5rLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGV2aWNlLWdyb3VwX19saW5rJyxcbiAgICAgICAgICAgICAgICB0bzogJy9kZXZpY2VzLycgKyBsb2NhdGlvbiB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmYSBmYS1yZXBlYXQnLFxuICAgICAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9KSxcbiAgICAgICAgICAgICAgJ01vcmUgZGV2aWNlcydcbiAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmZpbHRlck9wdGlvbjtcblxuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJPcHRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX0RldmlzZXNTZWN0aW9uMi5kZWZhdWx0LFxuICAgICAgICB7XG4gICAgICAgICAgZmlsdGVyT3B0aW9uOiBmaWx0ZXJPcHRpb24sXG4gICAgICAgICAgZGV2aWNlczogdGhpcy5wcm9wcy5kZXZpY2VzLFxuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnByb3BzLmxvY2F0aW9uLFxuICAgICAgICAgIGhpc3Rvcnk6IHRoaXMucHJvcHMuaGlzdG9yeSxcbiAgICAgICAgICBtYXRjaDogdGhpcy5wcm9wcy5tYXRjaCxcbiAgICAgICAgICBzdGF0dXM6IHRoaXMucHJvcHMuc3RhdHVzLFxuICAgICAgICAgIHRleHQ6IHRoaXMucHJvcHMuZXJyb3JUZXh0LFxuICAgICAgICAgIHNldFBvcHVwU2hvd246IHRoaXMuc2V0UG9wdXBTaG93bixcbiAgICAgICAgICBwb3B1cFNob3duOiB0aGlzLnN0YXRlLnBvcHVwU2hvd24sXG4gICAgICAgICAgZGVsZXRlRGV2aWNlOiB0aGlzLmRlbGV0ZURldmljZSxcbiAgICAgICAgICBjbGVhclN0YXR1czogdGhpcy5wcm9wcy5jbGVhclN0YXR1cyxcbiAgICAgICAgICBjdXJyZW50SWQ6IHRoaXMuc3RhdGUuY3VycmVudElkLFxuICAgICAgICAgIHF1YW50aXR5OiB0aGlzLnByb3BzLmRldmljZXMubGVuZ3RoIH0sXG4gICAgICAgIHRoaXMucHJvcHMuc3RhdHVzID09PSAnRE9ORScgJiYgdGhpcy5wcm9wcy5kZXZpY2VzLmxlbmd0aCA9PT0gMCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdZb3UgbmVlZCB0byBhZGQgZGV2aWNlJ1xuICAgICAgICApIDogdGhpcy5yZW5kZXJEZXZpY2VHcm91cCgpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZXZpY2VMaXN0O1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGRldmljZXM6ICgwLCBfc2VsZWN0b3JzLmZpbHRlckl0ZW1zKShzdGF0ZSksXG4gICAgc3RhdHVzOiBzdGF0ZS5kZXZpY2VzTGlzdC51cGxvYWRTdGF0dXMsXG4gICAgZXJyb3JUZXh0OiBzdGF0ZS5kZXZpY2VzTGlzdC5lcnJvclRleHRcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBjaGFuZ2VTdGF0dXM6IGZ1bmN0aW9uIGNoYW5nZVN0YXR1cyhkYXRhLCBpZCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfZGV2aWNlcy51cGRhdGVEZXZpY2UpKGRhdGEsIGlkKSk7XG4gICAgfSxcbiAgICBsb2FkRGV2aWNlczogZnVuY3Rpb24gbG9hZERldmljZXMoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9kZXZpY2VzLmxvYWREZXZpY2VzKSgpKTtcbiAgICB9LFxuICAgIGRlbGV0ZURldmljZTogZnVuY3Rpb24gZGVsZXRlRGV2aWNlKGlkKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9kZXZpY2VzLmRlbGV0ZURldmljZSkoaWQpKTtcbiAgICB9LFxuICAgIHNlbmROb3RpZmljYXRpb25XUzogZnVuY3Rpb24gc2VuZE5vdGlmaWNhdGlvbldTKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX25vdGlmaWNhdGlvbnMuc2VuZE5vdGlmaWNhdGlvbldTKShtZXNzYWdlKSk7XG4gICAgfSxcbiAgICBjbGVhclN0YXR1czogZnVuY3Rpb24gY2xlYXJTdGF0dXMoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9kZXZpY2VzLmNsZWFyU3RhdHVzKSgpKTtcbiAgICB9XG4gIH07XG59O1xuXG5EZXZpY2VMaXN0LnByb3BUeXBlcyA9IHtcbiAgbWF0Y2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGFuZ2VTdGF0dXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgZGV2aWNlczogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheSxcbiAgZmlsdGVyQWN0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGZpbmRJdGVtczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBsb2FkRGV2aWNlczogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBkZWxldGVEZXZpY2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgaGlzdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGxvY2F0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgc2VuZE5vdGlmaWNhdGlvbldTOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGVycm9yVGV4dDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGNsZWFyU3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRGV2aWNlTGlzdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5zY3NzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3NlbGVjdG9ycy9pbmRleC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5maWx0ZXJJdGVtcyA9IHVuZGVmaW5lZDtcblxudmFyIF9yZXNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZXNlbGVjdC9saWIvaW5kZXguanNcIik7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvdXRpbHMvdXRpbHMuanNcIik7XG5cbnZhciBnZXRGaWx0ZXJPcHRpb24gPSBmdW5jdGlvbiBnZXRGaWx0ZXJPcHRpb24oc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnNlYXJjaEFuZEZpbHRlci5maWx0ZXJPcHRpb247XG59O1xudmFyIGdldERldmljZXMgPSBmdW5jdGlvbiBnZXREZXZpY2VzKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5kZXZpY2VzTGlzdC5kZXZpY2VzO1xufTtcbnZhciBnZXRTZWFyY2hWYWx1ZSA9IGZ1bmN0aW9uIGdldFNlYXJjaFZhbHVlKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5zZWFyY2hBbmRGaWx0ZXIuc2VhcmNoVmFsdWU7XG59O1xuXG52YXIgZmlsdGVySXRlbXMgPSBleHBvcnRzLmZpbHRlckl0ZW1zID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoW2dldEZpbHRlck9wdGlvbiwgZ2V0U2VhcmNoVmFsdWUsIGdldERldmljZXNdLCBmdW5jdGlvbiAoZmlsdGVyT3B0aW9uLCBzZWFyY2hWYWx1ZSwgaXRlbXMpIHtcbiAgdmFyIG5ld0FyciA9IGl0ZW1zO1xuXG4gIGlmIChmaWx0ZXJPcHRpb24gPT09ICdhbGwnKSB7XG4gICAgbmV3QXJyID0gaXRlbXM7XG4gIH0gZWxzZSBpZiAoZmlsdGVyT3B0aW9uID09PSAnb24nKSB7XG4gICAgbmV3QXJyID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zdGF0dXMgPT09IHRydWU7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyT3B0aW9uID09PSAnb2ZmJykge1xuICAgIG5ld0FyciA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uc3RhdHVzID09PSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3QXJyLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiAoMCwgX3V0aWxzLnNlYXJjaEl0ZW0pKGl0ZW0ubmFtZSwgc2VhcmNoVmFsdWUpO1xuICB9KTtcbn0pO1xuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gMi5pbmRleF9idW5kbGUuanMiLCJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjaGFpbigpe1xyXG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXHJcbiAgdmFyIGFyZ3MgPSBbXTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcclxuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cclxuXHJcbiAgYXJncyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uKGZuKXsgcmV0dXJuIGZuICE9IG51bGwgfSlcclxuXHJcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkXHJcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSByZXR1cm4gYXJnc1swXVxyXG5cclxuICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudCwgbmV4dCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xyXG4gICAgICBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgIG5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbiAgfSlcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NoYWluLWZ1bmN0aW9uL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gYWRkQ2xhc3M7XG5cbnZhciBfaGFzQ2xhc3MgPSByZXF1aXJlKCcuL2hhc0NsYXNzJyk7XG5cbnZhciBfaGFzQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzQ2xhc3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtlbHNlIGlmICghKDAsIF9oYXNDbGFzczIuZGVmYXVsdCkoZWxlbWVudCkpIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBoYXNDbGFzcztcbmZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHJldHVybiAhIWNsYXNzTmFtZSAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO2Vsc2UgcmV0dXJuIChcIiBcIiArIGVsZW1lbnQuY2xhc3NOYW1lICsgXCIgXCIpLmluZGV4T2YoXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIikgIT09IC0xO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL2hhc0NsYXNzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHN8JCknLCAnZycpLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL2NsYXNzL3JlbW92ZUNsYXNzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hbmltYXRpb25FbmQgPSBleHBvcnRzLmFuaW1hdGlvbkRlbGF5ID0gZXhwb3J0cy5hbmltYXRpb25UaW1pbmcgPSBleHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gZXhwb3J0cy5hbmltYXRpb25OYW1lID0gZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gZXhwb3J0cy50cmFuc2l0aW9uRHVyYXRpb24gPSBleHBvcnRzLnRyYW5zaXRpb25EZWxheSA9IGV4cG9ydHMudHJhbnNpdGlvblRpbWluZyA9IGV4cG9ydHMudHJhbnNpdGlvblByb3BlcnR5ID0gZXhwb3J0cy50cmFuc2Zvcm0gPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5ET00gPSByZXF1aXJlKCcuLi91dGlsL2luRE9NJyk7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybSc7XG52YXIgcHJlZml4ID0gdm9pZCAwLFxuICAgIHRyYW5zaXRpb25FbmQgPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uRW5kID0gdm9pZCAwO1xudmFyIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSB2b2lkIDAsXG4gICAgdHJhbnNpdGlvblRpbWluZyA9IHZvaWQgMCxcbiAgICB0cmFuc2l0aW9uRGVsYXkgPSB2b2lkIDA7XG52YXIgYW5pbWF0aW9uTmFtZSA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25EdXJhdGlvbiA9IHZvaWQgMCxcbiAgICBhbmltYXRpb25UaW1pbmcgPSB2b2lkIDAsXG4gICAgYW5pbWF0aW9uRGVsYXkgPSB2b2lkIDA7XG5cbmlmIChfaW5ET00yLmRlZmF1bHQpIHtcbiAgdmFyIF9nZXRUcmFuc2l0aW9uUHJvcGVydCA9IGdldFRyYW5zaXRpb25Qcm9wZXJ0aWVzKCk7XG5cbiAgcHJlZml4ID0gX2dldFRyYW5zaXRpb25Qcm9wZXJ0LnByZWZpeDtcbiAgZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZCA9IF9nZXRUcmFuc2l0aW9uUHJvcGVydC50cmFuc2l0aW9uRW5kO1xuICBleHBvcnRzLmFuaW1hdGlvbkVuZCA9IGFuaW1hdGlvbkVuZCA9IF9nZXRUcmFuc2l0aW9uUHJvcGVydC5hbmltYXRpb25FbmQ7XG5cblxuICBleHBvcnRzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybSA9IHByZWZpeCArICctJyArIHRyYW5zZm9ybTtcbiAgZXhwb3J0cy50cmFuc2l0aW9uUHJvcGVydHkgPSB0cmFuc2l0aW9uUHJvcGVydHkgPSBwcmVmaXggKyAnLXRyYW5zaXRpb24tcHJvcGVydHknO1xuICBleHBvcnRzLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbiA9IHByZWZpeCArICctdHJhbnNpdGlvbi1kdXJhdGlvbic7XG4gIGV4cG9ydHMudHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5ID0gcHJlZml4ICsgJy10cmFuc2l0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy50cmFuc2l0aW9uVGltaW5nID0gdHJhbnNpdGlvblRpbWluZyA9IHByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nO1xuXG4gIGV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWUgPSBwcmVmaXggKyAnLWFuaW1hdGlvbi1uYW1lJztcbiAgZXhwb3J0cy5hbmltYXRpb25EdXJhdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uID0gcHJlZml4ICsgJy1hbmltYXRpb24tZHVyYXRpb24nO1xuICBleHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZyA9IHByZWZpeCArICctYW5pbWF0aW9uLWRlbGF5JztcbiAgZXhwb3J0cy5hbmltYXRpb25EZWxheSA9IGFuaW1hdGlvbkRlbGF5ID0gcHJlZml4ICsgJy1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJztcbn1cblxuZXhwb3J0cy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5leHBvcnRzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IHRyYW5zaXRpb25Qcm9wZXJ0eTtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWluZyA9IHRyYW5zaXRpb25UaW1pbmc7XG5leHBvcnRzLnRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheTtcbmV4cG9ydHMudHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uO1xuZXhwb3J0cy50cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZDtcbmV4cG9ydHMuYW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWU7XG5leHBvcnRzLmFuaW1hdGlvbkR1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb247XG5leHBvcnRzLmFuaW1hdGlvblRpbWluZyA9IGFuaW1hdGlvblRpbWluZztcbmV4cG9ydHMuYW5pbWF0aW9uRGVsYXkgPSBhbmltYXRpb25EZWxheTtcbmV4cG9ydHMuYW5pbWF0aW9uRW5kID0gYW5pbWF0aW9uRW5kO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgZW5kOiB0cmFuc2l0aW9uRW5kLFxuICBwcm9wZXJ0eTogdHJhbnNpdGlvblByb3BlcnR5LFxuICB0aW1pbmc6IHRyYW5zaXRpb25UaW1pbmcsXG4gIGRlbGF5OiB0cmFuc2l0aW9uRGVsYXksXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb25cbn07XG5cblxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblByb3BlcnRpZXMoKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuXG4gIHZhciB2ZW5kb3JNYXAgPSB7XG4gICAgTzogZnVuY3Rpb24gTyhlKSB7XG4gICAgICByZXR1cm4gJ28nICsgZS50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG4gICAgTW96OiBmdW5jdGlvbiBNb3ooZSkge1xuICAgICAgcmV0dXJuIGUudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuICAgIFdlYmtpdDogZnVuY3Rpb24gV2Via2l0KGUpIHtcbiAgICAgIHJldHVybiAnd2Via2l0JyArIGU7XG4gICAgfSxcbiAgICBtczogZnVuY3Rpb24gbXMoZSkge1xuICAgICAgcmV0dXJuICdNUycgKyBlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmVuZG9ycyA9IE9iamVjdC5rZXlzKHZlbmRvck1hcCk7XG5cbiAgdmFyIHRyYW5zaXRpb25FbmQgPSB2b2lkIDAsXG4gICAgICBhbmltYXRpb25FbmQgPSB2b2lkIDA7XG4gIHZhciBwcmVmaXggPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmVuZG9yID0gdmVuZG9yc1tpXTtcblxuICAgIGlmICh2ZW5kb3IgKyAnVHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkge1xuICAgICAgcHJlZml4ID0gJy0nICsgdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICB0cmFuc2l0aW9uRW5kID0gdmVuZG9yTWFwW3ZlbmRvcl0oJ1RyYW5zaXRpb25FbmQnKTtcbiAgICAgIGFuaW1hdGlvbkVuZCA9IHZlbmRvck1hcFt2ZW5kb3JdKCdBbmltYXRpb25FbmQnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdHJhbnNpdGlvbkVuZCAmJiAndHJhbnNpdGlvblByb3BlcnR5JyBpbiBzdHlsZSkgdHJhbnNpdGlvbkVuZCA9ICd0cmFuc2l0aW9uZW5kJztcblxuICBpZiAoIWFuaW1hdGlvbkVuZCAmJiAnYW5pbWF0aW9uTmFtZScgaW4gc3R5bGUpIGFuaW1hdGlvbkVuZCA9ICdhbmltYXRpb25lbmQnO1xuXG4gIHN0eWxlID0gbnVsbDtcblxuICByZXR1cm4geyBhbmltYXRpb25FbmQ6IGFuaW1hdGlvbkVuZCwgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCwgcHJlZml4OiBwcmVmaXggfTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL3RyYW5zaXRpb24vcHJvcGVydGllcy5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2RvbS1oZWxwZXJzL3V0aWwvaW5ET00uanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW5ET00gPSByZXF1aXJlKCcuL2luRE9NJyk7XG5cbnZhciBfaW5ET00yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5ET00pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdmVuZG9ycyA9IFsnJywgJ3dlYmtpdCcsICdtb3onLCAnbycsICdtcyddO1xudmFyIGNhbmNlbCA9ICdjbGVhclRpbWVvdXQnO1xudmFyIHJhZiA9IGZhbGxiYWNrO1xudmFyIGNvbXBhdFJhZiA9IHZvaWQgMDtcblxudmFyIGdldEtleSA9IGZ1bmN0aW9uIGdldEtleSh2ZW5kb3IsIGspIHtcbiAgcmV0dXJuIHZlbmRvciArICghdmVuZG9yID8gayA6IGtbMF0udG9VcHBlckNhc2UoKSArIGsuc3Vic3RyKDEpKSArICdBbmltYXRpb25GcmFtZSc7XG59O1xuXG5pZiAoX2luRE9NMi5kZWZhdWx0KSB7XG4gIHZlbmRvcnMuc29tZShmdW5jdGlvbiAodmVuZG9yKSB7XG4gICAgdmFyIHJhZktleSA9IGdldEtleSh2ZW5kb3IsICdyZXF1ZXN0Jyk7XG5cbiAgICBpZiAocmFmS2V5IGluIHdpbmRvdykge1xuICAgICAgY2FuY2VsID0gZ2V0S2V5KHZlbmRvciwgJ2NhbmNlbCcpO1xuICAgICAgcmV0dXJuIHJhZiA9IGZ1bmN0aW9uIHJhZihjYikge1xuICAgICAgICByZXR1cm4gd2luZG93W3JhZktleV0oY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L3JhZiAqL1xudmFyIHByZXYgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSksXG4gICAgICByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG5cbiAgcHJldiA9IGN1cnI7XG4gIHJldHVybiByZXE7XG59XG5cbmNvbXBhdFJhZiA9IGZ1bmN0aW9uIGNvbXBhdFJhZihjYikge1xuICByZXR1cm4gcmFmKGNiKTtcbn07XG5jb21wYXRSYWYuY2FuY2VsID0gZnVuY3Rpb24gKGlkKSB7XG4gIHdpbmRvd1tjYW5jZWxdICYmIHR5cGVvZiB3aW5kb3dbY2FuY2VsXSA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3dbY2FuY2VsXShpZCk7XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gY29tcGF0UmFmO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9kb20taGVscGVycy91dGlsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdyZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cCcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfVHJhbnNpdGlvbkdyb3VwID0gcmVxdWlyZSgnLi9UcmFuc2l0aW9uR3JvdXAnKTtcblxudmFyIF9UcmFuc2l0aW9uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNpdGlvbkdyb3VwKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCA9IHJlcXVpcmUoJy4vQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnKTtcblxudmFyIF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZSgnLi91dGlscy9Qcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB0cmFuc2l0aW9uTmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICB0cmFuc2l0aW9uQXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRyYW5zaXRpb25FbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnQXBwZWFyJyksXG4gIHRyYW5zaXRpb25FbnRlclRpbWVvdXQ6ICgwLCBfUHJvcFR5cGVzLnRyYW5zaXRpb25UaW1lb3V0KSgnRW50ZXInKSxcbiAgdHJhbnNpdGlvbkxlYXZlVGltZW91dDogKDAsIF9Qcm9wVHlwZXMudHJhbnNpdGlvblRpbWVvdXQpKCdMZWF2ZScpXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB0cmFuc2l0aW9uQXBwZWFyOiBmYWxzZSxcbiAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICB0cmFuc2l0aW9uTGVhdmU6IHRydWVcbn07XG5cbnZhciBDU1NUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDU1NUcmFuc2l0aW9uR3JvdXAoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NUcmFuc2l0aW9uR3JvdXApO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl93cmFwQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgbmFtZTogX3RoaXMucHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIGFwcGVhcjogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgZW50ZXI6IF90aGlzLnByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgbGVhdmU6IF90aGlzLnByb3BzLnRyYW5zaXRpb25MZWF2ZSxcbiAgICAgICAgYXBwZWFyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQsXG4gICAgICAgIGVudGVyVGltZW91dDogX3RoaXMucHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dCxcbiAgICAgICAgbGVhdmVUaW1lb3V0OiBfdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmVUaW1lb3V0XG4gICAgICB9LCBjaGlsZCk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICAvLyBXZSBuZWVkIHRvIHByb3ZpZGUgdGhpcyBjaGlsZEZhY3Rvcnkgc28gdGhhdFxuICAvLyBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkIGNhbiByZWNlaXZlIHVwZGF0ZXMgdG8gbmFtZSwgZW50ZXIsIGFuZFxuICAvLyBsZWF2ZSB3aGlsZSBpdCBpcyBsZWF2aW5nLlxuXG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UcmFuc2l0aW9uR3JvdXAyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGNoaWxkRmFjdG9yeTogdGhpcy5fd3JhcENoaWxkIH0pKTtcbiAgfTtcblxuICByZXR1cm4gQ1NTVHJhbnNpdGlvbkdyb3VwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwLmRpc3BsYXlOYW1lID0gJ0NTU1RyYW5zaXRpb25Hcm91cCc7XG5cblxuQ1NTVHJhbnNpdGlvbkdyb3VwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuQ1NTVHJhbnNpdGlvbkdyb3VwLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ1NTVHJhbnNpdGlvbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL0NTU1RyYW5zaXRpb25Hcm91cC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9hZGRDbGFzcyA9IHJlcXVpcmUoJ2RvbS1oZWxwZXJzL2NsYXNzL2FkZENsYXNzJyk7XG5cbnZhciBfYWRkQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkQ2xhc3MpO1xuXG52YXIgX3JlbW92ZUNsYXNzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvY2xhc3MvcmVtb3ZlQ2xhc3MnKTtcblxudmFyIF9yZW1vdmVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVDbGFzcyk7XG5cbnZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdXRpbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcblxudmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcblxudmFyIF9wcm9wZXJ0aWVzID0gcmVxdWlyZSgnZG9tLWhlbHBlcnMvdHJhbnNpdGlvbi9wcm9wZXJ0aWVzJyk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL3V0aWxzL1Byb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBldmVudHMgPSBbXTtcbmlmIChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKSBldmVudHMucHVzaChfcHJvcGVydGllcy50cmFuc2l0aW9uRW5kKTtcbmlmIChfcHJvcGVydGllcy5hbmltYXRpb25FbmQpIGV2ZW50cy5wdXNoKF9wcm9wZXJ0aWVzLmFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIGFkZEVuZExpc3RlbmVyKG5vZGUsIGxpc3RlbmVyKSB7XG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCAwKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgbmFtZTogX1Byb3BUeXBlcy5uYW1lU2hhcGUuaXNSZXF1aXJlZCxcblxuICAvLyBPbmNlIHdlIHJlcXVpcmUgdGltZW91dHMgdG8gYmUgc3BlY2lmaWVkLCB3ZSBjYW4gcmVtb3ZlIHRoZVxuICAvLyBib29sZWFuIGZsYWdzIChhcHBlYXIgZXRjLikgYW5kIGp1c3QgYWNjZXB0IGEgbnVtYmVyXG4gIC8vIG9yIGEgYm9vbCBmb3IgdGhlIHRpbWVvdXQgZmxhZ3MgKGFwcGVhclRpbWVvdXQgZXRjLilcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGFwcGVhclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBlbnRlclRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxuICBsZWF2ZVRpbWVvdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyXG59O1xuXG52YXIgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTU1RyYW5zaXRpb25Hcm91cENoaWxkKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNvbXBvbmVudFdpbGxBcHBlYXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lLCBfdGhpcy5wcm9wcy5hcHBlYXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsRW50ZXIgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmVudGVyKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSwgX3RoaXMucHJvcHMuZW50ZXJUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jb21wb25lbnRXaWxsTGVhdmUgPSBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSwgX3RoaXMucHJvcHMubGVhdmVUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUgPSBbXTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cyA9IFtdO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihhbmltYXRpb25UeXBlLCBmaW5pc2hDYWxsYmFjaywgdGltZW91dCkge1xuICAgIHZhciBub2RlID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcyk7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmIChmaW5pc2hDYWxsYmFjaykge1xuICAgICAgICBmaW5pc2hDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWVbYW5pbWF0aW9uVHlwZV0gfHwgdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ10gfHwgY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IHZvaWQgMDtcblxuICAgICgwLCBfYWRkQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGNsYXNzTmFtZSk7XG5cbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgdG8gYWN0dWFsbHkgdHJpZ2dlciBhIHRyYW5zaXRpb24uXG4gICAgdGhpcy5xdWV1ZUNsYXNzQW5kTm9kZShhY3RpdmVDbGFzc05hbWUsIG5vZGUpO1xuXG4gICAgLy8gQ2xlYW4tdXAgdGhlIGFuaW1hdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gICAgdmFyIGZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaChlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBpZiAocmVtb3ZlTGlzdGVuZXJzKSByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgKDAsIF9yZW1vdmVDbGFzczIuZGVmYXVsdCkobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgICgwLCBfcmVtb3ZlQ2xhc3MyLmRlZmF1bHQpKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluaXNoLCB0aW1lb3V0KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXRzLnB1c2godGltZXIpO1xuICAgIH0gZWxzZSBpZiAoX3Byb3BlcnRpZXMudHJhbnNpdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzID0gYWRkRW5kTGlzdGVuZXIobm9kZSwgZmluaXNoKTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLnF1ZXVlQ2xhc3NBbmROb2RlID0gZnVuY3Rpb24gcXVldWVDbGFzc0FuZE5vZGUoY2xhc3NOYW1lLCBub2RlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmNsYXNzTmFtZUFuZE5vZGVRdWV1ZS5wdXNoKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbm9kZTogbm9kZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnJhZkhhbmRsZSkge1xuICAgICAgdGhpcy5yYWZIYW5kbGUgPSAoMCwgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQucHJvdG90eXBlLmZsdXNoQ2xhc3NOYW1lQW5kTm9kZVF1ZXVlID0gZnVuY3Rpb24gZmx1c2hDbGFzc05hbWVBbmROb2RlUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLnVubW91bnRlZCkge1xuICAgICAgdGhpcy5jbGFzc05hbWVBbmROb2RlUXVldWUuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRvIGZvcmNlIGEgcmVwYWludCxcbiAgICAgICAgLy8gd2hpY2ggaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHRyYW5zaXRpb24gc3R5bGVzIHdoZW4gYWRkaW5nIGEgY2xhc3MgbmFtZS5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgICAgIG9iai5ub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgICAgICAgKDAsIF9hZGRDbGFzczIuZGVmYXVsdCkob2JqLm5vZGUsIG9iai5jbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lQW5kTm9kZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5yYWZIYW5kbGUgPSBudWxsO1xuICB9O1xuXG4gIENTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy5uYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy5hcHBlYXI7XG4gICAgZGVsZXRlIHByb3BzLmVudGVyO1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZTtcbiAgICBkZWxldGUgcHJvcHMuYXBwZWFyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMuZW50ZXJUaW1lb3V0O1xuICAgIGRlbGV0ZSBwcm9wcy5sZWF2ZVRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuZGlzcGxheU5hbWUgPSAnQ1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnO1xuXG5cbkNTU1RyYW5zaXRpb25Hcm91cENoaWxkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHByb3BUeXBlcyA6IHt9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9DU1NUcmFuc2l0aW9uR3JvdXBDaGlsZC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uID0gcmVxdWlyZSgnY2hhaW4tZnVuY3Rpb24nKTtcblxudmFyIF9jaGFpbkZ1bmN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoYWluRnVuY3Rpb24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9DaGlsZE1hcHBpbmcgPSByZXF1aXJlKCcuL3V0aWxzL0NoaWxkTWFwcGluZycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIGNoaWxkRmFjdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdzcGFuJyxcbiAgY2hpbGRGYWN0b3J5OiBmdW5jdGlvbiBjaGlsZEZhY3RvcnkoY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cbn07XG5cbnZhciBUcmFuc2l0aW9uR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHJhbnNpdGlvbkdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0aW9uR3JvdXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNpdGlvbkdyb3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgX3RoaXMucGVyZm9ybUFwcGVhciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcikge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcihfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRBcHBlYXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEFwcGVhcigpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGFwcGVhcmVkLiBSZW1vdmUgaXQuXG4gICAgICAgIF90aGlzLnBlcmZvcm1MZWF2ZShrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBlcmZvcm1FbnRlciA9IGZ1bmN0aW9uIChrZXksIGNvbXBvbmVudCkge1xuICAgICAgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbEVudGVyKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIoX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVFbnRlcmluZyhrZXksIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9oYW5kbGVEb25lRW50ZXJpbmcgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIpIHtcbiAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgICB2YXIgY3VycmVudENoaWxkTWFwcGluZyA9ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgZW50ZXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgICBfdGhpcy5wZXJmb3JtTGVhdmUoa2V5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wZXJmb3JtTGVhdmUgPSBmdW5jdGlvbiAoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgIF90aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxMZWF2ZSkge1xuICAgICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbExlYXZlKF90aGlzLl9oYW5kbGVEb25lTGVhdmluZy5iaW5kKF90aGlzLCBrZXksIGNvbXBvbmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc29tZXdoYXQgZGFuZ2Vyb3VzIGIvYyBpdCBjYWxscyBzZXRTdGF0ZSgpXG4gICAgICAgIC8vIGFnYWluLCBlZmZlY3RpdmVseSBtdXRhdGluZyB0aGUgY29tcG9uZW50IGJlZm9yZSBhbGwgdGhlIHdvcmtcbiAgICAgICAgLy8gaXMgZG9uZS5cbiAgICAgICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nKGtleSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX2hhbmRsZURvbmVMZWF2aW5nID0gZnVuY3Rpb24gKGtleSwgY29tcG9uZW50KSB7XG4gICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKSB7XG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRMZWF2ZSgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgX3RoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSAoMCwgX0NoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcpKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKGN1cnJlbnRDaGlsZE1hcHBpbmcgJiYgY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIC8vIFRoaXMgZW50ZXJlZCBhZ2FpbiBiZWZvcmUgaXQgZnVsbHkgbGVmdC4gQWRkIGl0IGFnYWluLlxuICAgICAgICBfdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBfZXh0ZW5kcyh7fSwgc3RhdGUuY2hpbGRyZW4pO1xuICAgICAgICAgIGRlbGV0ZSBuZXdDaGlsZHJlbltrZXldO1xuICAgICAgICAgIHJldHVybiB7IGNoaWxkcmVuOiBuZXdDaGlsZHJlbiB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2hpbGRSZWZzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZykocHJvcHMuY2hpbGRyZW4pXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzID0ge307XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGluaXRpYWxDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgIGZvciAodmFyIGtleSBpbiBpbml0aWFsQ2hpbGRNYXBwaW5nKSB7XG4gICAgICBpZiAoaW5pdGlhbENoaWxkTWFwcGluZ1trZXldKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybUFwcGVhcihrZXksIHRoaXMuY2hpbGRSZWZzW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBuZXh0Q2hpbGRNYXBwaW5nID0gKDAsIF9DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgIHZhciBwcmV2Q2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hpbGRyZW46ICgwLCBfQ2hpbGRNYXBwaW5nLm1lcmdlQ2hpbGRNYXBwaW5ncykocHJldkNoaWxkTWFwcGluZywgbmV4dENoaWxkTWFwcGluZylcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGtleSBpbiBuZXh0Q2hpbGRNYXBwaW5nKSB7XG4gICAgICB2YXIgaGFzUHJldiA9IHByZXZDaGlsZE1hcHBpbmcgJiYgcHJldkNoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKG5leHRDaGlsZE1hcHBpbmdba2V5XSAmJiAhaGFzUHJldiAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rZXkgaW4gcHJldkNoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc05leHQgPSBuZXh0Q2hpbGRNYXBwaW5nICYmIG5leHRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoX2tleSk7XG4gICAgICBpZiAocHJldkNoaWxkTWFwcGluZ1tfa2V5XSAmJiAhaGFzTmV4dCAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1tfa2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0xlYXZlLnB1c2goX2tleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgd2Ugd2FudCB0byBzb21lZGF5IGNoZWNrIGZvciByZW9yZGVyaW5nLCB3ZSBjb3VsZCBkbyBpdCBoZXJlLlxuICB9O1xuXG4gIFRyYW5zaXRpb25Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGtleXNUb0VudGVyID0gdGhpcy5rZXlzVG9FbnRlcjtcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAga2V5c1RvRW50ZXIuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX3RoaXMyLnBlcmZvcm1FbnRlcihrZXksIF90aGlzMi5jaGlsZFJlZnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICB2YXIga2V5c1RvTGVhdmUgPSB0aGlzLmtleXNUb0xlYXZlO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgICBrZXlzVG9MZWF2ZS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpczIucGVyZm9ybUxlYXZlKGtleSwgX3RoaXMyLmNoaWxkUmVmc1trZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICBUcmFuc2l0aW9uR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIC8vIFRPRE86IHdlIGNvdWxkIGdldCByaWQgb2YgdGhlIG5lZWQgZm9yIHRoZSB3cmFwcGVyIG5vZGVcbiAgICAvLyBieSBjbG9uaW5nIGEgc2luZ2xlIGNoaWxkXG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSBbXTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGtleSkge1xuICAgICAgdmFyIGNoaWxkID0gX3RoaXMzLnN0YXRlLmNoaWxkcmVuW2tleV07XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGlzQ2FsbGJhY2tSZWYgPSB0eXBlb2YgY2hpbGQucmVmICE9PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGZhY3RvcnlDaGlsZCA9IF90aGlzMy5wcm9wcy5jaGlsZEZhY3RvcnkoY2hpbGQpO1xuICAgICAgICB2YXIgcmVmID0gZnVuY3Rpb24gcmVmKHIpIHtcbiAgICAgICAgICBfdGhpczMuY2hpbGRSZWZzW2tleV0gPSByO1xuICAgICAgICB9O1xuXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGlzQ2FsbGJhY2tSZWYsICdzdHJpbmcgcmVmcyBhcmUgbm90IHN1cHBvcnRlZCBvbiBjaGlsZHJlbiBvZiBUcmFuc2l0aW9uR3JvdXAgYW5kIHdpbGwgYmUgaWdub3JlZC4gJyArICdQbGVhc2UgdXNlIGEgY2FsbGJhY2sgcmVmIGluc3RlYWQ6IGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmVmcy1hbmQtdGhlLWRvbS5odG1sI3RoZS1yZWYtY2FsbGJhY2stYXR0cmlidXRlJykgOiB2b2lkIDA7XG5cbiAgICAgICAgLy8gQWx3YXlzIGNoYWluaW5nIHRoZSByZWZzIGxlYWRzIHRvIHByb2JsZW1zIHdoZW4gdGhlIGNoaWxkRmFjdG9yeVxuICAgICAgICAvLyB3cmFwcyB0aGUgY2hpbGQuIFRoZSBjaGlsZCByZWYgY2FsbGJhY2sgZ2V0cyBjYWxsZWQgdHdpY2Ugd2l0aCB0aGVcbiAgICAgICAgLy8gd3JhcHBlciBhbmQgdGhlIGNoaWxkLiBTbyB3ZSBvbmx5IG5lZWQgdG8gY2hhaW4gdGhlIHJlZiBpZiB0aGVcbiAgICAgICAgLy8gZmFjdG9yeUNoaWxkIGlzIG5vdCBkaWZmZXJlbnQgZnJvbSBjaGlsZC5cbiAgICAgICAgaWYgKGZhY3RvcnlDaGlsZCA9PT0gY2hpbGQgJiYgaXNDYWxsYmFja1JlZikge1xuICAgICAgICAgIHJlZiA9ICgwLCBfY2hhaW5GdW5jdGlvbjIuZGVmYXVsdCkoY2hpbGQucmVmLCByZWYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWW91IG1heSBuZWVkIHRvIGFwcGx5IHJlYWN0aXZlIHVwZGF0ZXMgdG8gYSBjaGlsZCBhcyBpdCBpcyBsZWF2aW5nLlxuICAgICAgICAvLyBUaGUgbm9ybWFsIFJlYWN0IHdheSB0byBkbyBpdCB3b24ndCB3b3JrIHNpbmNlIHRoZSBjaGlsZCB3aWxsIGhhdmVcbiAgICAgICAgLy8gYWxyZWFkeSBiZWVuIHJlbW92ZWQuIEluIGNhc2UgeW91IG5lZWQgdGhpcyBiZWhhdmlvciB5b3UgY2FuIHByb3ZpZGVcbiAgICAgICAgLy8gYSBjaGlsZEZhY3RvcnkgZnVuY3Rpb24gdG8gd3JhcCBldmVyeSBjaGlsZCwgZXZlbiB0aGUgb25lcyB0aGF0IGFyZVxuICAgICAgICAvLyBsZWF2aW5nLlxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLnB1c2goX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChmYWN0b3J5Q2hpbGQsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICByZWY6IHJlZlxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN0YXRlLmNoaWxkcmVuKSB7XG4gICAgICBfbG9vcChrZXkpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdCBmb3J3YXJkIFRyYW5zaXRpb25Hcm91cCBwcm9wcyB0byBwcmltaXRpdmUgRE9NIG5vZGVzXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uTGVhdmU7XG4gICAgZGVsZXRlIHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uQXBwZWFyO1xuICAgIGRlbGV0ZSBwcm9wcy50cmFuc2l0aW9uRW50ZXI7XG4gICAgZGVsZXRlIHByb3BzLmNoaWxkRmFjdG9yeTtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkxlYXZlVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkVudGVyVGltZW91dDtcbiAgICBkZWxldGUgcHJvcHMudHJhbnNpdGlvbkFwcGVhclRpbWVvdXQ7XG4gICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuVG9SZW5kZXIpO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uR3JvdXA7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uR3JvdXAuZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbkdyb3VwJztcblxuXG5UcmFuc2l0aW9uR3JvdXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gcHJvcFR5cGVzIDoge307XG5UcmFuc2l0aW9uR3JvdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2l0aW9uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvVHJhbnNpdGlvbkdyb3VwLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZXRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmc7XG5leHBvcnRzLm1lcmdlQ2hpbGRNYXBwaW5ncyA9IG1lcmdlQ2hpbGRNYXBwaW5ncztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbi8qKlxuICogR2l2ZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gLCByZXR1cm4gYW4gb2JqZWN0IG1hcHBpbmcga2V5IHRvIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Kn0gY2hpbGRyZW4gYHRoaXMucHJvcHMuY2hpbGRyZW5gXG4gKiBAcmV0dXJuIHtvYmplY3R9IE1hcHBpbmcgb2Yga2V5IHRvIGNoaWxkXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkTWFwcGluZyhjaGlsZHJlbikge1xuICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgX3JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJlc3VsdFtjaGlsZC5rZXldID0gY2hpbGQ7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICogc2FtZSByZW5kZXIgcGFzcy4gV2Ugd2FudCB0byBzaG93ICpib3RoKiBzaW5jZSB3ZSB3YW50IHRvIHNpbXVsdGFuZW91c2x5XG4gKiBhbmltYXRlIGVsZW1lbnRzIGluIGFuZCBvdXQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBwcmV2aW91cyBzZXQgb2Yga2V5c1xuICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gKiBvcmRlcmluZy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgZXhwb3NlIHNvbWUgb2YgdGhlIHV0aWxpdGllcyBpblxuICogUmVhY3RNdWx0aUNoaWxkIHRvIG1ha2UgdGhpcyBlYXN5LCBidXQgZm9yIG5vdyBSZWFjdCBpdHNlbGYgZG9lcyBub3RcbiAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICogc28gd2UgaW1wbGVtZW50IGl0IGhlcmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gKiBgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZygpYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0IG5leHQgY2hpbGRyZW4gYXMgcmV0dXJuZWQgZnJvbVxuICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IGEga2V5IHNldCB0aGF0IGNvbnRhaW5zIGFsbCBrZXlzIGluIGBwcmV2YCBhbmQgYWxsIGtleXNcbiAqIGluIGBuZXh0YCBpbiBhIHJlYXNvbmFibGUgb3JkZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRNYXBwaW5ncyhwcmV2LCBuZXh0KSB7XG4gIHByZXYgPSBwcmV2IHx8IHt9O1xuICBuZXh0ID0gbmV4dCB8fCB7fTtcblxuICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gbmV4dFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2W2tleV07XG4gIH1cblxuICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cbiAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgdmFyIG5leHRLZXlzUGVuZGluZyA9IHt9O1xuXG4gIHZhciBwZW5kaW5nS2V5cyA9IFtdO1xuICBmb3IgKHZhciBwcmV2S2V5IGluIHByZXYpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShwcmV2S2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaSA9IHZvaWQgMDtcbiAgdmFyIGNoaWxkTWFwcGluZyA9IHt9O1xuICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHQpIHtcbiAgICBpZiAobmV4dEtleXNQZW5kaW5nLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dEtleXNQZW5kaW5nW25leHRLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwZW5kaW5nTmV4dEtleSA9IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXTtcbiAgICAgICAgY2hpbGRNYXBwaW5nW25leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nTmV4dEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNoaWxkTWFwcGluZ1tuZXh0S2V5XSA9IGdldFZhbHVlRm9yS2V5KG5leHRLZXkpO1xuICB9XG5cbiAgLy8gRmluYWxseSwgYWRkIHRoZSBrZXlzIHdoaWNoIGRpZG4ndCBhcHBlYXIgYmVmb3JlIGFueSBrZXkgaW4gYG5leHRgXG4gIGZvciAoaSA9IDA7IGkgPCBwZW5kaW5nS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRNYXBwaW5nO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vcmVhY3QtdHJhbnNpdGlvbi1ncm91cC91dGlscy9DaGlsZE1hcHBpbmcuanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm5hbWVTaGFwZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudHJhbnNpdGlvblRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblRpbWVvdXQodHJhbnNpdGlvblR5cGUpIHtcbiAgdmFyIHRpbWVvdXRQcm9wTmFtZSA9ICd0cmFuc2l0aW9uJyArIHRyYW5zaXRpb25UeXBlICsgJ1RpbWVvdXQnO1xuICB2YXIgZW5hYmxlZFByb3BOYW1lID0gJ3RyYW5zaXRpb24nICsgdHJhbnNpdGlvblR5cGU7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIC8vIElmIHRoZSB0cmFuc2l0aW9uIGlzIGVuYWJsZWRcbiAgICBpZiAocHJvcHNbZW5hYmxlZFByb3BOYW1lXSkge1xuICAgICAgLy8gSWYgbm8gdGltZW91dCBkdXJhdGlvbiBpcyBwcm92aWRlZFxuICAgICAgaWYgKHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRpbWVvdXRQcm9wTmFtZSArICcgd2FzblxcJ3Qgc3VwcGxpZWQgdG8gQ1NTVHJhbnNpdGlvbkdyb3VwOiAnICsgJ3RoaXMgY2FuIGNhdXNlIHVucmVsaWFibGUgYW5pbWF0aW9ucyBhbmQgd29uXFwndCBiZSBzdXBwb3J0ZWQgaW4gJyArICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFJlYWN0LiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWFuaW1hdGlvbi10cmFuc2l0aW9uLWdyb3VwLXRpbWVvdXQgZm9yIG1vcmUgJyArICdpbmZvcm1hdGlvbi4nKTtcblxuICAgICAgICAvLyBJZiB0aGUgZHVyYXRpb24gaXNuJ3QgYSBudW1iZXJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BzW3RpbWVvdXRQcm9wTmFtZV0gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IodGltZW91dFByb3BOYW1lICsgJyBtdXN0IGJlIGEgbnVtYmVyIChpbiBtaWxsaXNlY29uZHMpJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59XG5cbnZhciBuYW1lU2hhcGUgPSBleHBvcnRzLm5hbWVTaGFwZSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgbGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59KSwgX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gIGVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZW50ZXJBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBsZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGxlYXZlQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYXBwZWFyQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ1xufSldKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdXRpbHMvUHJvcFR5cGVzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0TWVtb2l6ZSA9IGRlZmF1bHRNZW1vaXplO1xuZXhwb3J0cy5jcmVhdGVTZWxlY3RvckNyZWF0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3I7XG5leHBvcnRzLmNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcjtcbmZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIHByZXYsIG5leHQpIHtcbiAgaWYgKHByZXYgPT09IG51bGwgfHwgbmV4dCA9PT0gbnVsbCB8fCBwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICB2YXIgbGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdEVxdWFsaXR5Q2hlY2s7XG5cbiAgdmFyIGxhc3RBcmdzID0gbnVsbDtcbiAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuICAvLyB3ZSByZWZlcmVuY2UgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZW0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKSB7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cbiAgaWYgKCFkZXBlbmRlbmNpZXMuZXZlcnkoZnVuY3Rpb24gKGRlcCkge1xuICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuICB9KSkge1xuICAgIHZhciBkZXBlbmRlbmN5VHlwZXMgPSBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBjcmVhdG9ycyBleHBlY3QgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsICcgKyAoJ2luc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogWycgKyBkZXBlbmRlbmN5VHlwZXMgKyAnXScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihtZW1vaXplKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZW1vaXplT3B0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtZW1vaXplT3B0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgZnVuY3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIHZhciByZXN1bHRGdW5jID0gZnVuY3MucG9wKCk7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IGdldERlcGVuZGVuY2llcyhmdW5jcyk7XG5cbiAgICB2YXIgbWVtb2l6ZWRSZXN1bHRGdW5jID0gbWVtb2l6ZS5hcHBseSh1bmRlZmluZWQsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZWNvbXB1dGF0aW9ucysrO1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiByZXN1bHRGdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cbiAgICAvLyBJZiBhIHNlbGVjdG9yIGlzIGNhbGxlZCB3aXRoIHRoZSBleGFjdCBzYW1lIGFyZ3VtZW50cyB3ZSBkb24ndCBuZWVkIHRvIHRyYXZlcnNlIG91ciBkZXBlbmRlbmNpZXMgYWdhaW4uXG4gICAgdmFyIHNlbGVjdG9yID0gZGVmYXVsdE1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgdmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGFuZCBtdXRhdGUgYSBsb2NhbCBsaXN0IG9mIHBhcmFtcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgIHBhcmFtcy5wdXNoKGRlcGVuZGVuY2llc1tpXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuICAgIHNlbGVjdG9yLnJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zO1xuICAgIH07XG4gICAgc2VsZWN0b3IucmVzZXRSZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH07XG59XG5cbnZhciBjcmVhdGVTZWxlY3RvciA9IGV4cG9ydHMuY3JlYXRlU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoZGVmYXVsdE1lbW9pemUpO1xuXG5mdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGNyZWF0ZVNlbGVjdG9yO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9yZXNlbGVjdC9saWIvaW5kZXguanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCBUb2dnbGVTZXR0aW5ncyBmcm9tICcuLi9Ub2dnbGVTZXR0aW5ncy9Ub2dnbGVTZXR0aW5ncyc7XHJcbmltcG9ydCAnLi9EZXZpY2VMaXN0SXRlbS5zY3NzJztcclxuXHJcbmNsYXNzIERldmljZUxpc3RJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnNldERldmljZUlkID0gKGUpID0+e1xyXG4gICAgICB0aGlzLnByb3BzLnNldFBvcHVwU2hvd24odGhpcy5wcm9wcy5kYXRhLl9pZCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV2aWNlLWl0ZW1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19pbmZvXCI+XHJcbiAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJkZXZpY2UtaXRlbV9faW5mby1uYW1lXCIgdG89e1xyXG4gICAgICAgICAgICBgL2RldmljZXMvZGV2aWNlLyR7dGhpcy5wcm9wcy5kYXRhLl9pZH1gXHJcbiAgICAgICAgICB9PlxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhLm5hbWV9XHJcbiAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19pbmZvLXN0YXR1c1wiPlxyXG4gICAgICAgICAgICA8VG9nZ2xlU2V0dGluZ3NcclxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmRhdGEuc3RhdHVzfVxyXG4gICAgICAgICAgICAgIGl0ZW1JZD17dGhpcy5wcm9wcy5kYXRhLl9pZH1cclxuICAgICAgICAgICAgICBzZXRJdGVtVmFsdWU9e3RoaXMucHJvcHMuY2hhbmdlU3RhdHVzfS8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvbi1sb2NhdGlvblwiPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxvY2F0aW9ufTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1pdGVtX19kZXNjcmlwdGlvbi1pY29uXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXZpY2UtaXRlbV9fZGVzY3JpcHRpb24taWNvbi1kZWxldGVcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImZhIGZhLXRyYXNoXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldERldmljZUlkfT5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRldmljZUxpc3RJdGVtLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgc2V0UG9wdXBTaG93bjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9jYXRpb246IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgIHN0YXR1czogUHJvcFR5cGVzLmJvb2xlYW4sXHJcbiAgICBfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgbG9jYXRpb246IFByb3BUeXBlcy5zdHJpbmdcclxuICB9KVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlTGlzdEl0ZW07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9NZXNzYWdlL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUG9wdXAvUG9wdXAnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24nO1xyXG5pbXBvcnQgTGlzdEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlcic7XHJcblxyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuY2xhc3MgRGV2aWNlc1NlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMuZmlsdGVyT3B0aW9uO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImRldmljZS1saXN0XCI+XHJcbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cImRldmljZS1saXN0X190aXRsZVwiPlxyXG4gICAgICAgICAge3RoaXMucHJvcHMubG9jYXRpb25PZkRldmljZXMgP1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uT2ZEZXZpY2VzLnRvVXBwZXJDYXNlKClcclxuICAgICAgICAgICAgOiAnWW91ciBkZXZpY2VzJ31cclxuICAgICAgICA8L2gxPlxyXG4gICAgICAgIDxMaXN0SGVhZGVyXHJcbiAgICAgICAgICBxdWFudGl0eT17dGhpcy5wcm9wcy5xdWFudGl0eX1cclxuICAgICAgICAgIGxvY2F0aW9uPXt0aGlzLnByb3BzLmxvY2F0aW9ufVxyXG4gICAgICAgICAgaGlzdG9yeT17dGhpcy5wcm9wcy5oaXN0b3J5fVxyXG4gICAgICAgICAgbWF0Y2g9e3RoaXMucHJvcHMubWF0Y2h9IC8+XHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiZGV2aWNlLWxpc3RfX2NvbnRlbnRcIj5cclxuICAgICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB9XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDxQb3B1cFxyXG4gICAgICAgICAgc2V0UG9wdXBTaG93bj17dGhpcy5wcm9wcy5zZXRQb3B1cFNob3dufVxyXG4gICAgICAgICAgcG9wdXBTaG93bj17dGhpcy5wcm9wcy5wb3B1cFNob3dufVxyXG4gICAgICAgICAgaGVhZGVyPVwiQ29uZmlybSB0aGUgYWN0aW9uXCJcclxuICAgICAgICAgIHRleHQ9XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSBkZXZpY2U/XCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHNldFBvcHVwU2hvd249e3RoaXMucHJvcHMuc2V0UG9wdXBTaG93bn1cclxuICAgICAgICAgICAgb2tIYW5kbGVyPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVEZXZpY2UodGhpcy5wcm9wcy5jdXJyZW50SWQpO1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0UG9wdXBTaG93bigpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9eydidG4gcG9wdXBfX2J0bid9XHJcbiAgICAgICAgICAgIGlubmVyVGV4dD17J09rJ31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIG9rSGFuZGxlcj17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0UG9wdXBTaG93bigpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLS1kZWZhdWx0IHBvcHVwX19idG4nfVxyXG4gICAgICAgICAgICBpbm5lclRleHQ9eydDYW5jZWwnfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1BvcHVwPlxyXG4gICAgICAgIDxNZXNzYWdlXHJcbiAgICAgICAgICBjbGVhclN0YXR1cz17dGhpcy5wcm9wcy5jbGVhclN0YXR1c31cclxuICAgICAgICAgIGhlYWRlcj17J0Vycm9yJ31cclxuICAgICAgICAvPlxyXG4gICAgICA8L3NlY3Rpb24+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbkRldmljZXNTZWN0aW9uLnByb3BUeXBlcyA9IHtcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9hZERldmljZXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGZpbHRlck9wdGlvbjogUHJvcFR5cGVzLmFueSxcclxuICBmaWx0ZXJBY3Rpb246IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRldmljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcclxuICBoaXN0b3J5OiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIG1hdGNoOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxyXG4gIGNsZWFyU3RhdHVzOiBQcm9wVHlwZXMuZnVuYyxcclxuICBjdXJyZW50SWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2V0UG9wdXBTaG93bjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcG9wdXBTaG93bjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgcXVhbnRpdHk6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgbG9jYXRpb25PZkRldmljZXM6IFByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldmljZXNTZWN0aW9uO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbi5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCAnLi9GaWx0ZXJTZWxlY3Quc2Nzcyc7XHJcblxyXG5jb25zdCBGaWx0ZXJTZWxlY3QgPSAocHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXJCb3hcIj5cclxuICAgICAgPHNlbGVjdFxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZpbHRlckJveF9fZmlsdGVyXCJcclxuICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWUgfHwgJ2FsbCd9XHJcbiAgICAgICAgb25DaGFuZ2U9e2UgPT4gcHJvcHMuaGFuZGxlU2VsZWN0KGUudGFyZ2V0LnZhbHVlKX0+XHJcbiAgICAgICAgICB7cHJvcHMub3B0aW9ucy5tYXAoaXRlbSA9PlxyXG4gICAgICAgICAgICA8b3B0aW9uXHJcbiAgICAgICAgICAgICAgdmFsdWU9eyBpdGVtLnZhbHVlfVxyXG4gICAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX0+XHJcbiAgICAgICAgICAgICAgICB7aXRlbS5pbm5lclRleHR9XHJcbiAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICApfVxyXG4gICAgICA8L3NlbGVjdD5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5GaWx0ZXJTZWxlY3QucHJvcFR5cGVzID0ge1xyXG4gIGhhbmRsZVNlbGVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmdcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZpbHRlclNlbGVjdDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XHJcbmltcG9ydCBGaWx0ZXJTZWxlY3QgZnJvbSAnLi4vRmlsdGVyU2VsZWN0L0ZpbHRlclNlbGVjdCc7XHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vU2VhcmNoL1NlYXJjaCc7XHJcbmltcG9ydCB7XHJcbiAgZmlsdGVyQWN0aW9uLFxyXG4gIHNlYXJjaEFjdGlvbiB9IGZyb20gJy4uLy4uL2FjdGlvbnMvZGV2aWNlcy5hY3Rpb24nO1xyXG5pbXBvcnQgeyBxdWVyeUZyb21PYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICcuLi8uLi9kYXRhL2ZpbHRlck9wdGlvbnMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuY2xhc3MgTGlzdEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLmluaXRpYWxQYXJhbXMgPSB7XHJcbiAgICAgIHNlYXJjaDogJycsXHJcbiAgICAgIGZpbHRlcjogJ2FsbCdcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3QgPSAoZmlsdGVyT3B0aW9uKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZmlsdGVyQWN0aW9uKGZpbHRlck9wdGlvbik7XHJcbiAgICAgIHRoaXMudXBkYXRlVXJsKHsgLi4udGhpcy5pbml0aWFsUGFyYW1zLCBmaWx0ZXI6IGZpbHRlck9wdGlvbiB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmhhbmRsZVNlYXJjaFJlc3VsdCA9IChzZWFyY2hWYWx1ZSkgPT4ge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbmRJdGVtcyhzZWFyY2hWYWx1ZSk7XHJcbiAgICAgIHRoaXMudXBkYXRlVXJsKHsgLi4udGhpcy5pbml0aWFsUGFyYW1zLCBzZWFyY2g6IHNlYXJjaFZhbHVlIH0pO1xyXG4gICAgfTtcclxuICAgIHRoaXMudXBkYXRlVXJsID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IHRoaXMucHJvcHMubWF0Y2g7XHJcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSB0aGlzLnByb3BzLmhpc3Rvcnk7XHJcblxyXG4gICAgICB0aGlzLmluaXRpYWxQYXJhbXMgPSBwYXJhbXM7XHJcbiAgICAgIGhpc3RvcnkucHVzaCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IG1hdGNoLnVybCxcclxuICAgICAgICBzZWFyY2g6IHF1ZXJ5RnJvbU9iamVjdChwYXJhbXMpXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLnByb3BzLmxvY2F0aW9uO1xyXG4gICAgY29uc3Qgc2VhcmNoVmFsdWUgPSBxdWVyeVN0cmluZy5wYXJzZShsb2NhdGlvbi5zZWFyY2gpLnNlYXJjaDtcclxuICAgIGNvbnN0IGZpbHRlclZhbHVlID0gcXVlcnlTdHJpbmcucGFyc2UobG9jYXRpb24uc2VhcmNoKS5maWx0ZXI7XHJcblxyXG4gICAgaWYgKHNlYXJjaFZhbHVlKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoUmVzdWx0KHNlYXJjaFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVyVmFsdWUpIHtcclxuICAgICAgdGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3QoZmlsdGVyVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbignYWxsJyk7XHJcbiAgICB0aGlzLnByb3BzLmZpbmRJdGVtcygnJyk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJkZXZpY2UtbGlzdF9faGVhZGVyXCI+XHJcbiAgICAgICAgPFNlYXJjaFxyXG4gICAgICAgICAgaGFuZGxlU2VhcmNoPXt0aGlzLmhhbmRsZVNlYXJjaFJlc3VsdH1cclxuICAgICAgICAgIHF1YW50aXR5PXt0aGlzLnByb3BzLnF1YW50aXR5fVxyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuaW5pdGlhbFBhcmFtcy5zZWFyY2h9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRldmljZS1saXN0X19oZWFkZXItLXJpZ2h0XCI+XHJcbiAgICAgICAgICA8RmlsdGVyU2VsZWN0XHJcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdD17dGhpcy5oYW5kbGVGaWx0ZXJTZWxlY3R9XHJcbiAgICAgICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XHJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLmluaXRpYWxQYXJhbXMuZmlsdGVyfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxMaW5rIHRvPXsnL2J1aWxkZXInfSBjbGFzc05hbWU9XCJidG4gYnRuLS1wcmltYXJ5IGFkZC1pdGVtLWJ1dHRvblwiPlxyXG4gICAgICAgICAgICBOZXdcclxuICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4oe1xyXG4gIGZpbHRlck9wdGlvbjogc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbixcclxuICBzZWFyY2g6IHN0YXRlLnNlYXJjaEFuZEZpbHRlci5zZWFyY2hWYWx1ZVxyXG59KTtcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICBmaWx0ZXJBY3Rpb246IChmaWx0ZXJPcHRpb24pID0+IGRpc3BhdGNoKGZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pKSxcclxuICBmaW5kSXRlbXM6IChzZWFyY2hWYWx1ZSkgPT4gZGlzcGF0Y2goc2VhcmNoQWN0aW9uKHNlYXJjaFZhbHVlKSlcclxufSk7XHJcblxyXG5MaXN0SGVhZGVyLnByb3BUeXBlcyA9IHtcclxuICBzZWFyY2g6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZmlsdGVyT3B0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGZpbHRlckFjdGlvbjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZmluZEl0ZW1zOiBQcm9wVHlwZXMuZnVuYyxcclxuICBtYXRjaDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBoaXN0b3J5OiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvYWREZXZpY2VzOiBQcm9wVHlwZXMuZnVuYyxcclxuICBxdWFudGl0eTogUHJvcFR5cGVzLm51bWJlclxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTGlzdEhlYWRlcik7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0xpc3RIZWFkZXIvTGlzdEhlYWRlci5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCAnLi9zZWFyY2guc2Nzcyc7XHJcblxyXG5jb25zdCBTZWFyY2ggPSAocHJvcHMpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hCb3hcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2hCb3hfX3Jlc3VsdHNcIj5cclxuICAgICAgICA8c3Bhbj57cHJvcHMucXVhbnRpdHl9PC9zcGFuPiBkZXZpY2VzXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgbmFtZT1cInNlYXJjaFwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkZpbmQgYSBkZXZpY2VcIlxyXG4gICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoQm94X19maWVsZFwiXHJcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzLmhhbmRsZVNlYXJjaChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICB9fS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcblNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgaGFuZGxlU2VhcmNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gIHF1YW50aXR5OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgJy4vVG9nZ2xlU3R5bGUuc2Nzcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2dnbGVTZXR0aW5ncyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2VWYWx1ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLnNldEl0ZW1WYWx1ZSghdGhpcy5wcm9wcy5jaGVja2VkLFxyXG4gICAgICB0aGlzLnByb3BzLml0ZW1JZCxcclxuICAgICAgdGhpcy5wcm9wcy5kZXZpY2VJZCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9eyBgJHsgdGhpcy5wcm9wcy5zdHlsZU5hbWUgfWAgfT5cclxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwic3dpdGNoXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5jaGVja2VkfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZVZhbHVlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2xpZGVyIHJvdW5kXCI+PC9kaXY+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVG9nZ2xlU2V0dGluZ3MucHJvcFR5cGVzID0ge1xyXG4gIGRldmljZTogUHJvcFR5cGVzLm9iamVjdCxcclxuICBzdHlsZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY2hlY2tlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuICBzZXRJdGVtVmFsdWU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGl0ZW1JZDogUHJvcFR5cGVzLmFueSxcclxuICBuZXdWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICBkZXZpY2VJZDogUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5Ub2dnbGVTZXR0aW5ncy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgY2hlY2tlZDogZmFsc2VcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlU2V0dGluZ3MvVG9nZ2xlU2V0dGluZ3MuanMiLCJleHBvcnQgY29uc3Qgb3B0aW9ucyA9IFtcclxuICB7XHJcbiAgICB2YWx1ZTogJ2FsbCcsXHJcbiAgICBpbm5lclRleHQ6ICdBbGwnXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogJ29uJyxcclxuICAgIGlubmVyVGV4dDogJ1Nob3cgT24nXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogJ29mZicsXHJcbiAgICBpbm5lclRleHQ6ICdTaG93IE9GRidcclxuICB9XHJcbl07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kYXRhL2ZpbHRlck9wdGlvbnMuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBEZXZpY2VMaXN0SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0RldmljZUxpc3RJdGVtL0RldmljZUxpc3RJdGVtJztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTWVzc2FnZS9NZXNzYWdlJztcclxuaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1BvcHVwL1BvcHVwJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uJztcclxuaW1wb3J0IExpc3RIZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MaXN0SGVhZGVyL0xpc3RIZWFkZXInO1xyXG5pbXBvcnQgRGV2aWNlc1NlY3Rpb24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9EZXZpc2VzU2VjdGlvbi9EZXZpc2VzU2VjdGlvbic7XHJcbmltcG9ydCB7XHJcbiAgbG9hZERldmljZXMsXHJcbiAgY2hhbmdlU3RhdHVzLFxyXG4gIGRlbGV0ZURldmljZSxcclxuICB1cGRhdGVEZXZpY2UsXHJcbiAgY2xlYXJTdGF0dXMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL2RldmljZXMuYWN0aW9uJztcclxuaW1wb3J0IHsgc2VuZE5vdGlmaWNhdGlvbldTIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9ub3RpZmljYXRpb25zLmFjdGlvbic7XHJcbmltcG9ydCB7IGZpbHRlckl0ZW1zIH0gZnJvbSAnLi4vLi4vc2VsZWN0b3JzJztcclxuaW1wb3J0IHsgc29ydERldmljZXNCeUxvY2F0aW9ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwIGZyb20gJ3JlYWN0LWFkZG9ucy1jc3MtdHJhbnNpdGlvbi1ncm91cCc7XHJcblxyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgJy4vRGV2aWNlTGlzdC5zY3NzJztcclxuXHJcbmNsYXNzIERldmljZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHBvcHVwU2hvd246IGZhbHNlLFxyXG4gICAgICBjdXJyZW50SWQ6ICcnLFxyXG4gICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgdG9kb3NQZXJQYWdlOiA2XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVsZXRlRGV2aWNlID0gKGlkKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlRGV2aWNlKGlkKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXRQb3B1cFNob3duID0gKGlkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuc3RhdGUucG9wdXBTaG93bjtcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHBvcHVwU2hvd246ICFjdXJyZW50U3RhdGUsXHJcbiAgICAgICAgY3VycmVudElkOiBpZFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmNoYW5nZVN0YXR1cyA9IChzdGF0dXMsIGlkKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuY2hhbmdlU3RhdHVzKHsgc3RhdHVzIH0sIGlkKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICB0aGlzLnByb3BzLmxvYWREZXZpY2VzKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJEZXZpY2VzIChsb2NhdGlvbnMsIGxvY2F0aW9uKSB7XHJcbiAgICBjb25zdCBkZXZpY2VzTGlzdCA9IGxvY2F0aW9uc1tsb2NhdGlvbl0ubGVuZ3RoID4gOCA/XHJcbiAgICAgIGxvY2F0aW9uc1tsb2NhdGlvbl0uc2xpY2UoMCwgNykgOlxyXG4gICAgICBsb2NhdGlvbnNbbG9jYXRpb25dO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIGRldmljZXNMaXN0Lm1hcCgoZGV2aWNlLCBpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxEZXZpY2VMaXN0SXRlbVxyXG4gICAgICAgICAgICBkYXRhPXtkZXZpY2V9XHJcbiAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgbG9jYXRpb249eycnfVxyXG4gICAgICAgICAgICBjaGFuZ2VTdGF0dXM9e3RoaXMuY2hhbmdlU3RhdHVzfVxyXG4gICAgICAgICAgICBzZXRQb3B1cFNob3duPXt0aGlzLnNldFBvcHVwU2hvd259Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckRldmljZUdyb3VwICgpIHtcclxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHNvcnREZXZpY2VzQnlMb2NhdGlvbnModGhpcy5wcm9wcy5kZXZpY2VzKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBPYmplY3Qua2V5cyhsb2NhdGlvbnMpLm1hcCgobG9jYXRpb24sIGkpID0+IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXZpY2UtZ3JvdXBcIiBrZXk9e2l9PlxyXG4gICAgICAgICAgICA8aDJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZXZpY2UtZ3JvdXBfX3RpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICB7bG9jYXRpb24udG9VcHBlckNhc2UoKX1cclxuICAgICAgICAgICAgPC9oMj5cclxuICAgICAgICAgICAgPFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGV2aWNlLWdyb3VwX19pdGVtc1wiXHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU9XCJoaWRlXCJcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0PXs1MDB9XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkxlYXZlVGltZW91dD17MzAwfT5cclxuICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJEZXZpY2VzKGxvY2F0aW9ucywgbG9jYXRpb24pfVxyXG4gICAgICAgICAgICAgIHtsb2NhdGlvbnNbbG9jYXRpb25dLmxlbmd0aCA+IDggP1xyXG4gICAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGV2aWNlLWdyb3VwX19saW5rXCJcclxuICAgICAgICAgICAgICAgICAgdG89e2AvZGV2aWNlcy8ke2xvY2F0aW9ufWB9PlxyXG4gICAgICAgICAgICAgICAgICA8aVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZhIGZhLXJlcGVhdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICBNb3JlIGRldmljZXNcclxuICAgICAgICAgICAgICAgIDwvTGluaz4gOiBudWxsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuZmlsdGVyT3B0aW9uO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLnByb3BzLmZpbHRlckFjdGlvbihmaWx0ZXJPcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxEZXZpY2VzU2VjdGlvblxyXG4gICAgICAgIGZpbHRlck9wdGlvbj17ZmlsdGVyT3B0aW9ufVxyXG4gICAgICAgIGRldmljZXM9e3RoaXMucHJvcHMuZGV2aWNlc31cclxuICAgICAgICBsb2NhdGlvbj17dGhpcy5wcm9wcy5sb2NhdGlvbn1cclxuICAgICAgICBoaXN0b3J5PXt0aGlzLnByb3BzLmhpc3Rvcnl9XHJcbiAgICAgICAgbWF0Y2g9e3RoaXMucHJvcHMubWF0Y2h9XHJcbiAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnN0YXR1c31cclxuICAgICAgICB0ZXh0PXt0aGlzLnByb3BzLmVycm9yVGV4dH1cclxuICAgICAgICBzZXRQb3B1cFNob3duPXt0aGlzLnNldFBvcHVwU2hvd259XHJcbiAgICAgICAgcG9wdXBTaG93bj17dGhpcy5zdGF0ZS5wb3B1cFNob3dufVxyXG4gICAgICAgIGRlbGV0ZURldmljZT17dGhpcy5kZWxldGVEZXZpY2V9XHJcbiAgICAgICAgY2xlYXJTdGF0dXM9e3RoaXMucHJvcHMuY2xlYXJTdGF0dXN9XHJcbiAgICAgICAgY3VycmVudElkPXt0aGlzLnN0YXRlLmN1cnJlbnRJZH1cclxuICAgICAgICBxdWFudGl0eT17dGhpcy5wcm9wcy5kZXZpY2VzLmxlbmd0aH0+XHJcblxyXG4gICAgICAgIHsgdGhpcy5wcm9wcy5zdGF0dXMgPT09ICdET05FJyAmJiB0aGlzLnByb3BzLmRldmljZXMubGVuZ3RoID09PSAwID9cclxuICAgICAgICAgIDxzcGFuPllvdSBuZWVkIHRvIGFkZCBkZXZpY2U8L3NwYW4+IDogdGhpcy5yZW5kZXJEZXZpY2VHcm91cCgpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L0RldmljZXNTZWN0aW9uPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+KHtcclxuICBkZXZpY2VzOiBmaWx0ZXJJdGVtcyhzdGF0ZSksXHJcbiAgc3RhdHVzOiBzdGF0ZS5kZXZpY2VzTGlzdC51cGxvYWRTdGF0dXMsXHJcbiAgZXJyb3JUZXh0OiBzdGF0ZS5kZXZpY2VzTGlzdC5lcnJvclRleHRcclxufSk7XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgY2hhbmdlU3RhdHVzOiAoZGF0YSwgaWQpID0+IGRpc3BhdGNoKHVwZGF0ZURldmljZShkYXRhLCBpZCkpLFxyXG4gIGxvYWREZXZpY2VzOiAoKSA9PiBkaXNwYXRjaChsb2FkRGV2aWNlcygpKSxcclxuICBkZWxldGVEZXZpY2U6IChpZCkgPT4gZGlzcGF0Y2goZGVsZXRlRGV2aWNlKGlkKSksXHJcbiAgc2VuZE5vdGlmaWNhdGlvbldTOiAobWVzc2FnZSkgPT4gZGlzcGF0Y2goc2VuZE5vdGlmaWNhdGlvbldTKG1lc3NhZ2UpKSxcclxuICBjbGVhclN0YXR1czogKCkgPT4gZGlzcGF0Y2goY2xlYXJTdGF0dXMoKSlcclxufSk7XHJcblxyXG5EZXZpY2VMaXN0LnByb3BUeXBlcyA9IHtcclxuICBtYXRjaDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBjaGFuZ2VTdGF0dXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRldmljZXM6IFByb3BUeXBlcy5hcnJheSxcclxuICBmaWx0ZXJBY3Rpb246IFByb3BUeXBlcy5mdW5jLFxyXG4gIGZpbmRJdGVtczogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgbG9hZERldmljZXM6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRlbGV0ZURldmljZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgaGlzdG9yeTogUHJvcFR5cGVzLm9iamVjdCxcclxuICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcclxuICBzdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2VuZE5vdGlmaWNhdGlvbldTOiBQcm9wVHlwZXMuZnVuYyxcclxuICBlcnJvclRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY2xlYXJTdGF0dXM6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShEZXZpY2VMaXN0KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BhZ2VzL0RldmljZUxpc3QvRGV2aWNlTGlzdC5qcyIsImltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xyXG5pbXBvcnQgeyBzZWFyY2hJdGVtIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuY29uc3QgZ2V0RmlsdGVyT3B0aW9uID0gc3RhdGUgPT4gc3RhdGUuc2VhcmNoQW5kRmlsdGVyLmZpbHRlck9wdGlvbjtcclxuY29uc3QgZ2V0RGV2aWNlcyA9IHN0YXRlID0+IHN0YXRlLmRldmljZXNMaXN0LmRldmljZXM7XHJcbmNvbnN0IGdldFNlYXJjaFZhbHVlID0gc3RhdGUgPT4gc3RhdGUuc2VhcmNoQW5kRmlsdGVyLnNlYXJjaFZhbHVlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpbHRlckl0ZW1zID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAgW2dldEZpbHRlck9wdGlvbiwgZ2V0U2VhcmNoVmFsdWUsIGdldERldmljZXNdLFxyXG4gIChmaWx0ZXJPcHRpb24sIHNlYXJjaFZhbHVlLCBpdGVtcykgPT4ge1xyXG4gICAgbGV0IG5ld0FyciA9IGl0ZW1zO1xyXG5cclxuICAgIGlmIChmaWx0ZXJPcHRpb24gPT09ICdhbGwnKSB7XHJcbiAgICAgIG5ld0FyciA9IGl0ZW1zO1xyXG4gICAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvbicpIHtcclxuICAgICAgbmV3QXJyID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgPT09IHRydWUpO1xyXG4gICAgfSBlbHNlIGlmIChmaWx0ZXJPcHRpb24gPT09ICdvZmYnKSB7XHJcbiAgICAgIG5ld0FyciA9IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uc3RhdHVzID09PSBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3QXJyLmZpbHRlcihpdGVtID0+IHNlYXJjaEl0ZW0oaXRlbS5uYW1lLCBzZWFyY2hWYWx1ZSkpO1xyXG4gIH1cclxuKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlbGVjdG9ycy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=