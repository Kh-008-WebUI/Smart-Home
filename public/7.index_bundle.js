webpackJsonp([7],{"./node_modules/create-react-class/index.js":function(t,e,r){"use strict";var n=r("./node_modules/react/react.js"),i=r("./node_modules/create-react-class/factory.js");if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var s=(new n.Component).updater;t.exports=i(n.Component,n.isValidElement,s)},"./node_modules/form-data-to-object/index.js":function(t,e,r){"use strict";function n(t){return Object.keys(t).reduce(function(e,r){var n=r.match(/[^\[]*/i),i=r.match(/\[.*?\]/g)||[];i=[n[0]].concat(i).map(function(t){return t.replace(/\[|\]/g,"")});for(var s=e;i.length;){var o=i.shift();o in s?s=s[o]:(s[o]=i.length?isNaN(i[0])?{}:[]:t[r],s=s[o])}return e},{})}function i(t){function e(t,r,n){return Array.isArray(n)||"[object Object]"===Object.prototype.toString.call(n)?(Object.keys(n).forEach(function(i){e(t,r+"["+i+"]",n[i])}),t):(t[r]=n,t)}return Object.keys(t).reduce(function(r,n){return e(r,n,t[n])},{})}t.exports={fromObj:i,toObj:n}},"./node_modules/formsy-react/lib/Decorator.js":function(t,e,r){"use strict";(function(e){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=e.React||r("./node_modules/react/react.js"),s=r("./node_modules/create-react-class/index.js"),o=r("./node_modules/formsy-react/lib/Mixin.js");t.exports=function(){return function(t){return s({mixins:[o],render:function(){return i.createElement(t,n({setValidations:this.setValidations,setValue:this.setValue,resetValue:this.resetValue,getValue:this.getValue,hasValue:this.hasValue,getErrorMessage:this.getErrorMessage,getErrorMessages:this.getErrorMessages,isFormDisabled:this.isFormDisabled,isValid:this.isValid,isPristine:this.isPristine,isFormSubmitted:this.isFormSubmitted,isRequired:this.isRequired,showRequired:this.showRequired,showError:this.showError,isValidValue:this.isValidValue},this.props))}})}}}).call(e,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/formsy-react/lib/HOC.js":function(t,e,r){"use strict";(function(e){function n(t){return t.displayName||t.name||("string"==typeof t?t:"Component")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=e.React||r("./node_modules/react/react.js"),o=r("./node_modules/create-react-class/index.js"),a=r("./node_modules/formsy-react/lib/Mixin.js");t.exports=function(t){return o({displayName:"Formsy("+n(t)+")",mixins:[a],render:function(){var e=this.props.innerRef,r=i({setValidations:this.setValidations,setValue:this.setValue,resetValue:this.resetValue,getValue:this.getValue,hasValue:this.hasValue,getErrorMessage:this.getErrorMessage,getErrorMessages:this.getErrorMessages,isFormDisabled:this.isFormDisabled,isValid:this.isValid,isPristine:this.isPristine,isFormSubmitted:this.isFormSubmitted,isRequired:this.isRequired,showRequired:this.showRequired,showError:this.showError,isValidValue:this.isValidValue},this.props);return e&&(r.ref=e),s.createElement(t,r)}})}}).call(e,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/formsy-react/lib/Mixin.js":function(t,e,r){"use strict";(function(e){var n=r("./node_modules/prop-types/index.js"),i=r("./node_modules/formsy-react/lib/utils.js"),s=(e.React||r("./node_modules/react/react.js"),function(t){return"string"==typeof t?t.split(/\,(?![^{\[]*[}\]])/g).reduce(function(t,e){var r=e.split(":"),n=r.shift();if(r=r.map(function(t){try{return JSON.parse(t)}catch(e){return t}}),r.length>1)throw new Error("Formsy does not support multiple args on string validations. Use object format of validations instead.");return t[n]=!r.length||r[0],t},{}):t||{}});t.exports={getInitialState:function(){return{_value:this.props.value,_isRequired:!1,_isValid:!0,_isPristine:!0,_pristineValue:this.props.value,_validationError:[],_externalError:null,_formSubmitted:!1}},contextTypes:{formsy:n.object},getDefaultProps:function(){return{validationError:"",validationErrors:{}}},componentWillMount:function(){var t=function(){this.setValidations(this.props.validations,this.props.required),this.context.formsy.attachToForm(this)}.bind(this);if(!this.props.name)throw new Error("Form Input requires a name property when used");t()},componentWillReceiveProps:function(t){this.setValidations(t.validations,t.required)},componentDidUpdate:function(t){i.isSame(this.props.value,t.value)||this.setValue(this.props.value),i.isSame(this.props.validations,t.validations)&&i.isSame(this.props.required,t.required)||this.context.formsy.validate(this)},componentWillUnmount:function(){this.context.formsy.detachFromForm(this)},setValidations:function(t,e){this._validations=s(t)||{},this._requiredValidations=!0===e?{isDefaultRequiredValue:!0}:s(e)},setValue:function(t){this.setState({_value:t,_isPristine:!1},function(){this.context.formsy.validate(this)}.bind(this))},resetValue:function(){this.setState({_value:this.state._pristineValue,_isPristine:!0},function(){this.context.formsy.validate(this)})},getValue:function(){return this.state._value},hasValue:function(){return""!==this.state._value},getErrorMessage:function(){var t=this.getErrorMessages();return t.length?t[0]:null},getErrorMessages:function(){return!this.isValid()||this.showRequired()?this.state._externalError||this.state._validationError||[]:[]},isFormDisabled:function(){return this.context.formsy.isFormDisabled()},isValid:function(){return this.state._isValid},isPristine:function(){return this.state._isPristine},isFormSubmitted:function(){return this.state._formSubmitted},isRequired:function(){return!!this.props.required},showRequired:function(){return this.state._isRequired},showError:function(){return!this.showRequired()&&!this.isValid()},isValidValue:function(t){return this.context.formsy.isValidValue.call(null,this,t)}}}).call(e,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/formsy-react/lib/main.js":function(t,e,r){"use strict";(function(e){function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":i(t)},a=r("./node_modules/prop-types/index.js"),u=e.React||r("./node_modules/react/react.js"),l=r("./node_modules/create-react-class/index.js"),d={},c=r("./node_modules/formsy-react/lib/validationRules.js"),f=r("./node_modules/form-data-to-object/index.js"),p=r("./node_modules/formsy-react/lib/utils.js"),h=r("./node_modules/formsy-react/lib/Mixin.js"),m=r("./node_modules/formsy-react/lib/HOC.js"),F=r("./node_modules/formsy-react/lib/Decorator.js"),g={},y=[];d.Mixin=h,d.HOC=m,d.Decorator=F,d.defaults=function(t){g=t},d.addValidationRule=function(t,e){c[t]=e},d.Form=l({displayName:"Formsy",getInitialState:function(){return{isValid:!0,isSubmitting:!1,canChange:!1}},getDefaultProps:function(){return{onSuccess:function(){},onError:function(){},onSubmit:function(){},onValidSubmit:function(){},onInvalidSubmit:function(){},onValid:function(){},onInvalid:function(){},onChange:function(){},validationErrors:null,preventExternalInvalidation:!1}},childContextTypes:{formsy:a.object},getChildContext:function(){var t=this;return{formsy:{attachToForm:this.attachToForm,detachFromForm:this.detachFromForm,validate:this.validate,isFormDisabled:this.isFormDisabled,isValidValue:function(e,r){return t.runValidation(e,r).isValid}}}},componentWillMount:function(){this.inputs=[]},componentDidMount:function(){this.validateForm()},componentWillUpdate:function(){this.prevInputNames=this.inputs.map(function(t){return t.props.name})},componentDidUpdate:function(){this.props.validationErrors&&"object"===o(this.props.validationErrors)&&Object.keys(this.props.validationErrors).length>0&&this.setInputValidationErrors(this.props.validationErrors);var t=this.inputs.map(function(t){return t.props.name});p.arraysDiffer(this.prevInputNames,t)&&this.validateForm()},reset:function(t){this.setFormPristine(!0),this.resetModel(t)},submit:function(t){t&&t.preventDefault(),this.setFormPristine(!1);var e=this.getModel();this.props.onSubmit(e,this.resetModel,this.updateInputsWithError),this.state.isValid?this.props.onValidSubmit(e,this.resetModel,this.updateInputsWithError):this.props.onInvalidSubmit(e,this.resetModel,this.updateInputsWithError)},mapModel:function(t){return this.props.mapping?this.props.mapping(t):f.toObj(Object.keys(t).reduce(function(e,r){for(var n=r.split("."),i=e;n.length;){var s=n.shift();i=i[s]=n.length?i[s]||{}:t[r]}return e},{}))},getModel:function(){var t=this.getCurrentValues();return this.mapModel(t)},resetModel:function(t){this.inputs.forEach(function(e){var r=e.props.name;t&&t.hasOwnProperty(r)?e.setValue(t[r]):e.resetValue()}),this.validateForm()},setInputValidationErrors:function(t){this.inputs.forEach(function(e){var r=e.props.name,n=[{_isValid:!(r in t),_validationError:"string"==typeof t[r]?[t[r]]:t[r]}];e.setState.apply(e,n)})},isChanged:function(){return!p.isSame(this.getPristineValues(),this.getCurrentValues())},getPristineValues:function(){return this.inputs.reduce(function(t,e){return t[e.props.name]=e.props.value,t},{})},updateInputsWithError:function(t){var e=this;Object.keys(t).forEach(function(r,n){var i=p.find(e.inputs,function(t){return t.props.name===r});if(!i)throw new Error("You are trying to update an input that does not exist. Verify errors object with input names. "+JSON.stringify(t));var s=[{_isValid:e.props.preventExternalInvalidation||!1,_externalError:"string"==typeof t[r]?[t[r]]:t[r]}];i.setState.apply(i,s)})},isFormDisabled:function(){return this.props.disabled},getCurrentValues:function(){return this.inputs.reduce(function(t,e){return t[e.props.name]=e.state._value,t},{})},setFormPristine:function(t){this.setState({_formSubmitted:!t}),this.inputs.forEach(function(e,r){e.setState({_formSubmitted:!t,_isPristine:t})})},validate:function(t){this.state.canChange&&this.props.onChange(this.getCurrentValues(),this.isChanged());var e=this.runValidation(t);t.setState({_isValid:e.isValid,_isRequired:e.isRequired,_validationError:e.error,_externalError:null},this.validateForm)},runValidation:function(t,e){var r=this.getCurrentValues(),n=t.props.validationErrors,i=t.props.validationError;e=2===arguments.length?e:t.state._value;var s=this.runRules(e,r,t._validations),o=this.runRules(e,r,t._requiredValidations);"function"==typeof t.validate&&(s.failed=t.validate()?[]:["failed"]);var a=!!Object.keys(t._requiredValidations).length&&!!o.success.length,u=!(s.failed.length||this.props.validationErrors&&this.props.validationErrors[t.props.name]);return{isRequired:a,isValid:!a&&u,error:function(){if(u&&!a)return y;if(s.errors.length)return s.errors;if(this.props.validationErrors&&this.props.validationErrors[t.props.name])return"string"==typeof this.props.validationErrors[t.props.name]?[this.props.validationErrors[t.props.name]]:this.props.validationErrors[t.props.name];if(a){var e=n[o.success[0]];return e?[e]:null}return s.failed.length?s.failed.map(function(t){return n[t]?n[t]:i}).filter(function(t,e,r){return r.indexOf(t)===e}):void 0}.call(this)}},runRules:function(t,e,r){var n={errors:[],failed:[],success:[]};return Object.keys(r).length&&Object.keys(r).forEach(function(i){if(c[i]&&"function"==typeof r[i])throw new Error("Formsy does not allow you to override default validations: "+i);if(!c[i]&&"function"!=typeof r[i])throw new Error("Formsy does not have the validation rule: "+i);if("function"==typeof r[i]){var s=r[i](e,t);return void("string"==typeof s?(n.errors.push(s),n.failed.push(i)):s||n.failed.push(i))}if("function"!=typeof r[i]){var s=c[i](e,t,r[i]);return void("string"==typeof s?(n.errors.push(s),n.failed.push(i)):s?n.success.push(i):n.failed.push(i))}return n.success.push(i)}),n},validateForm:function(){var t=this,e=function(){var t=this.inputs.every(function(t){return t.state._isValid});this.setState({isValid:t}),t?this.props.onValid():this.props.onInvalid(),this.setState({canChange:!0})}.bind(this);this.inputs.forEach(function(r,n){var i=t.runValidation(r);i.isValid&&r.state._externalError&&(i.isValid=!1),r.setState({_isValid:i.isValid,_isRequired:i.isRequired,_validationError:i.error,_externalError:!i.isValid&&r.state._externalError?r.state._externalError:null},n===t.inputs.length-1?e:null)}),this.inputs.length||this.setState({canChange:!0})},attachToForm:function(t){-1===this.inputs.indexOf(t)&&this.inputs.push(t),this.validate(t)},detachFromForm:function(t){var e=this.inputs.indexOf(t);-1!==e&&(this.inputs=this.inputs.slice(0,e).concat(this.inputs.slice(e+1))),this.validateForm()},render:function(){var t=this.props,e=(t.mapping,t.validationErrors,t.onSubmit,t.onValid,t.onValidSubmit,t.onInvalid,t.onInvalidSubmit,t.onChange,t.reset,t.preventExternalInvalidation,t.onSuccess,t.onError,n(t,["mapping","validationErrors","onSubmit","onValid","onValidSubmit","onInvalid","onInvalidSubmit","onChange","reset","preventExternalInvalidation","onSuccess","onError"]));return u.createElement("form",s({},e,{onSubmit:this.submit}),this.props.children)}}),e.exports||e.module||e.define&&e.define.amd||(e.Formsy=d),t.exports=d}).call(e,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/formsy-react/lib/utils.js":function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};t.exports={arraysDiffer:function(t,e){var r=!1;return t.length!==e.length?r=!0:t.forEach(function(t,n){this.isSame(t,e[n])||(r=!0)},this),r},objectsDiffer:function(t,e){var r=!1;return Object.keys(t).length!==Object.keys(e).length?r=!0:Object.keys(t).forEach(function(n){this.isSame(t[n],e[n])||(r=!0)},this),r},isSame:function(t,e){return(void 0===t?"undefined":i(t))===(void 0===e?"undefined":i(e))&&(Array.isArray(t)&&Array.isArray(e)?!this.arraysDiffer(t,e):"function"==typeof t?t.toString()===e.toString():"object"===(void 0===t?"undefined":i(t))&&null!==t&&null!==e?!this.objectsDiffer(t,e):t===e)},find:function(t,e){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e(i))return i}return null}}},"./node_modules/formsy-react/lib/validationRules.js":function(t,e,r){"use strict";var n=function(t){return null!==t&&void 0!==t},i=function(t){return""===t},s={isDefaultRequiredValue:function(t,e){return void 0===e||""===e},isExisty:function(t,e){return n(e)},matchRegexp:function(t,e,r){return!n(e)||i(e)||r.test(e)},isUndefined:function(t,e){return void 0===e},isEmptyString:function(t,e){return i(e)},isEmail:function(t,e){return s.matchRegexp(t,e,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},isUrl:function(t,e){return s.matchRegexp(t,e,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},isTrue:function(t,e){return!0===e},isFalse:function(t,e){return!1===e},isNumeric:function(t,e){return"number"==typeof e||s.matchRegexp(t,e,/^[-+]?(?:\d*[.])?\d+$/)},isAlpha:function(t,e){return s.matchRegexp(t,e,/^[A-Z]+$/i)},isAlphanumeric:function(t,e){return s.matchRegexp(t,e,/^[0-9A-Z]+$/i)},isInt:function(t,e){return s.matchRegexp(t,e,/^(?:[-+]?(?:0|[1-9]\d*))$/)},isFloat:function(t,e){return s.matchRegexp(t,e,/^(?:[-+]?(?:\d+))?(?:\.\d*)?(?:[eE][\+\-]?(?:\d+))?$/)},isWords:function(t,e){return s.matchRegexp(t,e,/^[A-Z\s]+$/i)},isSpecialWords:function(t,e){return s.matchRegexp(t,e,/^[A-Z\s\u00C0-\u017F]+$/i)},isLength:function(t,e,r){return!n(e)||i(e)||e.length===r},equals:function(t,e,r){return!n(e)||i(e)||e==r},equalsField:function(t,e,r){return e==t[r]},maxLength:function(t,e,r){return!n(e)||e.length<=r},minLength:function(t,e,r){return!n(e)||i(e)||e.length>=r}};t.exports=s},"./src/components/Auth/Field/Field.js":function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r("./node_modules/react/react.js"),l=n(u),d=r("./node_modules/formsy-react/lib/main.js"),c=(n(d),r("./node_modules/prop-types/index.js")),f=n(c),p=function(t){function e(t){i(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.changeValue=function(t){r.props.setValue(t.currentTarget["checkbox"===r.props.type?"checked":"value"])},r}return o(e,t),a(e,[{key:"render",value:function(){var t=this.props.getErrorMessage();return l.default.createElement("div",{className:"signup-field-group"},l.default.createElement("label",{htmlFor:this.props.name.toLowerCase(),className:"signup-form__label"},this.props.name),l.default.createElement("input",{onChange:this.changeValue,value:this.props.getValue(),type:this.props.type||"text",name:this.props.name.toLowerCase(),className:"signup-form__input-field"}),l.default.createElement("p",{className:"caption signup-form__caption"},this.props.text),l.default.createElement("span",{className:"signup-form__error-message"},t))}}]),e}(l.default.Component);p.propTypes={name:f.default.string,text:f.default.string,className:f.default.string,type:f.default.string,setValue:f.default.any,getValue:f.default.func,validations:f.default.any,getErrorMessage:f.default.func,registration:f.default.func},e.default=(0,d.HOC)(p)},"./src/components/Auth/Header/Header.js":function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;var i=r("./node_modules/react/react.js"),s=n(i),o=r("./node_modules/prop-types/index.js"),a=n(o);(e.Header=function(t){return s.default.createElement("div",{className:"signup-header"},s.default.createElement("i",{className:"fa "+t.pic+" fa-3x signup-header__icon","aria-hidden":"true"}),s.default.createElement("h1",{className:"signup-header__title"},t.title,s.default.createElement("span",{className:"caption signup-header__caption"},t.text)))}).propTypes={pic:a.default.string,title:a.default.string,text:a.default.string}},"./src/pages/Register/Register.js":function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r("./node_modules/react/react.js"),l=n(u),d=r("./node_modules/formsy-react/lib/main.js"),c=n(d),f=r("./node_modules/react-redux/es/index.js"),p=r("./node_modules/prop-types/index.js"),h=n(p),m=r("./src/components/Auth/Header/Header.js"),F=r("./src/components/Auth/Field/Field.js"),g=n(F),y=r("./src/components/Message/Message.js"),v=r("./src/actions/auth.action.js"),b=r("./node_modules/react-router-dom/es/index.js"),_=function(t){function e(t){i(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={canSubmit:!1},r.enableButton=function(){r.setState({canSubmit:!0})},r.disableButton=function(){r.setState({canSubmit:!1})},r.addRegisterDataToStore=function(t){r.props.registration({name:r.username.getValue(),password:r.password.getValue(),passwordRepeat:r.passwordRepeat.getValue(),email:r.email.getValue()})},r}return o(e,t),a(e,[{key:"componentDidUpdate",value:function(){"DONE"===this.props.regStatus&&this.props.history.push("/")}},{key:"render",value:function(){var t=this;return l.default.createElement("div",{className:"signup-container"},l.default.createElement(m.Header,{pic:"fa-user",title:"Register",text:"Please enter your data to register."}),l.default.createElement(y.Message,{clearStatus:this.props.clearLoginStatus,status:this.props.regStatus,header:"Error",text:this.props.errorText}),l.default.createElement(c.default.Form,{onSubmit:this.addRegisterDataToStore,onValid:this.enableButton,onInvalid:this.disableButton,className:"signup-form"},l.default.createElement(g.default,{name:"Username",type:"text",text:"Your unique username to app",ref:function(e){t.username=e},required:!0,validations:"isAlpha",validationError:"Name must contain only letters"}),l.default.createElement(g.default,{name:"Email",type:"text",text:"Your address email to contact",ref:function(e){t.email=e},required:!0,validations:"isEmail",validationError:"This is not a valid email"}),l.default.createElement(g.default,{name:"Password",type:"password",text:"Your hard to guess password",ref:function(e){t.password=e},required:!0,validations:{minLength:7,isAlphanumeric:!0},validationError:"Password is not valid"}),l.default.createElement(g.default,{name:"Repeat Password",type:"password",text:"Please repeat your pasword",ref:function(e){t.passwordRepeat=e},required:!0,validations:"equalsField:Password",validationError:"Password does not match"}),l.default.createElement("div",{className:"signup-field-group signup-btn-group"},l.default.createElement("input",{type:"submit",name:"subm",className:"btn btn--signup btn--signup-active",value:"Register",disabled:!this.state.canSubmit}),l.default.createElement("span",{className:"caption signup-form__caption signup-form__caption--text"},"Already has account?",l.default.createElement(b.NavLink,{to:"/auth/login",className:"signup-form__caption--link"},"Login")))))}}]),e}(u.Component),E=function(t){return{userData:t.authentication.user,regStatus:t.authentication.status,errorText:t.authentication.errorText}},x=function(t){return{registration:function(e){return t((0,v.registration)(e))},clearLoginStatus:function(){return t((0,v.clearLoginStatus)())}}};_.propTypes={resetValue:h.default.func,history:h.default.object,registration:h.default.func,regStatus:h.default.string,errorText:h.default.string,clearLoginStatus:h.default.func},e.default=(0,f.connect)(E,x)(_)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vNy5pbmRleF9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanM/ODBhNCoqIiwid2VicGFjazovLy8uL34vZm9ybS1kYXRhLXRvLW9iamVjdC9pbmRleC5qcz85YmI1KioiLCJ3ZWJwYWNrOi8vLy4vfi9mb3Jtc3ktcmVhY3QvbGliL0RlY29yYXRvci5qcz81MWZjKioiLCJ3ZWJwYWNrOi8vLy4vfi9mb3Jtc3ktcmVhY3QvbGliL0hPQy5qcz9iZWY4KioiLCJ3ZWJwYWNrOi8vLy4vfi9mb3Jtc3ktcmVhY3QvbGliL01peGluLmpzPzkzNTcqKiIsIndlYnBhY2s6Ly8vLi9+L2Zvcm1zeS1yZWFjdC9saWIvbWFpbi5qcz9lODE0KioiLCJ3ZWJwYWNrOi8vLy4vfi9mb3Jtc3ktcmVhY3QvbGliL3V0aWxzLmpzP2ZkMjYqKiIsIndlYnBhY2s6Ly8vLi9+L2Zvcm1zeS1yZWFjdC9saWIvdmFsaWRhdGlvblJ1bGVzLmpzP2MwYTUqKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BdXRoL0ZpZWxkL0ZpZWxkLmpzP2FiZGUqIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0F1dGgvSGVhZGVyL0hlYWRlci5qcz9kZGFmIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9SZWdpc3Rlci9SZWdpc3Rlci5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIuL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanMiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIlJlYWN0IiwiZmFjdG9yeSIsIkVycm9yIiwiUmVhY3ROb29wVXBkYXRlUXVldWUiLCJDb21wb25lbnQiLCJ1cGRhdGVyIiwiaXNWYWxpZEVsZW1lbnQiLCIuL25vZGVfbW9kdWxlcy9mb3JtLWRhdGEtdG8tb2JqZWN0L2luZGV4LmpzIiwidG9PYmoiLCJzb3VyY2UiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwib3V0cHV0Iiwia2V5IiwicGFyZW50S2V5IiwibWF0Y2giLCJwYXRocyIsImNvbmNhdCIsIm1hcCIsInJlcGxhY2UiLCJjdXJyZW50UGF0aCIsImxlbmd0aCIsInBhdGhLZXkiLCJzaGlmdCIsImlzTmFOIiwiZnJvbU9iaiIsIm9iaiIsInJlY3VyIiwibmV3T2JqIiwicHJvcE5hbWUiLCJjdXJyVmFsIiwiQXJyYXkiLCJpc0FycmF5IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiZm9yRWFjaCIsInYiLCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL0RlY29yYXRvci5qcyIsImdsb2JhbCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImhhc093blByb3BlcnR5IiwiY3JlYXRlUmVhY3RDbGFzcyIsIk1peGluIiwibWl4aW5zIiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsInNldFZhbGlkYXRpb25zIiwidGhpcyIsInNldFZhbHVlIiwicmVzZXRWYWx1ZSIsImdldFZhbHVlIiwiaGFzVmFsdWUiLCJnZXRFcnJvck1lc3NhZ2UiLCJnZXRFcnJvck1lc3NhZ2VzIiwiaXNGb3JtRGlzYWJsZWQiLCJpc1ZhbGlkIiwiaXNQcmlzdGluZSIsImlzRm9ybVN1Ym1pdHRlZCIsImlzUmVxdWlyZWQiLCJzaG93UmVxdWlyZWQiLCJzaG93RXJyb3IiLCJpc1ZhbGlkVmFsdWUiLCJwcm9wcyIsIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvSE9DLmpzIiwiZ2V0RGlzcGxheU5hbWUiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJpbm5lclJlZiIsInByb3BzRm9yRWxlbWVudCIsInJlZiIsIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvTWl4aW4uanMiLCJQcm9wVHlwZXMiLCJ1dGlscyIsImNvbnZlcnRWYWxpZGF0aW9uc1RvT2JqZWN0IiwidmFsaWRhdGlvbnMiLCJzcGxpdCIsInZhbGlkYXRpb24iLCJhcmdzIiwidmFsaWRhdGVNZXRob2QiLCJhcmciLCJKU09OIiwicGFyc2UiLCJlIiwiZ2V0SW5pdGlhbFN0YXRlIiwiX3ZhbHVlIiwidmFsdWUiLCJfaXNSZXF1aXJlZCIsIl9pc1ZhbGlkIiwiX2lzUHJpc3RpbmUiLCJfcHJpc3RpbmVWYWx1ZSIsIl92YWxpZGF0aW9uRXJyb3IiLCJfZXh0ZXJuYWxFcnJvciIsIl9mb3JtU3VibWl0dGVkIiwiY29udGV4dFR5cGVzIiwiZm9ybXN5Iiwib2JqZWN0IiwiZ2V0RGVmYXVsdFByb3BzIiwidmFsaWRhdGlvbkVycm9yIiwidmFsaWRhdGlvbkVycm9ycyIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbmZpZ3VyZSIsInJlcXVpcmVkIiwiY29udGV4dCIsImF0dGFjaFRvRm9ybSIsImJpbmQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiaXNTYW1lIiwidmFsaWRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRldGFjaEZyb21Gb3JtIiwiX3ZhbGlkYXRpb25zIiwiX3JlcXVpcmVkVmFsaWRhdGlvbnMiLCJpc0RlZmF1bHRSZXF1aXJlZFZhbHVlIiwic2V0U3RhdGUiLCJzdGF0ZSIsIm1lc3NhZ2VzIiwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi9tYWluLmpzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiaW5kZXhPZiIsIl90eXBlb2YyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl90eXBlb2YiLCJGb3Jtc3kiLCJ2YWxpZGF0aW9uUnVsZXMiLCJmb3JtRGF0YVRvT2JqZWN0IiwiSE9DIiwiRGVjb3JhdG9yIiwib3B0aW9ucyIsImVtcHR5QXJyYXkiLCJkZWZhdWx0cyIsInBhc3NlZE9wdGlvbnMiLCJhZGRWYWxpZGF0aW9uUnVsZSIsImZ1bmMiLCJGb3JtIiwiaXNTdWJtaXR0aW5nIiwiY2FuQ2hhbmdlIiwib25TdWNjZXNzIiwib25FcnJvciIsIm9uU3VibWl0Iiwib25WYWxpZFN1Ym1pdCIsIm9uSW52YWxpZFN1Ym1pdCIsIm9uVmFsaWQiLCJvbkludmFsaWQiLCJvbkNoYW5nZSIsInByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbiIsImNoaWxkQ29udGV4dFR5cGVzIiwiZ2V0Q2hpbGRDb250ZXh0IiwiX3RoaXMiLCJjb21wb25lbnQiLCJydW5WYWxpZGF0aW9uIiwiaW5wdXRzIiwiY29tcG9uZW50RGlkTW91bnQiLCJ2YWxpZGF0ZUZvcm0iLCJjb21wb25lbnRXaWxsVXBkYXRlIiwicHJldklucHV0TmFtZXMiLCJzZXRJbnB1dFZhbGlkYXRpb25FcnJvcnMiLCJuZXdJbnB1dE5hbWVzIiwiYXJyYXlzRGlmZmVyIiwicmVzZXQiLCJkYXRhIiwic2V0Rm9ybVByaXN0aW5lIiwicmVzZXRNb2RlbCIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJtb2RlbCIsImdldE1vZGVsIiwidXBkYXRlSW5wdXRzV2l0aEVycm9yIiwibWFwTW9kZWwiLCJtYXBwaW5nIiwibWFwcGVkTW9kZWwiLCJrZXlBcnJheSIsImJhc2UiLCJjdXJyZW50S2V5IiwiY3VycmVudFZhbHVlcyIsImdldEN1cnJlbnRWYWx1ZXMiLCJlcnJvcnMiLCJhcHBseSIsImlzQ2hhbmdlZCIsImdldFByaXN0aW5lVmFsdWVzIiwiX3RoaXMyIiwiaW5kZXgiLCJmaW5kIiwic3RyaW5naWZ5IiwiZGlzYWJsZWQiLCJlcnJvciIsInZhbGlkYXRpb25SZXN1bHRzIiwicnVuUnVsZXMiLCJyZXF1aXJlZFJlc3VsdHMiLCJmYWlsZWQiLCJzdWNjZXNzIiwiZmlsdGVyIiwieCIsInBvcyIsImFyciIsInJlc3VsdHMiLCJ2YWxpZGF0aW9uTWV0aG9kIiwicHVzaCIsIl90aGlzMyIsIm9uVmFsaWRhdGlvbkNvbXBsZXRlIiwiYWxsSXNWYWxpZCIsImV2ZXJ5IiwiY29tcG9uZW50UG9zIiwic2xpY2UiLCJfcHJvcHMiLCJub25Gb3Jtc3lQcm9wcyIsImNoaWxkcmVuIiwiZGVmaW5lIiwiYW1kIiwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi91dGlscy5qcyIsImEiLCJiIiwiaXNEaWZmZXJlbnQiLCJpdGVtIiwib2JqZWN0c0RpZmZlciIsImNvbGxlY3Rpb24iLCJmbiIsImwiLCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL3ZhbGlkYXRpb25SdWxlcy5qcyIsIl9pc0V4aXN0eSIsInVuZGVmaW5lZCIsImlzRW1wdHkiLCJ2YWx1ZXMiLCJpc0V4aXN0eSIsIm1hdGNoUmVnZXhwIiwicmVnZXhwIiwidGVzdCIsImlzVW5kZWZpbmVkIiwiaXNFbXB0eVN0cmluZyIsImlzRW1haWwiLCJpc1VybCIsImlzVHJ1ZSIsImlzRmFsc2UiLCJpc051bWVyaWMiLCJpc0FscGhhIiwiaXNBbHBoYW51bWVyaWMiLCJpc0ludCIsImlzRmxvYXQiLCJpc1dvcmRzIiwiaXNTcGVjaWFsV29yZHMiLCJpc0xlbmd0aCIsImVxdWFscyIsImVxbCIsImVxdWFsc0ZpZWxkIiwiZmllbGQiLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCIuL3NyYy9jb21wb25lbnRzL0F1dGgvRmllbGQvRmllbGQuanMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImRlZmluZVByb3BlcnR5IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX2Zvcm1zeVJlYWN0IiwiX3Byb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwiRmllbGQiLCJfUmVhY3QkQ29tcG9uZW50IiwiZ2V0UHJvdG90eXBlT2YiLCJjaGFuZ2VWYWx1ZSIsImN1cnJlbnRUYXJnZXQiLCJ0eXBlIiwiZXJyb3JNZXNzYWdlIiwiY2xhc3NOYW1lIiwiaHRtbEZvciIsInRvTG93ZXJDYXNlIiwidGV4dCIsInByb3BUeXBlcyIsInN0cmluZyIsImFueSIsInJlZ2lzdHJhdGlvbiIsIi4vc3JjL2NvbXBvbmVudHMvQXV0aC9IZWFkZXIvSGVhZGVyLmpzIiwiSGVhZGVyIiwicGljIiwiYXJpYS1oaWRkZW4iLCJ0aXRsZSIsIi4vc3JjL3BhZ2VzL1JlZ2lzdGVyL1JlZ2lzdGVyLmpzIiwiX2Zvcm1zeVJlYWN0MiIsIl9yZWFjdFJlZHV4IiwiX0hlYWRlciIsIl9GaWVsZCIsIl9GaWVsZDIiLCJfTWVzc2FnZSIsIl9hdXRoIiwiX3JlYWN0Um91dGVyRG9tIiwiUmVnaXN0ZXIiLCJfQ29tcG9uZW50IiwiY2FuU3VibWl0IiwiZW5hYmxlQnV0dG9uIiwiZGlzYWJsZUJ1dHRvbiIsImFkZFJlZ2lzdGVyRGF0YVRvU3RvcmUiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicGFzc3dvcmRSZXBlYXQiLCJlbWFpbCIsInJlZ1N0YXR1cyIsImhpc3RvcnkiLCJNZXNzYWdlIiwiY2xlYXJTdGF0dXMiLCJjbGVhckxvZ2luU3RhdHVzIiwic3RhdHVzIiwiaGVhZGVyIiwiZXJyb3JUZXh0IiwiaW5wdXQiLCJOYXZMaW5rIiwidG8iLCJtYXBTdGF0ZVRvUHJvcHMiLCJ1c2VyRGF0YSIsImF1dGhlbnRpY2F0aW9uIiwidXNlciIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIiwiY29ubmVjdCJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsNkNBQ0EsU0FBVUMsRUFBUUMsRUFBU0MsR0FFakMsWUNPQSxJQUFJQyxHQUFRRCxFQUFRLGlDQUNoQkUsRUFBVUYsRUFBUSwrQ0FFdEIs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VUFBVSxxQ0FDVjdNLE1BQU0sV0FDTndHLFVBQVc5SSxLQUFLc0UsTUFBTXFNLFlBQ3hCbkMsRUFBQXhCLFFBQUFsTixjQUFBLFFBQU1xUCxVQUFXLDJEQUFqQix1QkFHRVgsRUFBQXhCLFFBQUFsTixjQUFBMFEsRUFBQW9CLFNBQVNDLEdBQUcsY0FDVjFDLFVBQVUsOEJBRFosaUJYa3RDTHNCLEdBQ1BsQyxFQUFPeFIsV1d2c0NIK1UsRUFBa0IsU0FBQXhOLEdBQUEsT0FDdEJ5TixTQUFVek4sRUFBTTBOLGVBQWVDLEtBQy9CZCxVQUFXN00sRUFBTTBOLGVBQWVSLE9BQ2hDRSxVQUFXcE4sRUFBTTBOLGVBQWVOLFlBRzVCUSxFQUFxQixTQUFDQyxHQUFELE9BQ3pCekMsYUFBYyxTQUFDcUMsR0FBRCxNQUFjSSxJQUFTLEVBQUE1QixFQUFBYixjQUFhcUMsS0FDbERSLGlCQUFrQixpQkFBTVksSUFBUyxFQUFBNUIsRUFBQWdCLHVCQUduQ2QsR0FBU2xCLFdBQ1ByUCxXQUFZeU8sRUFBQTNCLFFBQVV0SCxLQUN0QjBMLFFBQVN6QyxFQUFBM0IsUUFBVWhLLE9BQ25CME0sYUFBY2YsRUFBQTNCLFFBQVV0SCxLQUN4QnlMLFVBQVd4QyxFQUFBM0IsUUFBVXdDLE9BQ3JCa0MsVUFBVy9DLEVBQUEzQixRQUFVd0MsT0FDckIrQixpQkFBa0I1QyxFQUFBM0IsUUFBVXRILE1Yb3RDOUJqSixFQUFRdVEsU1dqdENPLEVBQUFrRCxFQUFBa0MsU0FBUU4sRUFBaUJJLEdBQW9CekIiLCJmaWxlIjoiNy5pbmRleF9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzddLHtcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuXG5cbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcbnZhciBmYWN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2NyZWF0ZS1yZWFjdC1jbGFzcy9mYWN0b3J5LmpzXCIpO1xuXG5pZiAodHlwZW9mIFJlYWN0ID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBFcnJvcignY3JlYXRlLXJlYWN0LWNsYXNzIGNvdWxkIG5vdCBmaW5kIHRoZSBSZWFjdCBvYmplY3QuIElmIHlvdSBhcmUgdXNpbmcgc2NyaXB0IHRhZ3MsICcgKyAnbWFrZSBzdXJlIHRoYXQgUmVhY3QgaXMgYmVpbmcgbG9hZGVkIGJlZm9yZSBjcmVhdGUtcmVhY3QtY2xhc3MuJyk7XG59XG5cbi8vIEhhY2sgdG8gZ3JhYiBOb29wVXBkYXRlUXVldWUgZnJvbSBpc29tb3JwaGljIFJlYWN0XG52YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSBuZXcgUmVhY3QuQ29tcG9uZW50KCkudXBkYXRlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFJlYWN0LkNvbXBvbmVudCwgUmVhY3QuaXNWYWxpZEVsZW1lbnQsIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZm9ybS1kYXRhLXRvLW9iamVjdC9pbmRleC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiB0b09iaihzb3VyY2UpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChvdXRwdXQsIGtleSkge1xuICAgIHZhciBwYXJlbnRLZXkgPSBrZXkubWF0Y2goL1teXFxbXSovaSk7XG4gICAgdmFyIHBhdGhzID0ga2V5Lm1hdGNoKC9cXFsuKj9cXF0vZykgfHwgW107XG4gICAgcGF0aHMgPSBbcGFyZW50S2V5WzBdXS5jb25jYXQocGF0aHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4ga2V5LnJlcGxhY2UoL1xcW3xcXF0vZywgJycpO1xuICAgIH0pO1xuICAgIHZhciBjdXJyZW50UGF0aCA9IG91dHB1dDtcbiAgICB3aGlsZSAocGF0aHMubGVuZ3RoKSB7XG4gICAgICB2YXIgcGF0aEtleSA9IHBhdGhzLnNoaWZ0KCk7XG5cbiAgICAgIGlmIChwYXRoS2V5IGluIGN1cnJlbnRQYXRoKSB7XG4gICAgICAgIGN1cnJlbnRQYXRoID0gY3VycmVudFBhdGhbcGF0aEtleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UGF0aFtwYXRoS2V5XSA9IHBhdGhzLmxlbmd0aCA/IGlzTmFOKHBhdGhzWzBdKSA/IHt9IDogW10gOiBzb3VyY2Vba2V5XTtcbiAgICAgICAgY3VycmVudFBhdGggPSBjdXJyZW50UGF0aFtwYXRoS2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGZyb21PYmoob2JqKSB7XG4gIGZ1bmN0aW9uIHJlY3VyKG5ld09iaiwgcHJvcE5hbWUsIGN1cnJWYWwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyVmFsKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY3VyclZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICBPYmplY3Qua2V5cyhjdXJyVmFsKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJlY3VyKG5ld09iaiwgcHJvcE5hbWUgKyBcIltcIiArIHYgKyBcIl1cIiwgY3VyclZhbFt2XSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfVxuXG4gICAgbmV3T2JqW3Byb3BOYW1lXSA9IGN1cnJWYWw7XG4gICAgcmV0dXJuIG5ld09iajtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChuZXdPYmosIHByb3BOYW1lKSB7XG4gICAgcmV0dXJuIHJlY3VyKG5ld09iaiwgcHJvcE5hbWUsIG9ialtwcm9wTmFtZV0pO1xuICB9LCB7fSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmcm9tT2JqOiBmcm9tT2JqLFxuICB0b09iajogdG9PYmpcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvRGVjb3JhdG9yLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO2ZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9cmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG52YXIgY3JlYXRlUmVhY3RDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanNcIik7XG52YXIgTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi9NaXhpbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdENsYXNzKHtcbiAgICAgIG1peGluczogW01peGluXSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgICBzZXRWYWxpZGF0aW9uczogdGhpcy5zZXRWYWxpZGF0aW9ucyxcbiAgICAgICAgICBzZXRWYWx1ZTogdGhpcy5zZXRWYWx1ZSxcbiAgICAgICAgICByZXNldFZhbHVlOiB0aGlzLnJlc2V0VmFsdWUsXG4gICAgICAgICAgZ2V0VmFsdWU6IHRoaXMuZ2V0VmFsdWUsXG4gICAgICAgICAgaGFzVmFsdWU6IHRoaXMuaGFzVmFsdWUsXG4gICAgICAgICAgZ2V0RXJyb3JNZXNzYWdlOiB0aGlzLmdldEVycm9yTWVzc2FnZSxcbiAgICAgICAgICBnZXRFcnJvck1lc3NhZ2VzOiB0aGlzLmdldEVycm9yTWVzc2FnZXMsXG4gICAgICAgICAgaXNGb3JtRGlzYWJsZWQ6IHRoaXMuaXNGb3JtRGlzYWJsZWQsXG4gICAgICAgICAgaXNWYWxpZDogdGhpcy5pc1ZhbGlkLFxuICAgICAgICAgIGlzUHJpc3RpbmU6IHRoaXMuaXNQcmlzdGluZSxcbiAgICAgICAgICBpc0Zvcm1TdWJtaXR0ZWQ6IHRoaXMuaXNGb3JtU3VibWl0dGVkLFxuICAgICAgICAgIGlzUmVxdWlyZWQ6IHRoaXMuaXNSZXF1aXJlZCxcbiAgICAgICAgICBzaG93UmVxdWlyZWQ6IHRoaXMuc2hvd1JlcXVpcmVkLFxuICAgICAgICAgIHNob3dFcnJvcjogdGhpcy5zaG93RXJyb3IsXG4gICAgICAgICAgaXNWYWxpZFZhbHVlOiB0aGlzLmlzVmFsaWRWYWx1ZVxuICAgICAgICB9LCB0aGlzLnByb3BzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi9IT0MuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1yZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIFJlYWN0ID0gZ2xvYmFsLlJlYWN0IHx8IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcbnZhciBjcmVhdGVSZWFjdENsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2NyZWF0ZS1yZWFjdC1jbGFzcy9pbmRleC5qc1wiKTtcbnZhciBNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL01peGluLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29tcG9uZW50KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdENsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogJ0Zvcm1zeSgnICsgZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSArICcpJyxcbiAgICBtaXhpbnM6IFtNaXhpbl0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBpbm5lclJlZiA9IHRoaXMucHJvcHMuaW5uZXJSZWY7XG5cbiAgICAgIHZhciBwcm9wc0ZvckVsZW1lbnQgPSBfZXh0ZW5kcyh7XG4gICAgICAgIHNldFZhbGlkYXRpb25zOiB0aGlzLnNldFZhbGlkYXRpb25zLFxuICAgICAgICBzZXRWYWx1ZTogdGhpcy5zZXRWYWx1ZSxcbiAgICAgICAgcmVzZXRWYWx1ZTogdGhpcy5yZXNldFZhbHVlLFxuICAgICAgICBnZXRWYWx1ZTogdGhpcy5nZXRWYWx1ZSxcbiAgICAgICAgaGFzVmFsdWU6IHRoaXMuaGFzVmFsdWUsXG4gICAgICAgIGdldEVycm9yTWVzc2FnZTogdGhpcy5nZXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIGdldEVycm9yTWVzc2FnZXM6IHRoaXMuZ2V0RXJyb3JNZXNzYWdlcyxcbiAgICAgICAgaXNGb3JtRGlzYWJsZWQ6IHRoaXMuaXNGb3JtRGlzYWJsZWQsXG4gICAgICAgIGlzVmFsaWQ6IHRoaXMuaXNWYWxpZCxcbiAgICAgICAgaXNQcmlzdGluZTogdGhpcy5pc1ByaXN0aW5lLFxuICAgICAgICBpc0Zvcm1TdWJtaXR0ZWQ6IHRoaXMuaXNGb3JtU3VibWl0dGVkLFxuICAgICAgICBpc1JlcXVpcmVkOiB0aGlzLmlzUmVxdWlyZWQsXG4gICAgICAgIHNob3dSZXF1aXJlZDogdGhpcy5zaG93UmVxdWlyZWQsXG4gICAgICAgIHNob3dFcnJvcjogdGhpcy5zaG93RXJyb3IsXG4gICAgICAgIGlzVmFsaWRWYWx1ZTogdGhpcy5pc1ZhbGlkVmFsdWVcbiAgICAgIH0sIHRoaXMucHJvcHMpO1xuXG4gICAgICBpZiAoaW5uZXJSZWYpIHtcbiAgICAgICAgcHJvcHNGb3JFbGVtZW50LnJlZiA9IGlubmVyUmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBwcm9wc0ZvckVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpIHtcbiAgcmV0dXJuIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAodHlwZW9mIENvbXBvbmVudCA9PT0gJ3N0cmluZycgPyBDb21wb25lbnQgOiAnQ29tcG9uZW50Jyk7XG59XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIikpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL01peGluLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG52YXIgUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG52YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi91dGlscy5qc1wiKTtcbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG5cbnZhciBjb252ZXJ0VmFsaWRhdGlvbnNUb09iamVjdCA9IGZ1bmN0aW9uIGNvbnZlcnRWYWxpZGF0aW9uc1RvT2JqZWN0KHZhbGlkYXRpb25zKSB7XG5cbiAgaWYgKHR5cGVvZiB2YWxpZGF0aW9ucyA9PT0gJ3N0cmluZycpIHtcblxuICAgIHJldHVybiB2YWxpZGF0aW9ucy5zcGxpdCgvXFwsKD8hW157XFxbXSpbfVxcXV0pL2cpLnJlZHVjZShmdW5jdGlvbiAodmFsaWRhdGlvbnMsIHZhbGlkYXRpb24pIHtcbiAgICAgIHZhciBhcmdzID0gdmFsaWRhdGlvbi5zcGxpdCgnOicpO1xuICAgICAgdmFyIHZhbGlkYXRlTWV0aG9kID0gYXJncy5zaGlmdCgpO1xuXG4gICAgICBhcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFyZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gYXJnOyAvLyBJdCBpcyBhIHN0cmluZyBpZiBpdCBjYW4gbm90IHBhcnNlIGl0XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybXN5IGRvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgYXJncyBvbiBzdHJpbmcgdmFsaWRhdGlvbnMuIFVzZSBvYmplY3QgZm9ybWF0IG9mIHZhbGlkYXRpb25zIGluc3RlYWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhbGlkYXRpb25zW3ZhbGlkYXRlTWV0aG9kXSA9IGFyZ3MubGVuZ3RoID8gYXJnc1swXSA6IHRydWU7XG4gICAgICByZXR1cm4gdmFsaWRhdGlvbnM7XG4gICAgfSwge30pO1xuICB9XG5cbiAgcmV0dXJuIHZhbGlkYXRpb25zIHx8IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG4gICAgICBfaXNSZXF1aXJlZDogZmFsc2UsXG4gICAgICBfaXNWYWxpZDogdHJ1ZSxcbiAgICAgIF9pc1ByaXN0aW5lOiB0cnVlLFxuICAgICAgX3ByaXN0aW5lVmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG4gICAgICBfdmFsaWRhdGlvbkVycm9yOiBbXSxcbiAgICAgIF9leHRlcm5hbEVycm9yOiBudWxsLFxuICAgICAgX2Zvcm1TdWJtaXR0ZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29udGV4dFR5cGVzOiB7XG4gICAgZm9ybXN5OiBQcm9wVHlwZXMub2JqZWN0IC8vIFdoYXQgYWJvdXQgcmVxdWlyZWQ/XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZGF0aW9uRXJyb3I6ICcnLFxuICAgICAgdmFsaWRhdGlvbkVycm9yczoge31cbiAgICB9O1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHZhciBjb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnNldFZhbGlkYXRpb25zKHRoaXMucHJvcHMudmFsaWRhdGlvbnMsIHRoaXMucHJvcHMucmVxdWlyZWQpO1xuXG4gICAgICAvLyBQYXNzIGEgZnVuY3Rpb24gaW5zdGVhZD9cbiAgICAgIHRoaXMuY29udGV4dC5mb3Jtc3kuYXR0YWNoVG9Gb3JtKHRoaXMpO1xuICAgICAgLy90aGlzLnByb3BzLl9hdHRhY2hUb0Zvcm0odGhpcyk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKCF0aGlzLnByb3BzLm5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybSBJbnB1dCByZXF1aXJlcyBhIG5hbWUgcHJvcGVydHkgd2hlbiB1c2VkJyk7XG4gICAgfVxuXG4gICAgLypcbiAgICBpZiAoIXRoaXMucHJvcHMuX2F0dGFjaFRvRm9ybSkge1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLl9hdHRhY2hUb0Zvcm0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm0gTWl4aW4gcmVxdWlyZXMgY29tcG9uZW50IHRvIGJlIG5lc3RlZCBpbiBhIEZvcm0nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25maWd1cmUoKTtcbiAgICAgIH0uYmluZCh0aGlzKSwgMCk7XG4gICAgfVxuICAgICovXG4gICAgY29uZmlndXJlKCk7XG4gIH0sXG5cbiAgLy8gV2UgaGF2ZSB0byBtYWtlIHRoZSB2YWxpZGF0ZSBtZXRob2QgaXMga2VwdCB3aGVuIG5ldyBwcm9wcyBhcmUgYWRkZWRcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnNldFZhbGlkYXRpb25zKG5leHRQcm9wcy52YWxpZGF0aW9ucywgbmV4dFByb3BzLnJlcXVpcmVkKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcblxuICAgIC8vIElmIHRoZSB2YWx1ZSBwYXNzZWQgaGFzIGNoYW5nZWQsIHNldCBpdC4gSWYgdmFsdWUgaXMgbm90IHBhc3NlZCBpdCB3aWxsXG4gICAgLy8gaW50ZXJuYWxseSB1cGRhdGUsIGFuZCB0aGlzIHdpbGwgbmV2ZXIgcnVuXG4gICAgaWYgKCF1dGlscy5pc1NhbWUodGhpcy5wcm9wcy52YWx1ZSwgcHJldlByb3BzLnZhbHVlKSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiB2YWxpZGF0aW9ucyBvciByZXF1aXJlZCBpcyBjaGFuZ2VkLCBydW4gYSBuZXcgdmFsaWRhdGlvblxuICAgIGlmICghdXRpbHMuaXNTYW1lKHRoaXMucHJvcHMudmFsaWRhdGlvbnMsIHByZXZQcm9wcy52YWxpZGF0aW9ucykgfHwgIXV0aWxzLmlzU2FtZSh0aGlzLnByb3BzLnJlcXVpcmVkLCBwcmV2UHJvcHMucmVxdWlyZWQpKSB7XG4gICAgICB0aGlzLmNvbnRleHQuZm9ybXN5LnZhbGlkYXRlKHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICAvLyBEZXRhY2ggaXQgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY29udGV4dC5mb3Jtc3kuZGV0YWNoRnJvbUZvcm0odGhpcyk7XG4gICAgLy90aGlzLnByb3BzLl9kZXRhY2hGcm9tRm9ybSh0aGlzKTtcbiAgfSxcblxuICBzZXRWYWxpZGF0aW9uczogZnVuY3Rpb24gc2V0VmFsaWRhdGlvbnModmFsaWRhdGlvbnMsIHJlcXVpcmVkKSB7XG5cbiAgICAvLyBBZGQgdmFsaWRhdGlvbnMgdG8gdGhlIHN0b3JlIGl0c2VsZiBhcyB0aGUgcHJvcHMgb2JqZWN0IGNhbiBub3QgYmUgbW9kaWZpZWRcbiAgICB0aGlzLl92YWxpZGF0aW9ucyA9IGNvbnZlcnRWYWxpZGF0aW9uc1RvT2JqZWN0KHZhbGlkYXRpb25zKSB8fCB7fTtcbiAgICB0aGlzLl9yZXF1aXJlZFZhbGlkYXRpb25zID0gcmVxdWlyZWQgPT09IHRydWUgPyB7IGlzRGVmYXVsdFJlcXVpcmVkVmFsdWU6IHRydWUgfSA6IGNvbnZlcnRWYWxpZGF0aW9uc1RvT2JqZWN0KHJlcXVpcmVkKTtcbiAgfSxcblxuICAvLyBXZSB2YWxpZGF0ZSBhZnRlciB0aGUgdmFsdWUgaGFzIGJlZW4gc2V0XG4gIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgX3ZhbHVlOiB2YWx1ZSxcbiAgICAgIF9pc1ByaXN0aW5lOiBmYWxzZVxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY29udGV4dC5mb3Jtc3kudmFsaWRhdGUodGhpcyk7XG4gICAgICAvL3RoaXMucHJvcHMuX3ZhbGlkYXRlKHRoaXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG4gIHJlc2V0VmFsdWU6IGZ1bmN0aW9uIHJlc2V0VmFsdWUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBfdmFsdWU6IHRoaXMuc3RhdGUuX3ByaXN0aW5lVmFsdWUsXG4gICAgICBfaXNQcmlzdGluZTogdHJ1ZVxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY29udGV4dC5mb3Jtc3kudmFsaWRhdGUodGhpcyk7XG4gICAgICAvL3RoaXMucHJvcHMuX3ZhbGlkYXRlKHRoaXMpO1xuICAgIH0pO1xuICB9LFxuICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX3ZhbHVlO1xuICB9LFxuICBoYXNWYWx1ZTogZnVuY3Rpb24gaGFzVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX3ZhbHVlICE9PSAnJztcbiAgfSxcbiAgZ2V0RXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoKSB7XG4gICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5nZXRFcnJvck1lc3NhZ2VzKCk7XG4gICAgcmV0dXJuIG1lc3NhZ2VzLmxlbmd0aCA/IG1lc3NhZ2VzWzBdIDogbnVsbDtcbiAgfSxcbiAgZ2V0RXJyb3JNZXNzYWdlczogZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlcygpIHtcbiAgICByZXR1cm4gIXRoaXMuaXNWYWxpZCgpIHx8IHRoaXMuc2hvd1JlcXVpcmVkKCkgPyB0aGlzLnN0YXRlLl9leHRlcm5hbEVycm9yIHx8IHRoaXMuc3RhdGUuX3ZhbGlkYXRpb25FcnJvciB8fCBbXSA6IFtdO1xuICB9LFxuICBpc0Zvcm1EaXNhYmxlZDogZnVuY3Rpb24gaXNGb3JtRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5mb3Jtc3kuaXNGb3JtRGlzYWJsZWQoKTtcbiAgICAvL3JldHVybiB0aGlzLnByb3BzLl9pc0Zvcm1EaXNhYmxlZCgpO1xuICB9LFxuICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9pc1ZhbGlkO1xuICB9LFxuICBpc1ByaXN0aW5lOiBmdW5jdGlvbiBpc1ByaXN0aW5lKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9pc1ByaXN0aW5lO1xuICB9LFxuICBpc0Zvcm1TdWJtaXR0ZWQ6IGZ1bmN0aW9uIGlzRm9ybVN1Ym1pdHRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fZm9ybVN1Ym1pdHRlZDtcbiAgfSxcbiAgaXNSZXF1aXJlZDogZnVuY3Rpb24gaXNSZXF1aXJlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLnByb3BzLnJlcXVpcmVkO1xuICB9LFxuICBzaG93UmVxdWlyZWQ6IGZ1bmN0aW9uIHNob3dSZXF1aXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5faXNSZXF1aXJlZDtcbiAgfSxcbiAgc2hvd0Vycm9yOiBmdW5jdGlvbiBzaG93RXJyb3IoKSB7XG4gICAgcmV0dXJuICF0aGlzLnNob3dSZXF1aXJlZCgpICYmICF0aGlzLmlzVmFsaWQoKTtcbiAgfSxcbiAgaXNWYWxpZFZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LmZvcm1zeS5pc1ZhbGlkVmFsdWUuY2FsbChudWxsLCB0aGlzLCB2YWx1ZSk7XG4gICAgLy9yZXR1cm4gdGhpcy5wcm9wcy5faXNWYWxpZFZhbHVlLmNhbGwobnVsbCwgdGhpcywgdmFsdWUpO1xuICB9XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZm9ybXN5LXJlYWN0L2xpYi9tYWluLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG52YXIgX3R5cGVvZjIgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO2ZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9cmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mMihvYmopO1xufTtcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykge1xuICB2YXIgdGFyZ2V0ID0ge307Zm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlO2lmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlO3RhcmdldFtpXSA9IG9ialtpXTtcbiAgfXJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvcmVhY3QuanNcIik7XG52YXIgY3JlYXRlUmVhY3RDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanNcIik7XG52YXIgRm9ybXN5ID0ge307XG52YXIgdmFsaWRhdGlvblJ1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvdmFsaWRhdGlvblJ1bGVzLmpzXCIpO1xudmFyIGZvcm1EYXRhVG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvZm9ybS1kYXRhLXRvLW9iamVjdC9pbmRleC5qc1wiKTtcbnZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL3V0aWxzLmpzXCIpO1xudmFyIE1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvTWl4aW4uanNcIik7XG52YXIgSE9DID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvSE9DLmpzXCIpO1xudmFyIERlY29yYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL0RlY29yYXRvci5qc1wiKTtcbnZhciBvcHRpb25zID0ge307XG52YXIgZW1wdHlBcnJheSA9IFtdO1xuXG5Gb3Jtc3kuTWl4aW4gPSBNaXhpbjtcbkZvcm1zeS5IT0MgPSBIT0M7XG5Gb3Jtc3kuRGVjb3JhdG9yID0gRGVjb3JhdG9yO1xuXG5Gb3Jtc3kuZGVmYXVsdHMgPSBmdW5jdGlvbiAocGFzc2VkT3B0aW9ucykge1xuICBvcHRpb25zID0gcGFzc2VkT3B0aW9ucztcbn07XG5cbkZvcm1zeS5hZGRWYWxpZGF0aW9uUnVsZSA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XG4gIHZhbGlkYXRpb25SdWxlc1tuYW1lXSA9IGZ1bmM7XG59O1xuXG5Gb3Jtc3kuRm9ybSA9IGNyZWF0ZVJlYWN0Q2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0Zvcm1zeScsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcbiAgICAgIGNhbkNoYW5nZTogZmFsc2VcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7fSxcbiAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7fSxcbiAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHt9LFxuICAgICAgb25WYWxpZFN1Ym1pdDogZnVuY3Rpb24gb25WYWxpZFN1Ym1pdCgpIHt9LFxuICAgICAgb25JbnZhbGlkU3VibWl0OiBmdW5jdGlvbiBvbkludmFsaWRTdWJtaXQoKSB7fSxcbiAgICAgIG9uVmFsaWQ6IGZ1bmN0aW9uIG9uVmFsaWQoKSB7fSxcbiAgICAgIG9uSW52YWxpZDogZnVuY3Rpb24gb25JbnZhbGlkKCkge30sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSxcbiAgICAgIHZhbGlkYXRpb25FcnJvcnM6IG51bGwsXG4gICAgICBwcmV2ZW50RXh0ZXJuYWxJbnZhbGlkYXRpb246IGZhbHNlXG4gICAgfTtcbiAgfSxcblxuICBjaGlsZENvbnRleHRUeXBlczoge1xuICAgIGZvcm1zeTogUHJvcFR5cGVzLm9iamVjdFxuICB9LFxuICBnZXRDaGlsZENvbnRleHQ6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1zeToge1xuICAgICAgICBhdHRhY2hUb0Zvcm06IHRoaXMuYXR0YWNoVG9Gb3JtLFxuICAgICAgICBkZXRhY2hGcm9tRm9ybTogdGhpcy5kZXRhY2hGcm9tRm9ybSxcbiAgICAgICAgdmFsaWRhdGU6IHRoaXMudmFsaWRhdGUsXG4gICAgICAgIGlzRm9ybURpc2FibGVkOiB0aGlzLmlzRm9ybURpc2FibGVkLFxuICAgICAgICBpc1ZhbGlkVmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRWYWx1ZShjb21wb25lbnQsIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnJ1blZhbGlkYXRpb24oY29tcG9uZW50LCB2YWx1ZSkuaXNWYWxpZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0sXG5cbiAgLy8gQWRkIGEgbWFwIHRvIHN0b3JlIHRoZSBpbnB1dHMgb2YgdGhlIGZvcm0sIGEgbW9kZWwgdG8gc3RvcmVcbiAgLy8gdGhlIHZhbHVlcyBvZiB0aGUgZm9ybSBhbmQgcmVnaXN0ZXIgY2hpbGQgaW5wdXRzXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuaW5wdXRzID0gW107XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMudmFsaWRhdGVGb3JtKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcbiAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIGlucHV0IG5hbWVzIGJlZm9yZSBmb3JtIHVwZGF0ZXMsXG4gICAgLy8gdG8gY2hlY2sgaWYgaW5wdXRzIGhhcyBjaGFuZ2VkIGFmdGVyIHJlbmRlclxuICAgIHRoaXMucHJldklucHV0TmFtZXMgPSB0aGlzLmlucHV0cy5tYXAoZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudC5wcm9wcy5uYW1lO1xuICAgIH0pO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9ycyAmJiBfdHlwZW9mKHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9ycykgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZXRJbnB1dFZhbGlkYXRpb25FcnJvcnModGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3SW5wdXROYW1lcyA9IHRoaXMuaW5wdXRzLm1hcChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50LnByb3BzLm5hbWU7XG4gICAgfSk7XG4gICAgaWYgKHV0aWxzLmFycmF5c0RpZmZlcih0aGlzLnByZXZJbnB1dE5hbWVzLCBuZXdJbnB1dE5hbWVzKSkge1xuICAgICAgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQWxsb3cgcmVzZXR0aW5nIHRvIHNwZWNpZmllZCBkYXRhXG4gIHJlc2V0OiBmdW5jdGlvbiByZXNldChkYXRhKSB7XG4gICAgdGhpcy5zZXRGb3JtUHJpc3RpbmUodHJ1ZSk7XG4gICAgdGhpcy5yZXNldE1vZGVsKGRhdGEpO1xuICB9LFxuXG4gIC8vIFVwZGF0ZSBtb2RlbCwgc3VibWl0IHRvIHVybCBwcm9wIGFuZCBzZW5kIHRoZSBtb2RlbFxuICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChldmVudCkge1xuXG4gICAgZXZlbnQgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIFRyaWdnZXIgZm9ybSBhcyBub3QgcHJpc3RpbmUuXG4gICAgLy8gSWYgYW55IGlucHV0cyBoYXZlIG5vdCBiZWVuIHRvdWNoZWQgeWV0IHRoaXMgd2lsbCBtYWtlIHRoZW0gZGlydHlcbiAgICAvLyBzbyB2YWxpZGF0aW9uIGJlY29tZXMgdmlzaWJsZSAoaWYgYmFzZWQgb24gaXNQcmlzdGluZSlcbiAgICB0aGlzLnNldEZvcm1QcmlzdGluZShmYWxzZSk7XG4gICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgIHRoaXMucHJvcHMub25TdWJtaXQobW9kZWwsIHRoaXMucmVzZXRNb2RlbCwgdGhpcy51cGRhdGVJbnB1dHNXaXRoRXJyb3IpO1xuICAgIHRoaXMuc3RhdGUuaXNWYWxpZCA/IHRoaXMucHJvcHMub25WYWxpZFN1Ym1pdChtb2RlbCwgdGhpcy5yZXNldE1vZGVsLCB0aGlzLnVwZGF0ZUlucHV0c1dpdGhFcnJvcikgOiB0aGlzLnByb3BzLm9uSW52YWxpZFN1Ym1pdChtb2RlbCwgdGhpcy5yZXNldE1vZGVsLCB0aGlzLnVwZGF0ZUlucHV0c1dpdGhFcnJvcik7XG4gIH0sXG5cbiAgbWFwTW9kZWw6IGZ1bmN0aW9uIG1hcE1vZGVsKG1vZGVsKSB7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5tYXBwaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXBwaW5nKG1vZGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1EYXRhVG9PYmplY3QudG9PYmooT2JqZWN0LmtleXMobW9kZWwpLnJlZHVjZShmdW5jdGlvbiAobWFwcGVkTW9kZWwsIGtleSkge1xuXG4gICAgICAgIHZhciBrZXlBcnJheSA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgYmFzZSA9IG1hcHBlZE1vZGVsO1xuICAgICAgICB3aGlsZSAoa2V5QXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlBcnJheS5zaGlmdCgpO1xuICAgICAgICAgIGJhc2UgPSBiYXNlW2N1cnJlbnRLZXldID0ga2V5QXJyYXkubGVuZ3RoID8gYmFzZVtjdXJyZW50S2V5XSB8fCB7fSA6IG1vZGVsW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwcGVkTW9kZWw7XG4gICAgICB9LCB7fSkpO1xuICAgIH1cbiAgfSxcblxuICBnZXRNb2RlbDogZnVuY3Rpb24gZ2V0TW9kZWwoKSB7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZXMgPSB0aGlzLmdldEN1cnJlbnRWYWx1ZXMoKTtcbiAgICByZXR1cm4gdGhpcy5tYXBNb2RlbChjdXJyZW50VmFsdWVzKTtcbiAgfSxcblxuICAvLyBSZXNldCBlYWNoIGtleSBpbiB0aGUgbW9kZWwgdG8gdGhlIG9yaWdpbmFsIC8gaW5pdGlhbCAvIHNwZWNpZmllZCB2YWx1ZVxuICByZXNldE1vZGVsOiBmdW5jdGlvbiByZXNldE1vZGVsKGRhdGEpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgIHZhciBuYW1lID0gY29tcG9uZW50LnByb3BzLm5hbWU7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbXBvbmVudC5zZXRWYWx1ZShkYXRhW25hbWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBvbmVudC5yZXNldFZhbHVlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgfSxcblxuICBzZXRJbnB1dFZhbGlkYXRpb25FcnJvcnM6IGZ1bmN0aW9uIHNldElucHV0VmFsaWRhdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgIHZhciBuYW1lID0gY29tcG9uZW50LnByb3BzLm5hbWU7XG4gICAgICB2YXIgYXJncyA9IFt7XG4gICAgICAgIF9pc1ZhbGlkOiAhKG5hbWUgaW4gZXJyb3JzKSxcbiAgICAgICAgX3ZhbGlkYXRpb25FcnJvcjogdHlwZW9mIGVycm9yc1tuYW1lXSA9PT0gJ3N0cmluZycgPyBbZXJyb3JzW25hbWVdXSA6IGVycm9yc1tuYW1lXVxuICAgICAgfV07XG4gICAgICBjb21wb25lbnQuc2V0U3RhdGUuYXBwbHkoY29tcG9uZW50LCBhcmdzKTtcbiAgICB9KTtcbiAgfSxcblxuICAvLyBDaGVja3MgaWYgdGhlIHZhbHVlcyBoYXZlIGNoYW5nZWQgZnJvbSB0aGVpciBpbml0aWFsIHZhbHVlXG4gIGlzQ2hhbmdlZDogZnVuY3Rpb24gaXNDaGFuZ2VkKCkge1xuICAgIHJldHVybiAhdXRpbHMuaXNTYW1lKHRoaXMuZ2V0UHJpc3RpbmVWYWx1ZXMoKSwgdGhpcy5nZXRDdXJyZW50VmFsdWVzKCkpO1xuICB9LFxuXG4gIGdldFByaXN0aW5lVmFsdWVzOiBmdW5jdGlvbiBnZXRQcmlzdGluZVZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHMucmVkdWNlKGZ1bmN0aW9uIChkYXRhLCBjb21wb25lbnQpIHtcbiAgICAgIHZhciBuYW1lID0gY29tcG9uZW50LnByb3BzLm5hbWU7XG4gICAgICBkYXRhW25hbWVdID0gY29tcG9uZW50LnByb3BzLnZhbHVlO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSwge30pO1xuICB9LFxuXG4gIC8vIEdvIHRocm91Z2ggZXJyb3JzIGZyb20gc2VydmVyIGFuZCBncmFiIHRoZSBjb21wb25lbnRzXG4gIC8vIHN0b3JlZCBpbiB0aGUgaW5wdXRzIG1hcC4gQ2hhbmdlIHRoZWlyIHN0YXRlIHRvIGludmFsaWRcbiAgLy8gYW5kIHNldCB0aGUgc2VydmVyRXJyb3IgbWVzc2FnZVxuICB1cGRhdGVJbnB1dHNXaXRoRXJyb3I6IGZ1bmN0aW9uIHVwZGF0ZUlucHV0c1dpdGhFcnJvcihlcnJvcnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIE9iamVjdC5rZXlzKGVycm9ycykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSB1dGlscy5maW5kKF90aGlzMi5pbnB1dHMsIGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5wcm9wcy5uYW1lID09PSBuYW1lO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgdHJ5aW5nIHRvIHVwZGF0ZSBhbiBpbnB1dCB0aGF0IGRvZXMgbm90IGV4aXN0LiAnICsgJ1ZlcmlmeSBlcnJvcnMgb2JqZWN0IHdpdGggaW5wdXQgbmFtZXMuICcgKyBKU09OLnN0cmluZ2lmeShlcnJvcnMpKTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gW3tcbiAgICAgICAgX2lzVmFsaWQ6IF90aGlzMi5wcm9wcy5wcmV2ZW50RXh0ZXJuYWxJbnZhbGlkYXRpb24gfHwgZmFsc2UsXG4gICAgICAgIF9leHRlcm5hbEVycm9yOiB0eXBlb2YgZXJyb3JzW25hbWVdID09PSAnc3RyaW5nJyA/IFtlcnJvcnNbbmFtZV1dIDogZXJyb3JzW25hbWVdXG4gICAgICB9XTtcbiAgICAgIGNvbXBvbmVudC5zZXRTdGF0ZS5hcHBseShjb21wb25lbnQsIGFyZ3MpO1xuICAgIH0pO1xuICB9LFxuXG4gIGlzRm9ybURpc2FibGVkOiBmdW5jdGlvbiBpc0Zvcm1EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlZDtcbiAgfSxcblxuICBnZXRDdXJyZW50VmFsdWVzOiBmdW5jdGlvbiBnZXRDdXJyZW50VmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0cy5yZWR1Y2UoZnVuY3Rpb24gKGRhdGEsIGNvbXBvbmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQucHJvcHMubmFtZTtcbiAgICAgIGRhdGFbbmFtZV0gPSBjb21wb25lbnQuc3RhdGUuX3ZhbHVlO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSwge30pO1xuICB9LFxuXG4gIHNldEZvcm1QcmlzdGluZTogZnVuY3Rpb24gc2V0Rm9ybVByaXN0aW5lKGlzUHJpc3RpbmUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIF9mb3JtU3VibWl0dGVkOiAhaXNQcmlzdGluZVxuICAgIH0pO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggY29tcG9uZW50IGFuZCBzZXQgaXQgYXMgcHJpc3RpbmVcbiAgICAvLyBvciBcImRpcnR5XCIuXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50LCBpbmRleCkge1xuICAgICAgY29tcG9uZW50LnNldFN0YXRlKHtcbiAgICAgICAgX2Zvcm1TdWJtaXR0ZWQ6ICFpc1ByaXN0aW5lLFxuICAgICAgICBfaXNQcmlzdGluZTogaXNQcmlzdGluZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gVXNlIHRoZSBiaW5kZWQgdmFsdWVzIGFuZCB0aGUgYWN0dWFsIGlucHV0IHZhbHVlIHRvXG4gIC8vIHZhbGlkYXRlIHRoZSBpbnB1dCBhbmQgc2V0IGl0cyBzdGF0ZS4gVGhlbiBjaGVjayB0aGVcbiAgLy8gc3RhdGUgb2YgdGhlIGZvcm0gaXRzZWxmXG4gIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShjb21wb25lbnQpIHtcblxuICAgIC8vIFRyaWdnZXIgb25DaGFuZ2VcbiAgICBpZiAodGhpcy5zdGF0ZS5jYW5DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5nZXRDdXJyZW50VmFsdWVzKCksIHRoaXMuaXNDaGFuZ2VkKCkpO1xuICAgIH1cblxuICAgIHZhciB2YWxpZGF0aW9uID0gdGhpcy5ydW5WYWxpZGF0aW9uKGNvbXBvbmVudCk7XG4gICAgLy8gUnVuIHRocm91Z2ggdGhlIHZhbGlkYXRpb25zLCBzcGxpdCB0aGVtIHVwIGFuZCBjYWxsXG4gICAgLy8gdGhlIHZhbGlkYXRvciBJRiB0aGVyZSBpcyBhIHZhbHVlIG9yIGl0IGlzIHJlcXVpcmVkXG4gICAgY29tcG9uZW50LnNldFN0YXRlKHtcbiAgICAgIF9pc1ZhbGlkOiB2YWxpZGF0aW9uLmlzVmFsaWQsXG4gICAgICBfaXNSZXF1aXJlZDogdmFsaWRhdGlvbi5pc1JlcXVpcmVkLFxuICAgICAgX3ZhbGlkYXRpb25FcnJvcjogdmFsaWRhdGlvbi5lcnJvcixcbiAgICAgIF9leHRlcm5hbEVycm9yOiBudWxsXG4gICAgfSwgdGhpcy52YWxpZGF0ZUZvcm0pO1xuICB9LFxuXG4gIC8vIENoZWNrcyB2YWxpZGF0aW9uIG9uIGN1cnJlbnQgdmFsdWUgb3IgYSBwYXNzZWQgdmFsdWVcbiAgcnVuVmFsaWRhdGlvbjogZnVuY3Rpb24gcnVuVmFsaWRhdGlvbihjb21wb25lbnQsIHZhbHVlKSB7XG5cbiAgICB2YXIgY3VycmVudFZhbHVlcyA9IHRoaXMuZ2V0Q3VycmVudFZhbHVlcygpO1xuICAgIHZhciB2YWxpZGF0aW9uRXJyb3JzID0gY29tcG9uZW50LnByb3BzLnZhbGlkYXRpb25FcnJvcnM7XG4gICAgdmFyIHZhbGlkYXRpb25FcnJvciA9IGNvbXBvbmVudC5wcm9wcy52YWxpZGF0aW9uRXJyb3I7XG4gICAgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID09PSAyID8gdmFsdWUgOiBjb21wb25lbnQuc3RhdGUuX3ZhbHVlO1xuXG4gICAgdmFyIHZhbGlkYXRpb25SZXN1bHRzID0gdGhpcy5ydW5SdWxlcyh2YWx1ZSwgY3VycmVudFZhbHVlcywgY29tcG9uZW50Ll92YWxpZGF0aW9ucyk7XG4gICAgdmFyIHJlcXVpcmVkUmVzdWx0cyA9IHRoaXMucnVuUnVsZXModmFsdWUsIGN1cnJlbnRWYWx1ZXMsIGNvbXBvbmVudC5fcmVxdWlyZWRWYWxpZGF0aW9ucyk7XG5cbiAgICAvLyB0aGUgY29tcG9uZW50IGRlZmluZXMgYW4gZXhwbGljaXQgdmFsaWRhdGUgZnVuY3Rpb25cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudC52YWxpZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0cy5mYWlsZWQgPSBjb21wb25lbnQudmFsaWRhdGUoKSA/IFtdIDogWydmYWlsZWQnXTtcbiAgICB9XG5cbiAgICB2YXIgaXNSZXF1aXJlZCA9IE9iamVjdC5rZXlzKGNvbXBvbmVudC5fcmVxdWlyZWRWYWxpZGF0aW9ucykubGVuZ3RoID8gISFyZXF1aXJlZFJlc3VsdHMuc3VjY2Vzcy5sZW5ndGggOiBmYWxzZTtcbiAgICB2YXIgaXNWYWxpZCA9ICF2YWxpZGF0aW9uUmVzdWx0cy5mYWlsZWQubGVuZ3RoICYmICEodGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzICYmIHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yc1tjb21wb25lbnQucHJvcHMubmFtZV0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzUmVxdWlyZWQ6IGlzUmVxdWlyZWQsXG4gICAgICBpc1ZhbGlkOiBpc1JlcXVpcmVkID8gZmFsc2UgOiBpc1ZhbGlkLFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoaXNWYWxpZCAmJiAhaXNSZXF1aXJlZCkge1xuICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHRzLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdHMuZXJyb3JzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9ycyAmJiB0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvcnNbY29tcG9uZW50LnByb3BzLm5hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvcnNbY29tcG9uZW50LnByb3BzLm5hbWVdID09PSAnc3RyaW5nJyA/IFt0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvcnNbY29tcG9uZW50LnByb3BzLm5hbWVdXSA6IHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yc1tjb21wb25lbnQucHJvcHMubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRpb25FcnJvcnNbcmVxdWlyZWRSZXN1bHRzLnN1Y2Nlc3NbMF1dO1xuICAgICAgICAgIHJldHVybiBlcnJvciA/IFtlcnJvcl0gOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHRzLmZhaWxlZC5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdHMuZmFpbGVkLm1hcChmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9yc1tmYWlsZWRdID8gdmFsaWRhdGlvbkVycm9yc1tmYWlsZWRdIDogdmFsaWRhdGlvbkVycm9yO1xuICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoeCwgcG9zLCBhcnIpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgICAgICByZXR1cm4gYXJyLmluZGV4T2YoeCkgPT09IHBvcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfS5jYWxsKHRoaXMpXG4gICAgfTtcbiAgfSxcblxuICBydW5SdWxlczogZnVuY3Rpb24gcnVuUnVsZXModmFsdWUsIGN1cnJlbnRWYWx1ZXMsIHZhbGlkYXRpb25zKSB7XG5cbiAgICB2YXIgcmVzdWx0cyA9IHtcbiAgICAgIGVycm9yczogW10sXG4gICAgICBmYWlsZWQ6IFtdLFxuICAgICAgc3VjY2VzczogW11cbiAgICB9O1xuICAgIGlmIChPYmplY3Qua2V5cyh2YWxpZGF0aW9ucykubGVuZ3RoKSB7XG4gICAgICBPYmplY3Qua2V5cyh2YWxpZGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAodmFsaWRhdGlvbk1ldGhvZCkge1xuXG4gICAgICAgIGlmICh2YWxpZGF0aW9uUnVsZXNbdmFsaWRhdGlvbk1ldGhvZF0gJiYgdHlwZW9mIHZhbGlkYXRpb25zW3ZhbGlkYXRpb25NZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3Jtc3kgZG9lcyBub3QgYWxsb3cgeW91IHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsaWRhdGlvbnM6ICcgKyB2YWxpZGF0aW9uTWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsaWRhdGlvblJ1bGVzW3ZhbGlkYXRpb25NZXRob2RdICYmIHR5cGVvZiB2YWxpZGF0aW9uc1t2YWxpZGF0aW9uTWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybXN5IGRvZXMgbm90IGhhdmUgdGhlIHZhbGlkYXRpb24gcnVsZTogJyArIHZhbGlkYXRpb25NZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0aW9uc1t2YWxpZGF0aW9uTWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB2YWxpZGF0aW9uID0gdmFsaWRhdGlvbnNbdmFsaWRhdGlvbk1ldGhvZF0oY3VycmVudFZhbHVlcywgdmFsdWUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2godmFsaWRhdGlvbik7XG4gICAgICAgICAgICByZXN1bHRzLmZhaWxlZC5wdXNoKHZhbGlkYXRpb25NZXRob2QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdHMuZmFpbGVkLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsaWRhdGlvbnNbdmFsaWRhdGlvbk1ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IHZhbGlkYXRpb25SdWxlc1t2YWxpZGF0aW9uTWV0aG9kXShjdXJyZW50VmFsdWVzLCB2YWx1ZSwgdmFsaWRhdGlvbnNbdmFsaWRhdGlvbk1ldGhvZF0pO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2godmFsaWRhdGlvbik7XG4gICAgICAgICAgICByZXN1bHRzLmZhaWxlZC5wdXNoKHZhbGlkYXRpb25NZXRob2QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdHMuZmFpbGVkLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMuc3VjY2Vzcy5wdXNoKHZhbGlkYXRpb25NZXRob2QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0cy5zdWNjZXNzLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSxcblxuICAvLyBWYWxpZGF0ZSB0aGUgZm9ybSBieSBnb2luZyB0aHJvdWdoIGFsbCBjaGlsZCBpbnB1dCBjb21wb25lbnRzXG4gIC8vIGFuZCBjaGVjayB0aGVpciBzdGF0ZVxuICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIC8vIFdlIG5lZWQgYSBjYWxsYmFjayBhcyB3ZSBhcmUgdmFsaWRhdGluZyBhbGwgaW5wdXRzIGFnYWluLiBUaGlzIHdpbGxcbiAgICAvLyBydW4gd2hlbiB0aGUgbGFzdCBjb21wb25lbnQgaGFzIHNldCBpdHMgc3RhdGVcbiAgICB2YXIgb25WYWxpZGF0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWxsSXNWYWxpZCA9IHRoaXMuaW5wdXRzLmV2ZXJ5KGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5zdGF0ZS5faXNWYWxpZDtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNWYWxpZDogYWxsSXNWYWxpZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhbGxJc1ZhbGlkKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25WYWxpZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkludmFsaWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVsbCB0aGUgZm9ybSB0aGF0IGl0IGNhbiBzdGFydCB0byB0cmlnZ2VyIGNoYW5nZSBldmVudHNcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjYW5DaGFuZ2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIC8vIFJ1biB2YWxpZGF0aW9uIGFnYWluIGluIGNhc2UgYWZmZWN0ZWQgYnkgb3RoZXIgaW5wdXRzLiBUaGVcbiAgICAvLyBsYXN0IGNvbXBvbmVudCB2YWxpZGF0ZWQgd2lsbCBydW4gdGhlIG9uVmFsaWRhdGlvbkNvbXBsZXRlIGNhbGxiYWNrXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50LCBpbmRleCkge1xuICAgICAgdmFyIHZhbGlkYXRpb24gPSBfdGhpczMucnVuVmFsaWRhdGlvbihjb21wb25lbnQpO1xuICAgICAgaWYgKHZhbGlkYXRpb24uaXNWYWxpZCAmJiBjb21wb25lbnQuc3RhdGUuX2V4dGVybmFsRXJyb3IpIHtcbiAgICAgICAgdmFsaWRhdGlvbi5pc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb21wb25lbnQuc2V0U3RhdGUoe1xuICAgICAgICBfaXNWYWxpZDogdmFsaWRhdGlvbi5pc1ZhbGlkLFxuICAgICAgICBfaXNSZXF1aXJlZDogdmFsaWRhdGlvbi5pc1JlcXVpcmVkLFxuICAgICAgICBfdmFsaWRhdGlvbkVycm9yOiB2YWxpZGF0aW9uLmVycm9yLFxuICAgICAgICBfZXh0ZXJuYWxFcnJvcjogIXZhbGlkYXRpb24uaXNWYWxpZCAmJiBjb21wb25lbnQuc3RhdGUuX2V4dGVybmFsRXJyb3IgPyBjb21wb25lbnQuc3RhdGUuX2V4dGVybmFsRXJyb3IgOiBudWxsXG4gICAgICB9LCBpbmRleCA9PT0gX3RoaXMzLmlucHV0cy5sZW5ndGggLSAxID8gb25WYWxpZGF0aW9uQ29tcGxldGUgOiBudWxsKTtcbiAgICB9KTtcblxuICAgIC8vIElmIHRoZXJlIGFyZSBubyBpbnB1dHMsIHNldCBzdGF0ZSB3aGVyZSBmb3JtIGlzIHJlYWR5IHRvIHRyaWdnZXJcbiAgICAvLyBjaGFuZ2UgZXZlbnQuIE5ldyBpbnB1dHMgbWlnaHQgYmUgYWRkZWQgbGF0ZXJcbiAgICBpZiAoIXRoaXMuaW5wdXRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNhbkNoYW5nZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIE1ldGhvZCBwdXQgb24gZWFjaCBpbnB1dCBjb21wb25lbnQgdG8gcmVnaXN0ZXJcbiAgLy8gaXRzZWxmIHRvIHRoZSBmb3JtXG4gIGF0dGFjaFRvRm9ybTogZnVuY3Rpb24gYXR0YWNoVG9Gb3JtKGNvbXBvbmVudCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRzLmluZGV4T2YoY29tcG9uZW50KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuaW5wdXRzLnB1c2goY29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkYXRlKGNvbXBvbmVudCk7XG4gIH0sXG5cbiAgLy8gTWV0aG9kIHB1dCBvbiBlYWNoIGlucHV0IGNvbXBvbmVudCB0byB1bnJlZ2lzdGVyXG4gIC8vIGl0c2VsZiBmcm9tIHRoZSBmb3JtXG4gIGRldGFjaEZyb21Gb3JtOiBmdW5jdGlvbiBkZXRhY2hGcm9tRm9ybShjb21wb25lbnQpIHtcbiAgICB2YXIgY29tcG9uZW50UG9zID0gdGhpcy5pbnB1dHMuaW5kZXhPZihjb21wb25lbnQpO1xuXG4gICAgaWYgKGNvbXBvbmVudFBvcyAhPT0gLTEpIHtcbiAgICAgIHRoaXMuaW5wdXRzID0gdGhpcy5pbnB1dHMuc2xpY2UoMCwgY29tcG9uZW50UG9zKS5jb25jYXQodGhpcy5pbnB1dHMuc2xpY2UoY29tcG9uZW50UG9zICsgMSkpO1xuICAgIH1cblxuICAgIHRoaXMudmFsaWRhdGVGb3JtKCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBtYXBwaW5nID0gX3Byb3BzLm1hcHBpbmcsXG4gICAgICAgIHZhbGlkYXRpb25FcnJvcnMgPSBfcHJvcHMudmFsaWRhdGlvbkVycm9ycyxcbiAgICAgICAgb25TdWJtaXQgPSBfcHJvcHMub25TdWJtaXQsXG4gICAgICAgIG9uVmFsaWQgPSBfcHJvcHMub25WYWxpZCxcbiAgICAgICAgb25WYWxpZFN1Ym1pdCA9IF9wcm9wcy5vblZhbGlkU3VibWl0LFxuICAgICAgICBvbkludmFsaWQgPSBfcHJvcHMub25JbnZhbGlkLFxuICAgICAgICBvbkludmFsaWRTdWJtaXQgPSBfcHJvcHMub25JbnZhbGlkU3VibWl0LFxuICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgcmVzZXQgPSBfcHJvcHMucmVzZXQsXG4gICAgICAgIHByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbiA9IF9wcm9wcy5wcmV2ZW50RXh0ZXJuYWxJbnZhbGlkYXRpb24sXG4gICAgICAgIG9uU3VjY2VzcyA9IF9wcm9wcy5vblN1Y2Nlc3MsXG4gICAgICAgIG9uRXJyb3IgPSBfcHJvcHMub25FcnJvcixcbiAgICAgICAgbm9uRm9ybXN5UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ21hcHBpbmcnLCAndmFsaWRhdGlvbkVycm9ycycsICdvblN1Ym1pdCcsICdvblZhbGlkJywgJ29uVmFsaWRTdWJtaXQnLCAnb25JbnZhbGlkJywgJ29uSW52YWxpZFN1Ym1pdCcsICdvbkNoYW5nZScsICdyZXNldCcsICdwcmV2ZW50RXh0ZXJuYWxJbnZhbGlkYXRpb24nLCAnb25TdWNjZXNzJywgJ29uRXJyb3InXSk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZm9ybScsIF9leHRlbmRzKHt9LCBub25Gb3Jtc3lQcm9wcywgeyBvblN1Ym1pdDogdGhpcy5zdWJtaXQgfSksIHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICB9XG59KTtcblxuaWYgKCFnbG9iYWwuZXhwb3J0cyAmJiAhZ2xvYmFsLm1vZHVsZSAmJiAoIWdsb2JhbC5kZWZpbmUgfHwgIWdsb2JhbC5kZWZpbmUuYW1kKSkge1xuICBnbG9iYWwuRm9ybXN5ID0gRm9ybXN5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1zeTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvdXRpbHMuanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF90eXBlb2YyID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXJyYXlzRGlmZmVyOiBmdW5jdGlvbiBhcnJheXNEaWZmZXIoYSwgYikge1xuICAgIHZhciBpc0RpZmZlcmVudCA9IGZhbHNlO1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTYW1lKGl0ZW0sIGJbaW5kZXhdKSkge1xuICAgICAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBpc0RpZmZlcmVudDtcbiAgfSxcblxuICBvYmplY3RzRGlmZmVyOiBmdW5jdGlvbiBvYmplY3RzRGlmZmVyKGEsIGIpIHtcbiAgICB2YXIgaXNEaWZmZXJlbnQgPSBmYWxzZTtcbiAgICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NhbWUoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgaXNEaWZmZXJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGlmZmVyZW50O1xuICB9LFxuXG4gIGlzU2FtZTogZnVuY3Rpb24gaXNTYW1lKGEsIGIpIHtcbiAgICBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgIT09ICh0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiAhdGhpcy5hcnJheXNEaWZmZXIoYSwgYik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgPT09ICdvYmplY3QnICYmIGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICF0aGlzLm9iamVjdHNEaWZmZXIoYSwgYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG5cbiAgZmluZDogZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBmbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY29sbGVjdGlvbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gY29sbGVjdGlvbltpXTtcbiAgICAgIGlmIChmbihpdGVtKSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2Zvcm1zeS1yZWFjdC9saWIvdmFsaWRhdGlvblJ1bGVzLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaXNFeGlzdHkgPSBmdW5jdGlvbiBfaXNFeGlzdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59O1xuXG52YXIgaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSAnJztcbn07XG5cbnZhciB2YWxpZGF0aW9ucyA9IHtcbiAgaXNEZWZhdWx0UmVxdWlyZWRWYWx1ZTogZnVuY3Rpb24gaXNEZWZhdWx0UmVxdWlyZWRWYWx1ZSh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09ICcnO1xuICB9LFxuICBpc0V4aXN0eTogZnVuY3Rpb24gaXNFeGlzdHkodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiBfaXNFeGlzdHkodmFsdWUpO1xuICB9LFxuICBtYXRjaFJlZ2V4cDogZnVuY3Rpb24gbWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgcmVnZXhwKSB7XG4gICAgcmV0dXJuICFfaXNFeGlzdHkodmFsdWUpIHx8IGlzRW1wdHkodmFsdWUpIHx8IHJlZ2V4cC50ZXN0KHZhbHVlKTtcbiAgfSxcbiAgaXNVbmRlZmluZWQ6IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgfSxcbiAgaXNFbXB0eVN0cmluZzogZnVuY3Rpb24gaXNFbXB0eVN0cmluZyh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRW1wdHkodmFsdWUpO1xuICB9LFxuICBpc0VtYWlsOiBmdW5jdGlvbiBpc0VtYWlsKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pKTtcbiAgfSxcbiAgaXNVcmw6IGZ1bmN0aW9uIGlzVXJsKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL14oaHR0cHM/fHM/ZnRwKTpcXC9cXC8oKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OikqQCk/KCgoXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pKXwoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4/KSg6XFxkKik/KShcXC8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKyhcXC8oKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkqKSopPyk/KFxcPygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8W1xcdUUwMDAtXFx1RjhGRl18XFwvfFxcPykqKT8oIygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8XFwvfFxcPykqKT8kL2kpO1xuICB9LFxuICBpc1RydWU6IGZ1bmN0aW9uIGlzVHJ1ZSh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB0cnVlO1xuICB9LFxuICBpc0ZhbHNlOiBmdW5jdGlvbiBpc0ZhbHNlKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICB9LFxuICBpc051bWVyaWM6IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL15bLStdPyg/OlxcZCpbLl0pP1xcZCskLyk7XG4gIH0sXG4gIGlzQWxwaGE6IGZ1bmN0aW9uIGlzQWxwaGEodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWxpZGF0aW9ucy5tYXRjaFJlZ2V4cCh2YWx1ZXMsIHZhbHVlLCAvXltBLVpdKyQvaSk7XG4gIH0sXG4gIGlzQWxwaGFudW1lcmljOiBmdW5jdGlvbiBpc0FscGhhbnVtZXJpYyh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eWzAtOUEtWl0rJC9pKTtcbiAgfSxcbiAgaXNJbnQ6IGZ1bmN0aW9uIGlzSW50KHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL14oPzpbLStdPyg/OjB8WzEtOV1cXGQqKSkkLyk7XG4gIH0sXG4gIGlzRmxvYXQ6IGZ1bmN0aW9uIGlzRmxvYXQodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWxpZGF0aW9ucy5tYXRjaFJlZ2V4cCh2YWx1ZXMsIHZhbHVlLCAvXig/OlstK10/KD86XFxkKykpPyg/OlxcLlxcZCopPyg/OltlRV1bXFwrXFwtXT8oPzpcXGQrKSk/JC8pO1xuICB9LFxuICBpc1dvcmRzOiBmdW5jdGlvbiBpc1dvcmRzKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL15bQS1aXFxzXSskL2kpO1xuICB9LFxuICBpc1NwZWNpYWxXb3JkczogZnVuY3Rpb24gaXNTcGVjaWFsV29yZHModmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWxpZGF0aW9ucy5tYXRjaFJlZ2V4cCh2YWx1ZXMsIHZhbHVlLCAvXltBLVpcXHNcXHUwMEMwLVxcdTAxN0ZdKyQvaSk7XG4gIH0sXG4gIGlzTGVuZ3RoOiBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZXMsIHZhbHVlLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gIV9pc0V4aXN0eSh2YWx1ZSkgfHwgaXNFbXB0eSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSBsZW5ndGg7XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKHZhbHVlcywgdmFsdWUsIGVxbCkge1xuICAgIHJldHVybiAhX2lzRXhpc3R5KHZhbHVlKSB8fCBpc0VtcHR5KHZhbHVlKSB8fCB2YWx1ZSA9PSBlcWw7XG4gIH0sXG4gIGVxdWFsc0ZpZWxkOiBmdW5jdGlvbiBlcXVhbHNGaWVsZCh2YWx1ZXMsIHZhbHVlLCBmaWVsZCkge1xuICAgIHJldHVybiB2YWx1ZSA9PSB2YWx1ZXNbZmllbGRdO1xuICB9LFxuICBtYXhMZW5ndGg6IGZ1bmN0aW9uIG1heExlbmd0aCh2YWx1ZXMsIHZhbHVlLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gIV9pc0V4aXN0eSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoIDw9IGxlbmd0aDtcbiAgfSxcbiAgbWluTGVuZ3RoOiBmdW5jdGlvbiBtaW5MZW5ndGgodmFsdWVzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuICFfaXNFeGlzdHkodmFsdWUpIHx8IGlzRW1wdHkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA+PSBsZW5ndGg7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGlvbnM7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQXV0aC9GaWVsZC9GaWVsZC5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9mb3Jtc3lSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL21haW4uanNcIik7XG5cbnZhciBfZm9ybXN5UmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybXN5UmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBGaWVsZCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhGaWVsZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRmllbGQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmllbGQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZpZWxkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmllbGQpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5jaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMucHJvcHMuc2V0VmFsdWUoZXZlbnQuY3VycmVudFRhcmdldFtfdGhpcy5wcm9wcy50eXBlID09PSAnY2hlY2tib3gnID8gJ2NoZWNrZWQnIDogJ3ZhbHVlJ10pO1xuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpZWxkLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSB0aGlzLnByb3BzLmdldEVycm9yTWVzc2FnZSgpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogJ3NpZ251cC1maWVsZC1ncm91cCcgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBodG1sRm9yOiB0aGlzLnByb3BzLm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NpZ251cC1mb3JtX19sYWJlbCcgfSxcbiAgICAgICAgICB0aGlzLnByb3BzLm5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmNoYW5nZVZhbHVlLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BzLmdldFZhbHVlKCksXG4gICAgICAgICAgdHlwZTogdGhpcy5wcm9wcy50eXBlIHx8ICd0ZXh0JyxcbiAgICAgICAgICBuYW1lOiB0aGlzLnByb3BzLm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICBjbGFzc05hbWU6ICdzaWdudXAtZm9ybV9faW5wdXQtZmllbGQnIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAncCcsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXB0aW9uIHNpZ251cC1mb3JtX19jYXB0aW9uJyB9LFxuICAgICAgICAgIHRoaXMucHJvcHMudGV4dFxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdzaWdudXAtZm9ybV9fZXJyb3ItbWVzc2FnZScgfSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2VcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmllbGQ7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5GaWVsZC5wcm9wVHlwZXMgPSB7XG4gIG5hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICB0ZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgdHlwZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHNldFZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgZ2V0VmFsdWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgdmFsaWRhdGlvbnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55LFxuICBnZXRFcnJvck1lc3NhZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcmVnaXN0cmF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfZm9ybXN5UmVhY3QuSE9DKShGaWVsZCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQXV0aC9IZWFkZXIvSGVhZGVyLmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkhlYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBIZWFkZXIgPSBleHBvcnRzLkhlYWRlciA9IGZ1bmN0aW9uIEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgeyBjbGFzc05hbWU6ICdzaWdudXAtaGVhZGVyJyB9LFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywge1xuICAgICAgY2xhc3NOYW1lOiAnZmEgJyArIHByb3BzLnBpYyArICcgZmEtM3ggc2lnbnVwLWhlYWRlcl9faWNvbicsXG4gICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnaDEnLFxuICAgICAgeyBjbGFzc05hbWU6ICdzaWdudXAtaGVhZGVyX190aXRsZScgfSxcbiAgICAgIHByb3BzLnRpdGxlLFxuICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdjYXB0aW9uIHNpZ251cC1oZWFkZXJfX2NhcHRpb24nIH0sXG4gICAgICAgIHByb3BzLnRleHRcbiAgICAgIClcbiAgICApXG4gICk7XG59O1xuXG5IZWFkZXIucHJvcFR5cGVzID0ge1xuICBwaWM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICB0aXRsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHRleHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9wYWdlcy9SZWdpc3Rlci9SZWdpc3Rlci5qc1wiOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9mb3Jtc3lSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL25vZGVfbW9kdWxlcy9mb3Jtc3ktcmVhY3QvbGliL21haW4uanNcIik7XG5cbnZhciBfZm9ybXN5UmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybXN5UmVhY3QpO1xuXG52YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvQXV0aC9IZWFkZXIvSGVhZGVyLmpzXCIpO1xuXG52YXIgX0ZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2NvbXBvbmVudHMvQXV0aC9GaWVsZC9GaWVsZC5qc1wiKTtcblxudmFyIF9GaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWVsZCk7XG5cbnZhciBfTWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9jb21wb25lbnRzL01lc3NhZ2UvTWVzc2FnZS5qc1wiKTtcblxudmFyIF9hdXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2FjdGlvbnMvYXV0aC5hY3Rpb24uanNcIik7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9pbmRleC5qc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVnaXN0ZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUmVnaXN0ZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlZ2lzdGVyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZ2lzdGVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSZWdpc3Rlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlZ2lzdGVyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjYW5TdWJtaXQ6IGZhbHNlXG4gICAgfTtcbiAgICBfdGhpcy5lbmFibGVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNhblN1Ym1pdDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5kaXNhYmxlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjYW5TdWJtaXQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLmFkZFJlZ2lzdGVyRGF0YVRvU3RvcmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnByb3BzLnJlZ2lzdHJhdGlvbih7XG4gICAgICAgIG5hbWU6IF90aGlzLnVzZXJuYW1lLmdldFZhbHVlKCksXG4gICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZC5nZXRWYWx1ZSgpLFxuICAgICAgICBwYXNzd29yZFJlcGVhdDogX3RoaXMucGFzc3dvcmRSZXBlYXQuZ2V0VmFsdWUoKSxcbiAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLmdldFZhbHVlKClcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlZ2lzdGVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnJlZ1N0YXR1cyA9PT0gJ0RPTkUnKSB7XG4gICAgICAgIHRoaXMucHJvcHMuaGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnc2lnbnVwLWNvbnRhaW5lcicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0hlYWRlci5IZWFkZXIsIHtcbiAgICAgICAgICBwaWM6ICdmYS11c2VyJyxcbiAgICAgICAgICB0aXRsZTogJ1JlZ2lzdGVyJyxcbiAgICAgICAgICB0ZXh0OiAnUGxlYXNlIGVudGVyIHlvdXIgZGF0YSB0byByZWdpc3Rlci4nIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTWVzc2FnZS5NZXNzYWdlLCB7XG4gICAgICAgICAgY2xlYXJTdGF0dXM6IHRoaXMucHJvcHMuY2xlYXJMb2dpblN0YXR1cyxcbiAgICAgICAgICBzdGF0dXM6IHRoaXMucHJvcHMucmVnU3RhdHVzLFxuICAgICAgICAgIGhlYWRlcjogJ0Vycm9yJyxcbiAgICAgICAgICB0ZXh0OiB0aGlzLnByb3BzLmVycm9yVGV4dCB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX2Zvcm1zeVJlYWN0Mi5kZWZhdWx0LkZvcm0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25TdWJtaXQ6IHRoaXMuYWRkUmVnaXN0ZXJEYXRhVG9TdG9yZSxcbiAgICAgICAgICAgIG9uVmFsaWQ6IHRoaXMuZW5hYmxlQnV0dG9uLFxuICAgICAgICAgICAgb25JbnZhbGlkOiB0aGlzLmRpc2FibGVCdXR0b24sXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdzaWdudXAtZm9ybScgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIG5hbWU6ICdVc2VybmFtZScsXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICB0ZXh0OiAnWW91ciB1bmlxdWUgdXNlcm5hbWUgdG8gYXBwJyxcbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGlucHV0KSB7XG4gICAgICAgICAgICAgIF90aGlzMi51c2VybmFtZSA9IGlucHV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgdmFsaWRhdGlvbnM6ICdpc0FscGhhJyxcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcjogJ05hbWUgbXVzdCBjb250YWluIG9ubHkgbGV0dGVycycgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBuYW1lOiAnRW1haWwnLFxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogJ1lvdXIgYWRkcmVzcyBlbWFpbCB0byBjb250YWN0JyxcbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGlucHV0KSB7XG4gICAgICAgICAgICAgIF90aGlzMi5lbWFpbCA9IGlucHV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgdmFsaWRhdGlvbnM6ICdpc0VtYWlsJyxcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcjogJ1RoaXMgaXMgbm90IGEgdmFsaWQgZW1haWwnIH0pLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9GaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgbmFtZTogJ1Bhc3N3b3JkJyxcbiAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgICAgICAgICB0ZXh0OiAnWW91ciBoYXJkIHRvIGd1ZXNzIHBhc3N3b3JkJyxcbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGlucHV0KSB7XG4gICAgICAgICAgICAgIF90aGlzMi5wYXNzd29yZCA9IGlucHV0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgdmFsaWRhdGlvbnM6IHtcbiAgICAgICAgICAgICAgbWluTGVuZ3RoOiA3LFxuICAgICAgICAgICAgICBpc0FscGhhbnVtZXJpYzogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcjogJ1Bhc3N3b3JkIGlzIG5vdCB2YWxpZCcgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZpZWxkMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICBuYW1lOiAnUmVwZWF0IFBhc3N3b3JkJyxcbiAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgICAgICAgICB0ZXh0OiAnUGxlYXNlIHJlcGVhdCB5b3VyIHBhc3dvcmQnLFxuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoaW5wdXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnBhc3N3b3JkUmVwZWF0ID0gaW5wdXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICB2YWxpZGF0aW9uczogJ2VxdWFsc0ZpZWxkOlBhc3N3b3JkJyxcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcjogJ1Bhc3N3b3JkIGRvZXMgbm90IG1hdGNoJyB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzaWdudXAtZmllbGQtZ3JvdXAgc2lnbnVwLWJ0bi1ncm91cCcgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N1Ym1pdCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdzdWJtJyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi0tc2lnbnVwIGJ0bi0tc2lnbnVwLWFjdGl2ZScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnUmVnaXN0ZXInLFxuICAgICAgICAgICAgICBkaXNhYmxlZDogIXRoaXMuc3RhdGUuY2FuU3VibWl0IH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXB0aW9uIHNpZ251cC1mb3JtX19jYXB0aW9uICcgKyAnc2lnbnVwLWZvcm1fX2NhcHRpb24tLXRleHQnIH0sXG4gICAgICAgICAgICAgICdBbHJlYWR5IGhhcyBhY2NvdW50PycsXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlckRvbS5OYXZMaW5rLFxuICAgICAgICAgICAgICAgIHsgdG86ICcvYXV0aC9sb2dpbicsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzaWdudXAtZm9ybV9fY2FwdGlvbi0tbGluaycgfSxcbiAgICAgICAgICAgICAgICAnTG9naW4nXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlZ2lzdGVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXJEYXRhOiBzdGF0ZS5hdXRoZW50aWNhdGlvbi51c2VyLFxuICAgIHJlZ1N0YXR1czogc3RhdGUuYXV0aGVudGljYXRpb24uc3RhdHVzLFxuICAgIGVycm9yVGV4dDogc3RhdGUuYXV0aGVudGljYXRpb24uZXJyb3JUZXh0XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgcmVnaXN0cmF0aW9uOiBmdW5jdGlvbiByZWdpc3RyYXRpb24odXNlckRhdGEpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2F1dGgucmVnaXN0cmF0aW9uKSh1c2VyRGF0YSkpO1xuICAgIH0sXG4gICAgY2xlYXJMb2dpblN0YXR1czogZnVuY3Rpb24gY2xlYXJMb2dpblN0YXR1cygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2F1dGguY2xlYXJMb2dpblN0YXR1cykoKSk7XG4gICAgfVxuICB9O1xufTtcblxuUmVnaXN0ZXIucHJvcFR5cGVzID0ge1xuICByZXNldFZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICByZWdpc3RyYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcmVnU3RhdHVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgZXJyb3JUZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgY2xlYXJMb2dpblN0YXR1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKFJlZ2lzdGVyKTtcblxuLyoqKi8gfSlcblxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIDcuaW5kZXhfYnVuZGxlLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBmYWN0b3J5ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XG5cbmlmICh0eXBlb2YgUmVhY3QgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IEVycm9yKFxuICAgICdjcmVhdGUtcmVhY3QtY2xhc3MgY291bGQgbm90IGZpbmQgdGhlIFJlYWN0IG9iamVjdC4gSWYgeW91IGFyZSB1c2luZyBzY3JpcHQgdGFncywgJyArXG4gICAgICAnbWFrZSBzdXJlIHRoYXQgUmVhY3QgaXMgYmVpbmcgbG9hZGVkIGJlZm9yZSBjcmVhdGUtcmVhY3QtY2xhc3MuJ1xuICApO1xufVxuXG4vLyBIYWNrIHRvIGdyYWIgTm9vcFVwZGF0ZVF1ZXVlIGZyb20gaXNvbW9ycGhpYyBSZWFjdFxudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gbmV3IFJlYWN0LkNvbXBvbmVudCgpLnVwZGF0ZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgUmVhY3QuQ29tcG9uZW50LFxuICBSZWFjdC5pc1ZhbGlkRWxlbWVudCxcbiAgUmVhY3ROb29wVXBkYXRlUXVldWVcbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2NyZWF0ZS1yZWFjdC1jbGFzcy9pbmRleC5qcyIsImZ1bmN0aW9uIHRvT2JqKHNvdXJjZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKG91dHB1dCwga2V5KSB7XG4gICAgdmFyIHBhcmVudEtleSA9IGtleS5tYXRjaCgvW15cXFtdKi9pKTtcbiAgICB2YXIgcGF0aHMgPSBrZXkubWF0Y2goL1xcWy4qP1xcXS9nKSB8fCBbXTtcbiAgICBwYXRocyA9IFtwYXJlbnRLZXlbMF1dLmNvbmNhdChwYXRocykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBrZXkucmVwbGFjZSgvXFxbfFxcXS9nLCAnJyk7XG4gICAgfSk7XG4gICAgdmFyIGN1cnJlbnRQYXRoID0gb3V0cHV0O1xuICAgIHdoaWxlIChwYXRocy5sZW5ndGgpIHtcbiAgICAgIHZhciBwYXRoS2V5ID0gcGF0aHMuc2hpZnQoKTtcblxuICAgICAgaWYgKHBhdGhLZXkgaW4gY3VycmVudFBhdGgpIHtcbiAgICAgICAgY3VycmVudFBhdGggPSBjdXJyZW50UGF0aFtwYXRoS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRQYXRoW3BhdGhLZXldID0gcGF0aHMubGVuZ3RoID8gaXNOYU4ocGF0aHNbMF0pID8ge30gOiBbXSA6IHNvdXJjZVtrZXldO1xuICAgICAgICBjdXJyZW50UGF0aCA9IGN1cnJlbnRQYXRoW3BhdGhLZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gZnJvbU9iaihvYmopIHtcbiAgZnVuY3Rpb24gcmVjdXIobmV3T2JqLCBwcm9wTmFtZSwgY3VyclZhbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJWYWwpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdXJyVmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIE9iamVjdC5rZXlzKGN1cnJWYWwpLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICByZWN1cihuZXdPYmosIHByb3BOYW1lICsgXCJbXCIgKyB2ICsgXCJdXCIsIGN1cnJWYWxbdl0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3T2JqO1xuICAgIH1cblxuICAgIG5ld09ialtwcm9wTmFtZV0gPSBjdXJyVmFsO1xuICAgIHJldHVybiBuZXdPYmo7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbihuZXdPYmosIHByb3BOYW1lKSB7XG4gICAgcmV0dXJuIHJlY3VyKG5ld09iaiwgcHJvcE5hbWUsIG9ialtwcm9wTmFtZV0pO1xuICB9LCB7fSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmcm9tT2JqOiBmcm9tT2JqLFxuICB0b09iajogdG9PYmpcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2Zvcm0tZGF0YS10by1vYmplY3QvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbnZhciBNaXhpbiA9IHJlcXVpcmUoJy4vTWl4aW4uanMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdENsYXNzKHtcbiAgICAgIG1peGluczogW01peGluXSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgICBzZXRWYWxpZGF0aW9uczogdGhpcy5zZXRWYWxpZGF0aW9ucyxcbiAgICAgICAgICBzZXRWYWx1ZTogdGhpcy5zZXRWYWx1ZSxcbiAgICAgICAgICByZXNldFZhbHVlOiB0aGlzLnJlc2V0VmFsdWUsXG4gICAgICAgICAgZ2V0VmFsdWU6IHRoaXMuZ2V0VmFsdWUsXG4gICAgICAgICAgaGFzVmFsdWU6IHRoaXMuaGFzVmFsdWUsXG4gICAgICAgICAgZ2V0RXJyb3JNZXNzYWdlOiB0aGlzLmdldEVycm9yTWVzc2FnZSxcbiAgICAgICAgICBnZXRFcnJvck1lc3NhZ2VzOiB0aGlzLmdldEVycm9yTWVzc2FnZXMsXG4gICAgICAgICAgaXNGb3JtRGlzYWJsZWQ6IHRoaXMuaXNGb3JtRGlzYWJsZWQsXG4gICAgICAgICAgaXNWYWxpZDogdGhpcy5pc1ZhbGlkLFxuICAgICAgICAgIGlzUHJpc3RpbmU6IHRoaXMuaXNQcmlzdGluZSxcbiAgICAgICAgICBpc0Zvcm1TdWJtaXR0ZWQ6IHRoaXMuaXNGb3JtU3VibWl0dGVkLFxuICAgICAgICAgIGlzUmVxdWlyZWQ6IHRoaXMuaXNSZXF1aXJlZCxcbiAgICAgICAgICBzaG93UmVxdWlyZWQ6IHRoaXMuc2hvd1JlcXVpcmVkLFxuICAgICAgICAgIHNob3dFcnJvcjogdGhpcy5zaG93RXJyb3IsXG4gICAgICAgICAgaXNWYWxpZFZhbHVlOiB0aGlzLmlzVmFsaWRWYWx1ZVxuICAgICAgICB9LCB0aGlzLnByb3BzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZm9ybXN5LXJlYWN0L2xpYi9EZWNvcmF0b3IuanMiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbnZhciBNaXhpbiA9IHJlcXVpcmUoJy4vTWl4aW4uanMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdGb3Jtc3koJyArIGdldERpc3BsYXlOYW1lKENvbXBvbmVudCkgKyAnKScsXG4gICAgbWl4aW5zOiBbTWl4aW5dLFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgaW5uZXJSZWYgPSB0aGlzLnByb3BzLmlubmVyUmVmO1xuXG4gICAgICB2YXIgcHJvcHNGb3JFbGVtZW50ID0gX2V4dGVuZHMoe1xuICAgICAgICBzZXRWYWxpZGF0aW9uczogdGhpcy5zZXRWYWxpZGF0aW9ucyxcbiAgICAgICAgc2V0VmFsdWU6IHRoaXMuc2V0VmFsdWUsXG4gICAgICAgIHJlc2V0VmFsdWU6IHRoaXMucmVzZXRWYWx1ZSxcbiAgICAgICAgZ2V0VmFsdWU6IHRoaXMuZ2V0VmFsdWUsXG4gICAgICAgIGhhc1ZhbHVlOiB0aGlzLmhhc1ZhbHVlLFxuICAgICAgICBnZXRFcnJvck1lc3NhZ2U6IHRoaXMuZ2V0RXJyb3JNZXNzYWdlLFxuICAgICAgICBnZXRFcnJvck1lc3NhZ2VzOiB0aGlzLmdldEVycm9yTWVzc2FnZXMsXG4gICAgICAgIGlzRm9ybURpc2FibGVkOiB0aGlzLmlzRm9ybURpc2FibGVkLFxuICAgICAgICBpc1ZhbGlkOiB0aGlzLmlzVmFsaWQsXG4gICAgICAgIGlzUHJpc3RpbmU6IHRoaXMuaXNQcmlzdGluZSxcbiAgICAgICAgaXNGb3JtU3VibWl0dGVkOiB0aGlzLmlzRm9ybVN1Ym1pdHRlZCxcbiAgICAgICAgaXNSZXF1aXJlZDogdGhpcy5pc1JlcXVpcmVkLFxuICAgICAgICBzaG93UmVxdWlyZWQ6IHRoaXMuc2hvd1JlcXVpcmVkLFxuICAgICAgICBzaG93RXJyb3I6IHRoaXMuc2hvd0Vycm9yLFxuICAgICAgICBpc1ZhbGlkVmFsdWU6IHRoaXMuaXNWYWxpZFZhbHVlXG4gICAgICB9LCB0aGlzLnByb3BzKTtcblxuICAgICAgaWYgKGlubmVyUmVmKSB7XG4gICAgICAgIHByb3BzRm9yRWxlbWVudC5yZWYgPSBpbm5lclJlZjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgcHJvcHNGb3JFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSB7XG4gIHJldHVybiBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgKHR5cGVvZiBDb21wb25lbnQgPT09ICdzdHJpbmcnID8gQ29tcG9uZW50IDogJ0NvbXBvbmVudCcpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZm9ybXN5LXJlYWN0L2xpYi9IT0MuanMiLCIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmpzJyk7XG52YXIgUmVhY3QgPSBnbG9iYWwuUmVhY3QgfHwgcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIGNvbnZlcnRWYWxpZGF0aW9uc1RvT2JqZWN0ID0gZnVuY3Rpb24gY29udmVydFZhbGlkYXRpb25zVG9PYmplY3QodmFsaWRhdGlvbnMpIHtcblxuICBpZiAodHlwZW9mIHZhbGlkYXRpb25zID09PSAnc3RyaW5nJykge1xuXG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLnNwbGl0KC9cXCwoPyFbXntcXFtdKlt9XFxdXSkvZykucmVkdWNlKGZ1bmN0aW9uICh2YWxpZGF0aW9ucywgdmFsaWRhdGlvbikge1xuICAgICAgdmFyIGFyZ3MgPSB2YWxpZGF0aW9uLnNwbGl0KCc6Jyk7XG4gICAgICB2YXIgdmFsaWRhdGVNZXRob2QgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgICAgIGFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYXJnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBhcmc7IC8vIEl0IGlzIGEgc3RyaW5nIGlmIGl0IGNhbiBub3QgcGFyc2UgaXRcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3Jtc3kgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSBhcmdzIG9uIHN0cmluZyB2YWxpZGF0aW9ucy4gVXNlIG9iamVjdCBmb3JtYXQgb2YgdmFsaWRhdGlvbnMgaW5zdGVhZC4nKTtcbiAgICAgIH1cblxuICAgICAgdmFsaWRhdGlvbnNbdmFsaWRhdGVNZXRob2RdID0gYXJncy5sZW5ndGggPyBhcmdzWzBdIDogdHJ1ZTtcbiAgICAgIHJldHVybiB2YWxpZGF0aW9ucztcbiAgICB9LCB7fSk7XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGlvbnMgfHwge307XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF92YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgIF9pc1JlcXVpcmVkOiBmYWxzZSxcbiAgICAgIF9pc1ZhbGlkOiB0cnVlLFxuICAgICAgX2lzUHJpc3RpbmU6IHRydWUsXG4gICAgICBfcHJpc3RpbmVWYWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgIF92YWxpZGF0aW9uRXJyb3I6IFtdLFxuICAgICAgX2V4dGVybmFsRXJyb3I6IG51bGwsXG4gICAgICBfZm9ybVN1Ym1pdHRlZDogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb250ZXh0VHlwZXM6IHtcbiAgICBmb3Jtc3k6IFByb3BUeXBlcy5vYmplY3QgLy8gV2hhdCBhYm91dCByZXF1aXJlZD9cbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogJycsXG4gICAgICB2YWxpZGF0aW9uRXJyb3JzOiB7fVxuICAgIH07XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdmFyIGNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc2V0VmFsaWRhdGlvbnModGhpcy5wcm9wcy52YWxpZGF0aW9ucywgdGhpcy5wcm9wcy5yZXF1aXJlZCk7XG5cbiAgICAgIC8vIFBhc3MgYSBmdW5jdGlvbiBpbnN0ZWFkP1xuICAgICAgdGhpcy5jb250ZXh0LmZvcm1zeS5hdHRhY2hUb0Zvcm0odGhpcyk7XG4gICAgICAvL3RoaXMucHJvcHMuX2F0dGFjaFRvRm9ybSh0aGlzKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBpZiAoIXRoaXMucHJvcHMubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtIElucHV0IHJlcXVpcmVzIGEgbmFtZSBwcm9wZXJ0eSB3aGVuIHVzZWQnKTtcbiAgICB9XG5cbiAgICAvKlxuICAgIGlmICghdGhpcy5wcm9wcy5fYXR0YWNoVG9Gb3JtKSB7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vdW50ZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuX2F0dGFjaFRvRm9ybSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybSBNaXhpbiByZXF1aXJlcyBjb21wb25lbnQgdG8gYmUgbmVzdGVkIGluIGEgRm9ybScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZ3VyZSgpO1xuICAgICAgfS5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gICAgKi9cbiAgICBjb25maWd1cmUoKTtcbiAgfSxcblxuICAvLyBXZSBoYXZlIHRvIG1ha2UgdGhlIHZhbGlkYXRlIG1ldGhvZCBpcyBrZXB0IHdoZW4gbmV3IHByb3BzIGFyZSBhZGRlZFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0VmFsaWRhdGlvbnMobmV4dFByb3BzLnZhbGlkYXRpb25zLCBuZXh0UHJvcHMucmVxdWlyZWQpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuXG4gICAgLy8gSWYgdGhlIHZhbHVlIHBhc3NlZCBoYXMgY2hhbmdlZCwgc2V0IGl0LiBJZiB2YWx1ZSBpcyBub3QgcGFzc2VkIGl0IHdpbGxcbiAgICAvLyBpbnRlcm5hbGx5IHVwZGF0ZSwgYW5kIHRoaXMgd2lsbCBuZXZlciBydW5cbiAgICBpZiAoIXV0aWxzLmlzU2FtZSh0aGlzLnByb3BzLnZhbHVlLCBwcmV2UHJvcHMudmFsdWUpKSB7XG4gICAgICB0aGlzLnNldFZhbHVlKHRoaXMucHJvcHMudmFsdWUpO1xuICAgIH1cblxuICAgIC8vIElmIHZhbGlkYXRpb25zIG9yIHJlcXVpcmVkIGlzIGNoYW5nZWQsIHJ1biBhIG5ldyB2YWxpZGF0aW9uXG4gICAgaWYgKCF1dGlscy5pc1NhbWUodGhpcy5wcm9wcy52YWxpZGF0aW9ucywgcHJldlByb3BzLnZhbGlkYXRpb25zKSB8fCAhdXRpbHMuaXNTYW1lKHRoaXMucHJvcHMucmVxdWlyZWQsIHByZXZQcm9wcy5yZXF1aXJlZCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC5mb3Jtc3kudmFsaWRhdGUodGhpcyk7XG4gICAgfVxuICB9LFxuXG4gIC8vIERldGFjaCBpdCB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jb250ZXh0LmZvcm1zeS5kZXRhY2hGcm9tRm9ybSh0aGlzKTtcbiAgICAvL3RoaXMucHJvcHMuX2RldGFjaEZyb21Gb3JtKHRoaXMpO1xuICB9LFxuXG4gIHNldFZhbGlkYXRpb25zOiBmdW5jdGlvbiBzZXRWYWxpZGF0aW9ucyh2YWxpZGF0aW9ucywgcmVxdWlyZWQpIHtcblxuICAgIC8vIEFkZCB2YWxpZGF0aW9ucyB0byB0aGUgc3RvcmUgaXRzZWxmIGFzIHRoZSBwcm9wcyBvYmplY3QgY2FuIG5vdCBiZSBtb2RpZmllZFxuICAgIHRoaXMuX3ZhbGlkYXRpb25zID0gY29udmVydFZhbGlkYXRpb25zVG9PYmplY3QodmFsaWRhdGlvbnMpIHx8IHt9O1xuICAgIHRoaXMuX3JlcXVpcmVkVmFsaWRhdGlvbnMgPSByZXF1aXJlZCA9PT0gdHJ1ZSA/IHsgaXNEZWZhdWx0UmVxdWlyZWRWYWx1ZTogdHJ1ZSB9IDogY29udmVydFZhbGlkYXRpb25zVG9PYmplY3QocmVxdWlyZWQpO1xuICB9LFxuXG4gIC8vIFdlIHZhbGlkYXRlIGFmdGVyIHRoZSB2YWx1ZSBoYXMgYmVlbiBzZXRcbiAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBfdmFsdWU6IHZhbHVlLFxuICAgICAgX2lzUHJpc3RpbmU6IGZhbHNlXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb250ZXh0LmZvcm1zeS52YWxpZGF0ZSh0aGlzKTtcbiAgICAgIC8vdGhpcy5wcm9wcy5fdmFsaWRhdGUodGhpcyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcbiAgcmVzZXRWYWx1ZTogZnVuY3Rpb24gcmVzZXRWYWx1ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIF92YWx1ZTogdGhpcy5zdGF0ZS5fcHJpc3RpbmVWYWx1ZSxcbiAgICAgIF9pc1ByaXN0aW5lOiB0cnVlXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb250ZXh0LmZvcm1zeS52YWxpZGF0ZSh0aGlzKTtcbiAgICAgIC8vdGhpcy5wcm9wcy5fdmFsaWRhdGUodGhpcyk7XG4gICAgfSk7XG4gIH0sXG4gIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fdmFsdWU7XG4gIH0sXG4gIGhhc1ZhbHVlOiBmdW5jdGlvbiBoYXNWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fdmFsdWUgIT09ICcnO1xuICB9LFxuICBnZXRFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSgpIHtcbiAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLmdldEVycm9yTWVzc2FnZXMoKTtcbiAgICByZXR1cm4gbWVzc2FnZXMubGVuZ3RoID8gbWVzc2FnZXNbMF0gOiBudWxsO1xuICB9LFxuICBnZXRFcnJvck1lc3NhZ2VzOiBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2VzKCkge1xuICAgIHJldHVybiAhdGhpcy5pc1ZhbGlkKCkgfHwgdGhpcy5zaG93UmVxdWlyZWQoKSA/IHRoaXMuc3RhdGUuX2V4dGVybmFsRXJyb3IgfHwgdGhpcy5zdGF0ZS5fdmFsaWRhdGlvbkVycm9yIHx8IFtdIDogW107XG4gIH0sXG4gIGlzRm9ybURpc2FibGVkOiBmdW5jdGlvbiBpc0Zvcm1EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LmZvcm1zeS5pc0Zvcm1EaXNhYmxlZCgpO1xuICAgIC8vcmV0dXJuIHRoaXMucHJvcHMuX2lzRm9ybURpc2FibGVkKCk7XG4gIH0sXG4gIGlzVmFsaWQ6IGZ1bmN0aW9uIGlzVmFsaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX2lzVmFsaWQ7XG4gIH0sXG4gIGlzUHJpc3RpbmU6IGZ1bmN0aW9uIGlzUHJpc3RpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX2lzUHJpc3RpbmU7XG4gIH0sXG4gIGlzRm9ybVN1Ym1pdHRlZDogZnVuY3Rpb24gaXNGb3JtU3VibWl0dGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9mb3JtU3VibWl0dGVkO1xuICB9LFxuICBpc1JlcXVpcmVkOiBmdW5jdGlvbiBpc1JlcXVpcmVkKCkge1xuICAgIHJldHVybiAhIXRoaXMucHJvcHMucmVxdWlyZWQ7XG4gIH0sXG4gIHNob3dSZXF1aXJlZDogZnVuY3Rpb24gc2hvd1JlcXVpcmVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9pc1JlcXVpcmVkO1xuICB9LFxuICBzaG93RXJyb3I6IGZ1bmN0aW9uIHNob3dFcnJvcigpIHtcbiAgICByZXR1cm4gIXRoaXMuc2hvd1JlcXVpcmVkKCkgJiYgIXRoaXMuaXNWYWxpZCgpO1xuICB9LFxuICBpc1ZhbGlkVmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQuZm9ybXN5LmlzVmFsaWRWYWx1ZS5jYWxsKG51bGwsIHRoaXMsIHZhbHVlKTtcbiAgICAvL3JldHVybiB0aGlzLnByb3BzLl9pc1ZhbGlkVmFsdWUuY2FsbChudWxsLCB0aGlzLCB2YWx1ZSk7XG4gIH1cbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9mb3Jtc3ktcmVhY3QvbGliL01peGluLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcbnZhciBSZWFjdCA9IGdsb2JhbC5SZWFjdCB8fCByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbnZhciBGb3Jtc3kgPSB7fTtcbnZhciB2YWxpZGF0aW9uUnVsZXMgPSByZXF1aXJlKCcuL3ZhbGlkYXRpb25SdWxlcy5qcycpO1xudmFyIGZvcm1EYXRhVG9PYmplY3QgPSByZXF1aXJlKCdmb3JtLWRhdGEtdG8tb2JqZWN0Jyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmpzJyk7XG52YXIgTWl4aW4gPSByZXF1aXJlKCcuL01peGluLmpzJyk7XG52YXIgSE9DID0gcmVxdWlyZSgnLi9IT0MuanMnKTtcbnZhciBEZWNvcmF0b3IgPSByZXF1aXJlKCcuL0RlY29yYXRvci5qcycpO1xudmFyIG9wdGlvbnMgPSB7fTtcbnZhciBlbXB0eUFycmF5ID0gW107XG5cbkZvcm1zeS5NaXhpbiA9IE1peGluO1xuRm9ybXN5LkhPQyA9IEhPQztcbkZvcm1zeS5EZWNvcmF0b3IgPSBEZWNvcmF0b3I7XG5cbkZvcm1zeS5kZWZhdWx0cyA9IGZ1bmN0aW9uIChwYXNzZWRPcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBwYXNzZWRPcHRpb25zO1xufTtcblxuRm9ybXN5LmFkZFZhbGlkYXRpb25SdWxlID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgdmFsaWRhdGlvblJ1bGVzW25hbWVdID0gZnVuYztcbn07XG5cbkZvcm1zeS5Gb3JtID0gY3JlYXRlUmVhY3RDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnRm9ybXN5JyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxuICAgICAgY2FuQ2hhbmdlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcygpIHt9LFxuICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHt9LFxuICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkge30sXG4gICAgICBvblZhbGlkU3VibWl0OiBmdW5jdGlvbiBvblZhbGlkU3VibWl0KCkge30sXG4gICAgICBvbkludmFsaWRTdWJtaXQ6IGZ1bmN0aW9uIG9uSW52YWxpZFN1Ym1pdCgpIHt9LFxuICAgICAgb25WYWxpZDogZnVuY3Rpb24gb25WYWxpZCgpIHt9LFxuICAgICAgb25JbnZhbGlkOiBmdW5jdGlvbiBvbkludmFsaWQoKSB7fSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICAgICAgdmFsaWRhdGlvbkVycm9yczogbnVsbCxcbiAgICAgIHByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbjogZmFsc2VcbiAgICB9O1xuICB9LFxuXG4gIGNoaWxkQ29udGV4dFR5cGVzOiB7XG4gICAgZm9ybXN5OiBQcm9wVHlwZXMub2JqZWN0XG4gIH0sXG4gIGdldENoaWxkQ29udGV4dDogZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9ybXN5OiB7XG4gICAgICAgIGF0dGFjaFRvRm9ybTogdGhpcy5hdHRhY2hUb0Zvcm0sXG4gICAgICAgIGRldGFjaEZyb21Gb3JtOiB0aGlzLmRldGFjaEZyb21Gb3JtLFxuICAgICAgICB2YWxpZGF0ZTogdGhpcy52YWxpZGF0ZSxcbiAgICAgICAgaXNGb3JtRGlzYWJsZWQ6IHRoaXMuaXNGb3JtRGlzYWJsZWQsXG4gICAgICAgIGlzVmFsaWRWYWx1ZTogZnVuY3Rpb24gaXNWYWxpZFZhbHVlKGNvbXBvbmVudCwgdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucnVuVmFsaWRhdGlvbihjb21wb25lbnQsIHZhbHVlKS5pc1ZhbGlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSxcblxuICAvLyBBZGQgYSBtYXAgdG8gc3RvcmUgdGhlIGlucHV0cyBvZiB0aGUgZm9ybSwgYSBtb2RlbCB0byBzdG9yZVxuICAvLyB0aGUgdmFsdWVzIG9mIHRoZSBmb3JtIGFuZCByZWdpc3RlciBjaGlsZCBpbnB1dHNcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5pbnB1dHMgPSBbXTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gaW5wdXQgbmFtZXMgYmVmb3JlIGZvcm0gdXBkYXRlcyxcbiAgICAvLyB0byBjaGVjayBpZiBpbnB1dHMgaGFzIGNoYW5nZWQgYWZ0ZXIgcmVuZGVyXG4gICAgdGhpcy5wcmV2SW5wdXROYW1lcyA9IHRoaXMuaW5wdXRzLm1hcChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50LnByb3BzLm5hbWU7XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cbiAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzICYmIF90eXBlb2YodGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzKSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXModGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnNldElucHV0VmFsaWRhdGlvbkVycm9ycyh0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvcnMpO1xuICAgIH1cblxuICAgIHZhciBuZXdJbnB1dE5hbWVzID0gdGhpcy5pbnB1dHMubWFwKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnQucHJvcHMubmFtZTtcbiAgICB9KTtcbiAgICBpZiAodXRpbHMuYXJyYXlzRGlmZmVyKHRoaXMucHJldklucHV0TmFtZXMsIG5ld0lucHV0TmFtZXMpKSB7XG4gICAgICB0aGlzLnZhbGlkYXRlRm9ybSgpO1xuICAgIH1cbiAgfSxcblxuICAvLyBBbGxvdyByZXNldHRpbmcgdG8gc3BlY2lmaWVkIGRhdGFcbiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGRhdGEpIHtcbiAgICB0aGlzLnNldEZvcm1QcmlzdGluZSh0cnVlKTtcbiAgICB0aGlzLnJlc2V0TW9kZWwoZGF0YSk7XG4gIH0sXG5cbiAgLy8gVXBkYXRlIG1vZGVsLCBzdWJtaXQgdG8gdXJsIHByb3AgYW5kIHNlbmQgdGhlIG1vZGVsXG4gIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KGV2ZW50KSB7XG5cbiAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gVHJpZ2dlciBmb3JtIGFzIG5vdCBwcmlzdGluZS5cbiAgICAvLyBJZiBhbnkgaW5wdXRzIGhhdmUgbm90IGJlZW4gdG91Y2hlZCB5ZXQgdGhpcyB3aWxsIG1ha2UgdGhlbSBkaXJ0eVxuICAgIC8vIHNvIHZhbGlkYXRpb24gYmVjb21lcyB2aXNpYmxlIChpZiBiYXNlZCBvbiBpc1ByaXN0aW5lKVxuICAgIHRoaXMuc2V0Rm9ybVByaXN0aW5lKGZhbHNlKTtcbiAgICB2YXIgbW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgdGhpcy5wcm9wcy5vblN1Ym1pdChtb2RlbCwgdGhpcy5yZXNldE1vZGVsLCB0aGlzLnVwZGF0ZUlucHV0c1dpdGhFcnJvcik7XG4gICAgdGhpcy5zdGF0ZS5pc1ZhbGlkID8gdGhpcy5wcm9wcy5vblZhbGlkU3VibWl0KG1vZGVsLCB0aGlzLnJlc2V0TW9kZWwsIHRoaXMudXBkYXRlSW5wdXRzV2l0aEVycm9yKSA6IHRoaXMucHJvcHMub25JbnZhbGlkU3VibWl0KG1vZGVsLCB0aGlzLnJlc2V0TW9kZWwsIHRoaXMudXBkYXRlSW5wdXRzV2l0aEVycm9yKTtcbiAgfSxcblxuICBtYXBNb2RlbDogZnVuY3Rpb24gbWFwTW9kZWwobW9kZWwpIHtcblxuICAgIGlmICh0aGlzLnByb3BzLm1hcHBpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1hcHBpbmcobW9kZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybURhdGFUb09iamVjdC50b09iaihPYmplY3Qua2V5cyhtb2RlbCkucmVkdWNlKGZ1bmN0aW9uIChtYXBwZWRNb2RlbCwga2V5KSB7XG5cbiAgICAgICAgdmFyIGtleUFycmF5ID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBiYXNlID0gbWFwcGVkTW9kZWw7XG4gICAgICAgIHdoaWxlIChrZXlBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleUFycmF5LnNoaWZ0KCk7XG4gICAgICAgICAgYmFzZSA9IGJhc2VbY3VycmVudEtleV0gPSBrZXlBcnJheS5sZW5ndGggPyBiYXNlW2N1cnJlbnRLZXldIHx8IHt9IDogbW9kZWxba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBwZWRNb2RlbDtcbiAgICAgIH0sIHt9KSk7XG4gICAgfVxuICB9LFxuXG4gIGdldE1vZGVsOiBmdW5jdGlvbiBnZXRNb2RlbCgpIHtcbiAgICB2YXIgY3VycmVudFZhbHVlcyA9IHRoaXMuZ2V0Q3VycmVudFZhbHVlcygpO1xuICAgIHJldHVybiB0aGlzLm1hcE1vZGVsKGN1cnJlbnRWYWx1ZXMpO1xuICB9LFxuXG4gIC8vIFJlc2V0IGVhY2gga2V5IGluIHRoZSBtb2RlbCB0byB0aGUgb3JpZ2luYWwgLyBpbml0aWFsIC8gc3BlY2lmaWVkIHZhbHVlXG4gIHJlc2V0TW9kZWw6IGZ1bmN0aW9uIHJlc2V0TW9kZWwoZGF0YSkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQucHJvcHMubmFtZTtcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY29tcG9uZW50LnNldFZhbHVlKGRhdGFbbmFtZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcG9uZW50LnJlc2V0VmFsdWUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnZhbGlkYXRlRm9ybSgpO1xuICB9LFxuXG4gIHNldElucHV0VmFsaWRhdGlvbkVycm9yczogZnVuY3Rpb24gc2V0SW5wdXRWYWxpZGF0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQucHJvcHMubmFtZTtcbiAgICAgIHZhciBhcmdzID0gW3tcbiAgICAgICAgX2lzVmFsaWQ6ICEobmFtZSBpbiBlcnJvcnMpLFxuICAgICAgICBfdmFsaWRhdGlvbkVycm9yOiB0eXBlb2YgZXJyb3JzW25hbWVdID09PSAnc3RyaW5nJyA/IFtlcnJvcnNbbmFtZV1dIDogZXJyb3JzW25hbWVdXG4gICAgICB9XTtcbiAgICAgIGNvbXBvbmVudC5zZXRTdGF0ZS5hcHBseShjb21wb25lbnQsIGFyZ3MpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8vIENoZWNrcyBpZiB0aGUgdmFsdWVzIGhhdmUgY2hhbmdlZCBmcm9tIHRoZWlyIGluaXRpYWwgdmFsdWVcbiAgaXNDaGFuZ2VkOiBmdW5jdGlvbiBpc0NoYW5nZWQoKSB7XG4gICAgcmV0dXJuICF1dGlscy5pc1NhbWUodGhpcy5nZXRQcmlzdGluZVZhbHVlcygpLCB0aGlzLmdldEN1cnJlbnRWYWx1ZXMoKSk7XG4gIH0sXG5cbiAgZ2V0UHJpc3RpbmVWYWx1ZXM6IGZ1bmN0aW9uIGdldFByaXN0aW5lVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0cy5yZWR1Y2UoZnVuY3Rpb24gKGRhdGEsIGNvbXBvbmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQucHJvcHMubmFtZTtcbiAgICAgIGRhdGFbbmFtZV0gPSBjb21wb25lbnQucHJvcHMudmFsdWU7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LCB7fSk7XG4gIH0sXG5cbiAgLy8gR28gdGhyb3VnaCBlcnJvcnMgZnJvbSBzZXJ2ZXIgYW5kIGdyYWIgdGhlIGNvbXBvbmVudHNcbiAgLy8gc3RvcmVkIGluIHRoZSBpbnB1dHMgbWFwLiBDaGFuZ2UgdGhlaXIgc3RhdGUgdG8gaW52YWxpZFxuICAvLyBhbmQgc2V0IHRoZSBzZXJ2ZXJFcnJvciBtZXNzYWdlXG4gIHVwZGF0ZUlucHV0c1dpdGhFcnJvcjogZnVuY3Rpb24gdXBkYXRlSW5wdXRzV2l0aEVycm9yKGVycm9ycykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmtleXMoZXJyb3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuICAgICAgdmFyIGNvbXBvbmVudCA9IHV0aWxzLmZpbmQoX3RoaXMyLmlucHV0cywgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50LnByb3BzLm5hbWUgPT09IG5hbWU7XG4gICAgICB9KTtcbiAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IGFyZSB0cnlpbmcgdG8gdXBkYXRlIGFuIGlucHV0IHRoYXQgZG9lcyBub3QgZXhpc3QuICcgKyAnVmVyaWZ5IGVycm9ycyBvYmplY3Qgd2l0aCBpbnB1dCBuYW1lcy4gJyArIEpTT04uc3RyaW5naWZ5KGVycm9ycykpO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBbe1xuICAgICAgICBfaXNWYWxpZDogX3RoaXMyLnByb3BzLnByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbiB8fCBmYWxzZSxcbiAgICAgICAgX2V4dGVybmFsRXJyb3I6IHR5cGVvZiBlcnJvcnNbbmFtZV0gPT09ICdzdHJpbmcnID8gW2Vycm9yc1tuYW1lXV0gOiBlcnJvcnNbbmFtZV1cbiAgICAgIH1dO1xuICAgICAgY29tcG9uZW50LnNldFN0YXRlLmFwcGx5KGNvbXBvbmVudCwgYXJncyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgaXNGb3JtRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzRm9ybURpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVkO1xuICB9LFxuXG4gIGdldEN1cnJlbnRWYWx1ZXM6IGZ1bmN0aW9uIGdldEN1cnJlbnRWYWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzLnJlZHVjZShmdW5jdGlvbiAoZGF0YSwgY29tcG9uZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudC5wcm9wcy5uYW1lO1xuICAgICAgZGF0YVtuYW1lXSA9IGNvbXBvbmVudC5zdGF0ZS5fdmFsdWU7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LCB7fSk7XG4gIH0sXG5cbiAgc2V0Rm9ybVByaXN0aW5lOiBmdW5jdGlvbiBzZXRGb3JtUHJpc3RpbmUoaXNQcmlzdGluZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgX2Zvcm1TdWJtaXR0ZWQ6ICFpc1ByaXN0aW5lXG4gICAgfSk7XG5cbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBjb21wb25lbnQgYW5kIHNldCBpdCBhcyBwcmlzdGluZVxuICAgIC8vIG9yIFwiZGlydHlcIi5cbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQsIGluZGV4KSB7XG4gICAgICBjb21wb25lbnQuc2V0U3RhdGUoe1xuICAgICAgICBfZm9ybVN1Ym1pdHRlZDogIWlzUHJpc3RpbmUsXG4gICAgICAgIF9pc1ByaXN0aW5lOiBpc1ByaXN0aW5lXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICAvLyBVc2UgdGhlIGJpbmRlZCB2YWx1ZXMgYW5kIHRoZSBhY3R1YWwgaW5wdXQgdmFsdWUgdG9cbiAgLy8gdmFsaWRhdGUgdGhlIGlucHV0IGFuZCBzZXQgaXRzIHN0YXRlLiBUaGVuIGNoZWNrIHRoZVxuICAvLyBzdGF0ZSBvZiB0aGUgZm9ybSBpdHNlbGZcbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNvbXBvbmVudCkge1xuXG4gICAgLy8gVHJpZ2dlciBvbkNoYW5nZVxuICAgIGlmICh0aGlzLnN0YXRlLmNhbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLmdldEN1cnJlbnRWYWx1ZXMoKSwgdGhpcy5pc0NoYW5nZWQoKSk7XG4gICAgfVxuXG4gICAgdmFyIHZhbGlkYXRpb24gPSB0aGlzLnJ1blZhbGlkYXRpb24oY29tcG9uZW50KTtcbiAgICAvLyBSdW4gdGhyb3VnaCB0aGUgdmFsaWRhdGlvbnMsIHNwbGl0IHRoZW0gdXAgYW5kIGNhbGxcbiAgICAvLyB0aGUgdmFsaWRhdG9yIElGIHRoZXJlIGlzIGEgdmFsdWUgb3IgaXQgaXMgcmVxdWlyZWRcbiAgICBjb21wb25lbnQuc2V0U3RhdGUoe1xuICAgICAgX2lzVmFsaWQ6IHZhbGlkYXRpb24uaXNWYWxpZCxcbiAgICAgIF9pc1JlcXVpcmVkOiB2YWxpZGF0aW9uLmlzUmVxdWlyZWQsXG4gICAgICBfdmFsaWRhdGlvbkVycm9yOiB2YWxpZGF0aW9uLmVycm9yLFxuICAgICAgX2V4dGVybmFsRXJyb3I6IG51bGxcbiAgICB9LCB0aGlzLnZhbGlkYXRlRm9ybSk7XG4gIH0sXG5cbiAgLy8gQ2hlY2tzIHZhbGlkYXRpb24gb24gY3VycmVudCB2YWx1ZSBvciBhIHBhc3NlZCB2YWx1ZVxuICBydW5WYWxpZGF0aW9uOiBmdW5jdGlvbiBydW5WYWxpZGF0aW9uKGNvbXBvbmVudCwgdmFsdWUpIHtcblxuICAgIHZhciBjdXJyZW50VmFsdWVzID0gdGhpcy5nZXRDdXJyZW50VmFsdWVzKCk7XG4gICAgdmFyIHZhbGlkYXRpb25FcnJvcnMgPSBjb21wb25lbnQucHJvcHMudmFsaWRhdGlvbkVycm9ycztcbiAgICB2YXIgdmFsaWRhdGlvbkVycm9yID0gY29tcG9uZW50LnByb3BzLnZhbGlkYXRpb25FcnJvcjtcbiAgICB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDIgPyB2YWx1ZSA6IGNvbXBvbmVudC5zdGF0ZS5fdmFsdWU7XG5cbiAgICB2YXIgdmFsaWRhdGlvblJlc3VsdHMgPSB0aGlzLnJ1blJ1bGVzKHZhbHVlLCBjdXJyZW50VmFsdWVzLCBjb21wb25lbnQuX3ZhbGlkYXRpb25zKTtcbiAgICB2YXIgcmVxdWlyZWRSZXN1bHRzID0gdGhpcy5ydW5SdWxlcyh2YWx1ZSwgY3VycmVudFZhbHVlcywgY29tcG9uZW50Ll9yZXF1aXJlZFZhbGlkYXRpb25zKTtcblxuICAgIC8vIHRoZSBjb21wb25lbnQgZGVmaW5lcyBhbiBleHBsaWNpdCB2YWxpZGF0ZSBmdW5jdGlvblxuICAgIGlmICh0eXBlb2YgY29tcG9uZW50LnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHRzLmZhaWxlZCA9IGNvbXBvbmVudC52YWxpZGF0ZSgpID8gW10gOiBbJ2ZhaWxlZCddO1xuICAgIH1cblxuICAgIHZhciBpc1JlcXVpcmVkID0gT2JqZWN0LmtleXMoY29tcG9uZW50Ll9yZXF1aXJlZFZhbGlkYXRpb25zKS5sZW5ndGggPyAhIXJlcXVpcmVkUmVzdWx0cy5zdWNjZXNzLmxlbmd0aCA6IGZhbHNlO1xuICAgIHZhciBpc1ZhbGlkID0gIXZhbGlkYXRpb25SZXN1bHRzLmZhaWxlZC5sZW5ndGggJiYgISh0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvcnMgJiYgdGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzW2NvbXBvbmVudC5wcm9wcy5uYW1lXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNSZXF1aXJlZDogaXNSZXF1aXJlZCxcbiAgICAgIGlzVmFsaWQ6IGlzUmVxdWlyZWQgPyBmYWxzZSA6IGlzVmFsaWQsXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmIChpc1ZhbGlkICYmICFpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsaWRhdGlvblJlc3VsdHMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0cy5lcnJvcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzICYmIHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yc1tjb21wb25lbnQucHJvcHMubmFtZV0pIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yc1tjb21wb25lbnQucHJvcHMubmFtZV0gPT09ICdzdHJpbmcnID8gW3RoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yc1tjb21wb25lbnQucHJvcHMubmFtZV1dIDogdGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3JzW2NvbXBvbmVudC5wcm9wcy5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGlvbkVycm9yc1tyZXF1aXJlZFJlc3VsdHMuc3VjY2Vzc1swXV07XG4gICAgICAgICAgcmV0dXJuIGVycm9yID8gW2Vycm9yXSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsaWRhdGlvblJlc3VsdHMuZmFpbGVkLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0cy5mYWlsZWQubWFwKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uRXJyb3JzW2ZhaWxlZF0gPyB2YWxpZGF0aW9uRXJyb3JzW2ZhaWxlZF0gOiB2YWxpZGF0aW9uRXJyb3I7XG4gICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4LCBwb3MsIGFycikge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgIHJldHVybiBhcnIuaW5kZXhPZih4KSA9PT0gcG9zO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LmNhbGwodGhpcylcbiAgICB9O1xuICB9LFxuXG4gIHJ1blJ1bGVzOiBmdW5jdGlvbiBydW5SdWxlcyh2YWx1ZSwgY3VycmVudFZhbHVlcywgdmFsaWRhdGlvbnMpIHtcblxuICAgIHZhciByZXN1bHRzID0ge1xuICAgICAgZXJyb3JzOiBbXSxcbiAgICAgIGZhaWxlZDogW10sXG4gICAgICBzdWNjZXNzOiBbXVxuICAgIH07XG4gICAgaWYgKE9iamVjdC5rZXlzKHZhbGlkYXRpb25zKS5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5rZXlzKHZhbGlkYXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWxpZGF0aW9uTWV0aG9kKSB7XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25SdWxlc1t2YWxpZGF0aW9uTWV0aG9kXSAmJiB0eXBlb2YgdmFsaWRhdGlvbnNbdmFsaWRhdGlvbk1ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1zeSBkb2VzIG5vdCBhbGxvdyB5b3UgdG8gb3ZlcnJpZGUgZGVmYXVsdCB2YWxpZGF0aW9uczogJyArIHZhbGlkYXRpb25NZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUnVsZXNbdmFsaWRhdGlvbk1ldGhvZF0gJiYgdHlwZW9mIHZhbGlkYXRpb25zW3ZhbGlkYXRpb25NZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3Jtc3kgZG9lcyBub3QgaGF2ZSB0aGUgdmFsaWRhdGlvbiBydWxlOiAnICsgdmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRpb25zW3ZhbGlkYXRpb25NZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHZhbGlkYXRpb24gPSB2YWxpZGF0aW9uc1t2YWxpZGF0aW9uTWV0aG9kXShjdXJyZW50VmFsdWVzLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaCh2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIHJlc3VsdHMuZmFpbGVkLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdmFsaWRhdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0cy5mYWlsZWQucHVzaCh2YWxpZGF0aW9uTWV0aG9kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWxpZGF0aW9uc1t2YWxpZGF0aW9uTWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB2YWxpZGF0aW9uID0gdmFsaWRhdGlvblJ1bGVzW3ZhbGlkYXRpb25NZXRob2RdKGN1cnJlbnRWYWx1ZXMsIHZhbHVlLCB2YWxpZGF0aW9uc1t2YWxpZGF0aW9uTWV0aG9kXSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaCh2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIHJlc3VsdHMuZmFpbGVkLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdmFsaWRhdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0cy5mYWlsZWQucHVzaCh2YWxpZGF0aW9uTWV0aG9kKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cy5zdWNjZXNzLnB1c2godmFsaWRhdGlvbk1ldGhvZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzLnN1Y2Nlc3MucHVzaCh2YWxpZGF0aW9uTWV0aG9kKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9LFxuXG4gIC8vIFZhbGlkYXRlIHRoZSBmb3JtIGJ5IGdvaW5nIHRocm91Z2ggYWxsIGNoaWxkIGlucHV0IGNvbXBvbmVudHNcbiAgLy8gYW5kIGNoZWNrIHRoZWlyIHN0YXRlXG4gIHZhbGlkYXRlRm9ybTogZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgLy8gV2UgbmVlZCBhIGNhbGxiYWNrIGFzIHdlIGFyZSB2YWxpZGF0aW5nIGFsbCBpbnB1dHMgYWdhaW4uIFRoaXMgd2lsbFxuICAgIC8vIHJ1biB3aGVuIHRoZSBsYXN0IGNvbXBvbmVudCBoYXMgc2V0IGl0cyBzdGF0ZVxuICAgIHZhciBvblZhbGlkYXRpb25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhbGxJc1ZhbGlkID0gdGhpcy5pbnB1dHMuZXZlcnkoZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50LnN0YXRlLl9pc1ZhbGlkO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1ZhbGlkOiBhbGxJc1ZhbGlkXG4gICAgICB9KTtcblxuICAgICAgaWYgKGFsbElzVmFsaWQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblZhbGlkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLm9uSW52YWxpZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBUZWxsIHRoZSBmb3JtIHRoYXQgaXQgY2FuIHN0YXJ0IHRvIHRyaWdnZXIgY2hhbmdlIGV2ZW50c1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNhbkNoYW5nZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgLy8gUnVuIHZhbGlkYXRpb24gYWdhaW4gaW4gY2FzZSBhZmZlY3RlZCBieSBvdGhlciBpbnB1dHMuIFRoZVxuICAgIC8vIGxhc3QgY29tcG9uZW50IHZhbGlkYXRlZCB3aWxsIHJ1biB0aGUgb25WYWxpZGF0aW9uQ29tcGxldGUgY2FsbGJhY2tcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQsIGluZGV4KSB7XG4gICAgICB2YXIgdmFsaWRhdGlvbiA9IF90aGlzMy5ydW5WYWxpZGF0aW9uKGNvbXBvbmVudCk7XG4gICAgICBpZiAodmFsaWRhdGlvbi5pc1ZhbGlkICYmIGNvbXBvbmVudC5zdGF0ZS5fZXh0ZXJuYWxFcnJvcikge1xuICAgICAgICB2YWxpZGF0aW9uLmlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbXBvbmVudC5zZXRTdGF0ZSh7XG4gICAgICAgIF9pc1ZhbGlkOiB2YWxpZGF0aW9uLmlzVmFsaWQsXG4gICAgICAgIF9pc1JlcXVpcmVkOiB2YWxpZGF0aW9uLmlzUmVxdWlyZWQsXG4gICAgICAgIF92YWxpZGF0aW9uRXJyb3I6IHZhbGlkYXRpb24uZXJyb3IsXG4gICAgICAgIF9leHRlcm5hbEVycm9yOiAhdmFsaWRhdGlvbi5pc1ZhbGlkICYmIGNvbXBvbmVudC5zdGF0ZS5fZXh0ZXJuYWxFcnJvciA/IGNvbXBvbmVudC5zdGF0ZS5fZXh0ZXJuYWxFcnJvciA6IG51bGxcbiAgICAgIH0sIGluZGV4ID09PSBfdGhpczMuaW5wdXRzLmxlbmd0aCAtIDEgPyBvblZhbGlkYXRpb25Db21wbGV0ZSA6IG51bGwpO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIGlucHV0cywgc2V0IHN0YXRlIHdoZXJlIGZvcm0gaXMgcmVhZHkgdG8gdHJpZ2dlclxuICAgIC8vIGNoYW5nZSBldmVudC4gTmV3IGlucHV0cyBtaWdodCBiZSBhZGRlZCBsYXRlclxuICAgIGlmICghdGhpcy5pbnB1dHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2FuQ2hhbmdlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTWV0aG9kIHB1dCBvbiBlYWNoIGlucHV0IGNvbXBvbmVudCB0byByZWdpc3RlclxuICAvLyBpdHNlbGYgdG8gdGhlIGZvcm1cbiAgYXR0YWNoVG9Gb3JtOiBmdW5jdGlvbiBhdHRhY2hUb0Zvcm0oY29tcG9uZW50KSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dHMuaW5kZXhPZihjb21wb25lbnQpID09PSAtMSkge1xuICAgICAgdGhpcy5pbnB1dHMucHVzaChjb21wb25lbnQpO1xuICAgIH1cblxuICAgIHRoaXMudmFsaWRhdGUoY29tcG9uZW50KTtcbiAgfSxcblxuICAvLyBNZXRob2QgcHV0IG9uIGVhY2ggaW5wdXQgY29tcG9uZW50IHRvIHVucmVnaXN0ZXJcbiAgLy8gaXRzZWxmIGZyb20gdGhlIGZvcm1cbiAgZGV0YWNoRnJvbUZvcm06IGZ1bmN0aW9uIGRldGFjaEZyb21Gb3JtKGNvbXBvbmVudCkge1xuICAgIHZhciBjb21wb25lbnRQb3MgPSB0aGlzLmlucHV0cy5pbmRleE9mKGNvbXBvbmVudCk7XG5cbiAgICBpZiAoY29tcG9uZW50UG9zICE9PSAtMSkge1xuICAgICAgdGhpcy5pbnB1dHMgPSB0aGlzLmlucHV0cy5zbGljZSgwLCBjb21wb25lbnRQb3MpLmNvbmNhdCh0aGlzLmlucHV0cy5zbGljZShjb21wb25lbnRQb3MgKyAxKSk7XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIG1hcHBpbmcgPSBfcHJvcHMubWFwcGluZyxcbiAgICAgICAgdmFsaWRhdGlvbkVycm9ycyA9IF9wcm9wcy52YWxpZGF0aW9uRXJyb3JzLFxuICAgICAgICBvblN1Ym1pdCA9IF9wcm9wcy5vblN1Ym1pdCxcbiAgICAgICAgb25WYWxpZCA9IF9wcm9wcy5vblZhbGlkLFxuICAgICAgICBvblZhbGlkU3VibWl0ID0gX3Byb3BzLm9uVmFsaWRTdWJtaXQsXG4gICAgICAgIG9uSW52YWxpZCA9IF9wcm9wcy5vbkludmFsaWQsXG4gICAgICAgIG9uSW52YWxpZFN1Ym1pdCA9IF9wcm9wcy5vbkludmFsaWRTdWJtaXQsXG4gICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlLFxuICAgICAgICByZXNldCA9IF9wcm9wcy5yZXNldCxcbiAgICAgICAgcHJldmVudEV4dGVybmFsSW52YWxpZGF0aW9uID0gX3Byb3BzLnByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbixcbiAgICAgICAgb25TdWNjZXNzID0gX3Byb3BzLm9uU3VjY2VzcyxcbiAgICAgICAgb25FcnJvciA9IF9wcm9wcy5vbkVycm9yLFxuICAgICAgICBub25Gb3Jtc3lQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnbWFwcGluZycsICd2YWxpZGF0aW9uRXJyb3JzJywgJ29uU3VibWl0JywgJ29uVmFsaWQnLCAnb25WYWxpZFN1Ym1pdCcsICdvbkludmFsaWQnLCAnb25JbnZhbGlkU3VibWl0JywgJ29uQ2hhbmdlJywgJ3Jlc2V0JywgJ3ByZXZlbnRFeHRlcm5hbEludmFsaWRhdGlvbicsICdvblN1Y2Nlc3MnLCAnb25FcnJvciddKTtcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2Zvcm0nLFxuICAgICAgX2V4dGVuZHMoe30sIG5vbkZvcm1zeVByb3BzLCB7IG9uU3VibWl0OiB0aGlzLnN1Ym1pdCB9KSxcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9XG59KTtcblxuaWYgKCFnbG9iYWwuZXhwb3J0cyAmJiAhZ2xvYmFsLm1vZHVsZSAmJiAoIWdsb2JhbC5kZWZpbmUgfHwgIWdsb2JhbC5kZWZpbmUuYW1kKSkge1xuICBnbG9iYWwuRm9ybXN5ID0gRm9ybXN5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1zeTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2Zvcm1zeS1yZWFjdC9saWIvbWFpbi5qcyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXJyYXlzRGlmZmVyOiBmdW5jdGlvbiBhcnJheXNEaWZmZXIoYSwgYikge1xuICAgIHZhciBpc0RpZmZlcmVudCA9IGZhbHNlO1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTYW1lKGl0ZW0sIGJbaW5kZXhdKSkge1xuICAgICAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBpc0RpZmZlcmVudDtcbiAgfSxcblxuICBvYmplY3RzRGlmZmVyOiBmdW5jdGlvbiBvYmplY3RzRGlmZmVyKGEsIGIpIHtcbiAgICB2YXIgaXNEaWZmZXJlbnQgPSBmYWxzZTtcbiAgICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICAgIGlzRGlmZmVyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NhbWUoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgaXNEaWZmZXJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGlmZmVyZW50O1xuICB9LFxuXG4gIGlzU2FtZTogZnVuY3Rpb24gaXNTYW1lKGEsIGIpIHtcbiAgICBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgIT09ICh0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiAhdGhpcy5hcnJheXNEaWZmZXIoYSwgYik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgPT09ICdvYmplY3QnICYmIGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICF0aGlzLm9iamVjdHNEaWZmZXIoYSwgYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG5cbiAgZmluZDogZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBmbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY29sbGVjdGlvbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gY29sbGVjdGlvbltpXTtcbiAgICAgIGlmIChmbihpdGVtKSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9mb3Jtc3ktcmVhY3QvbGliL3V0aWxzLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2lzRXhpc3R5ID0gZnVuY3Rpb24gX2lzRXhpc3R5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufTtcblxudmFyIGlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gJyc7XG59O1xuXG52YXIgdmFsaWRhdGlvbnMgPSB7XG4gIGlzRGVmYXVsdFJlcXVpcmVkVmFsdWU6IGZ1bmN0aW9uIGlzRGVmYXVsdFJlcXVpcmVkVmFsdWUodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJztcbiAgfSxcbiAgaXNFeGlzdHk6IGZ1bmN0aW9uIGlzRXhpc3R5KHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gX2lzRXhpc3R5KHZhbHVlKTtcbiAgfSxcbiAgbWF0Y2hSZWdleHA6IGZ1bmN0aW9uIG1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIHJlZ2V4cCkge1xuICAgIHJldHVybiAhX2lzRXhpc3R5KHZhbHVlKSB8fCBpc0VtcHR5KHZhbHVlKSB8fCByZWdleHAudGVzdCh2YWx1ZSk7XG4gIH0sXG4gIGlzVW5kZWZpbmVkOiBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gIH0sXG4gIGlzRW1wdHlTdHJpbmc6IGZ1bmN0aW9uIGlzRW1wdHlTdHJpbmcodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiBpc0VtcHR5KHZhbHVlKTtcbiAgfSxcbiAgaXNFbWFpbDogZnVuY3Rpb24gaXNFbWFpbCh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaSk7XG4gIH0sXG4gIGlzVXJsOiBmdW5jdGlvbiBpc1VybCh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eKGh0dHBzP3xzP2Z0cCk6XFwvXFwvKCgoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDopKkApPygoKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSl8KCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuPykoOlxcZCopPykoXFwvKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKSsoXFwvKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKikqKT8pPyhcXD8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFtcXHVFMDAwLVxcdUY4RkZdfFxcL3xcXD8pKik/KCMoKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFxcL3xcXD8pKik/JC9pKTtcbiAgfSxcbiAgaXNUcnVlOiBmdW5jdGlvbiBpc1RydWUodmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZTtcbiAgfSxcbiAgaXNGYWxzZTogZnVuY3Rpb24gaXNGYWxzZSh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfSxcbiAgaXNOdW1lcmljOiBmdW5jdGlvbiBpc051bWVyaWModmFsdWVzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eWy0rXT8oPzpcXGQqWy5dKT9cXGQrJC8pO1xuICB9LFxuICBpc0FscGhhOiBmdW5jdGlvbiBpc0FscGhhKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL15bQS1aXSskL2kpO1xuICB9LFxuICBpc0FscGhhbnVtZXJpYzogZnVuY3Rpb24gaXNBbHBoYW51bWVyaWModmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWxpZGF0aW9ucy5tYXRjaFJlZ2V4cCh2YWx1ZXMsIHZhbHVlLCAvXlswLTlBLVpdKyQvaSk7XG4gIH0sXG4gIGlzSW50OiBmdW5jdGlvbiBpc0ludCh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eKD86Wy0rXT8oPzowfFsxLTldXFxkKikpJC8pO1xuICB9LFxuICBpc0Zsb2F0OiBmdW5jdGlvbiBpc0Zsb2F0KHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL14oPzpbLStdPyg/OlxcZCspKT8oPzpcXC5cXGQqKT8oPzpbZUVdW1xcK1xcLV0/KD86XFxkKykpPyQvKTtcbiAgfSxcbiAgaXNXb3JkczogZnVuY3Rpb24gaXNXb3Jkcyh2YWx1ZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25zLm1hdGNoUmVnZXhwKHZhbHVlcywgdmFsdWUsIC9eW0EtWlxcc10rJC9pKTtcbiAgfSxcbiAgaXNTcGVjaWFsV29yZHM6IGZ1bmN0aW9uIGlzU3BlY2lhbFdvcmRzKHZhbHVlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMubWF0Y2hSZWdleHAodmFsdWVzLCB2YWx1ZSwgL15bQS1aXFxzXFx1MDBDMC1cXHUwMTdGXSskL2kpO1xuICB9LFxuICBpc0xlbmd0aDogZnVuY3Rpb24gaXNMZW5ndGgodmFsdWVzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuICFfaXNFeGlzdHkodmFsdWUpIHx8IGlzRW1wdHkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gbGVuZ3RoO1xuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyh2YWx1ZXMsIHZhbHVlLCBlcWwpIHtcbiAgICByZXR1cm4gIV9pc0V4aXN0eSh2YWx1ZSkgfHwgaXNFbXB0eSh2YWx1ZSkgfHwgdmFsdWUgPT0gZXFsO1xuICB9LFxuICBlcXVhbHNGaWVsZDogZnVuY3Rpb24gZXF1YWxzRmllbGQodmFsdWVzLCB2YWx1ZSwgZmllbGQpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gdmFsdWVzW2ZpZWxkXTtcbiAgfSxcbiAgbWF4TGVuZ3RoOiBmdW5jdGlvbiBtYXhMZW5ndGgodmFsdWVzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuICFfaXNFeGlzdHkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA8PSBsZW5ndGg7XG4gIH0sXG4gIG1pbkxlbmd0aDogZnVuY3Rpb24gbWluTGVuZ3RoKHZhbHVlcywgdmFsdWUsIGxlbmd0aCkge1xuICAgIHJldHVybiAhX2lzRXhpc3R5KHZhbHVlKSB8fCBpc0VtcHR5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPj0gbGVuZ3RoO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHZhbGlkYXRpb25zO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZm9ybXN5LXJlYWN0L2xpYi92YWxpZGF0aW9uUnVsZXMuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgRm9ybXN5LCB7IEhPQyB9IGZyb20gJ2Zvcm1zeS1yZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5jbGFzcyBGaWVsZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLmNoYW5nZVZhbHVlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMuc2V0VmFsdWUoZXZlbnQuY3VycmVudFRhcmdldFt0aGlzLnByb3BzLnR5cGUgPT09ICdjaGVja2JveCcgP1xyXG4gICAgICAgICdjaGVja2VkJyA6ICd2YWx1ZSddKTtcclxuICAgIH07XHJcbiAgfVxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLnByb3BzLmdldEVycm9yTWVzc2FnZSgpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lnbnVwLWZpZWxkLWdyb3VwXCI+XHJcbiAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICBodG1sRm9yPXsgdGhpcy5wcm9wcy5uYW1lLnRvTG93ZXJDYXNlKCkgfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2lnbnVwLWZvcm1fX2xhYmVsXCI+XHJcbiAgICAgICAgICB7IHRoaXMucHJvcHMubmFtZSB9XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmNoYW5nZVZhbHVlfVxyXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuZ2V0VmFsdWUoKX1cclxuICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZSB8fCAndGV4dCd9XHJcbiAgICAgICAgICBuYW1lPXsgdGhpcy5wcm9wcy5uYW1lLnRvTG93ZXJDYXNlKCkgfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2lnbnVwLWZvcm1fX2lucHV0LWZpZWxkXCIvPlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcHRpb24gc2lnbnVwLWZvcm1fX2NhcHRpb25cIj5cclxuICAgICAgICAgIHsgdGhpcy5wcm9wcy50ZXh0IH1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2lnbnVwLWZvcm1fX2Vycm9yLW1lc3NhZ2VcIj57ZXJyb3JNZXNzYWdlfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuRmllbGQucHJvcFR5cGVzID0ge1xyXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgdGV4dDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICBzZXRWYWx1ZTogUHJvcFR5cGVzLmFueSxcclxuICBnZXRWYWx1ZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgdmFsaWRhdGlvbnM6IFByb3BUeXBlcy5hbnksXHJcbiAgZ2V0RXJyb3JNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYyxcclxuICByZWdpc3RyYXRpb246IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIT0MoRmllbGQpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9BdXRoL0ZpZWxkL0ZpZWxkLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBIZWFkZXIgPSAocHJvcHMpID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT1cInNpZ251cC1oZWFkZXJcIj5cclxuICAgIDxpXHJcbiAgICAgIGNsYXNzTmFtZT17IGBmYSAkeyBwcm9wcy5waWMgfSBmYS0zeCBzaWdudXAtaGVhZGVyX19pY29uYCB9XHJcbiAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgPC9pPlxyXG4gICAgPGgxIGNsYXNzTmFtZT1cInNpZ251cC1oZWFkZXJfX3RpdGxlXCI+eyBwcm9wcy50aXRsZSB9XHJcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcHRpb24gc2lnbnVwLWhlYWRlcl9fY2FwdGlvblwiPlxyXG4gICAgICAgIHsgcHJvcHMudGV4dCB9XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvaDE+XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5IZWFkZXIucHJvcFR5cGVzID0ge1xyXG4gIHBpYzogUHJvcFR5cGVzLnN0cmluZyxcclxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcclxuICB0ZXh0OiBQcm9wVHlwZXMuc3RyaW5nXHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL0F1dGgvSGVhZGVyL0hlYWRlci5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBGb3Jtc3ksIHsgSE9DIH0gZnJvbSAnZm9ybXN5LXJlYWN0JztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9BdXRoL0hlYWRlci9IZWFkZXInO1xyXG5pbXBvcnQgRmllbGQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9BdXRoL0ZpZWxkL0ZpZWxkJztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTWVzc2FnZS9NZXNzYWdlJztcclxuaW1wb3J0IHtcclxuICByZWdpc3RyYXRpb24sXHJcbiAgY2xlYXJMb2dpblN0YXR1cyB9IGZyb20gJy4uLy4uL2FjdGlvbnMvYXV0aC5hY3Rpb24nO1xyXG5pbXBvcnQgeyBOYXZMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcblxyXG5jbGFzcyBSZWdpc3RlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjYW5TdWJtaXQ6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgdGhpcy5lbmFibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGNhblN1Ym1pdDogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmRpc2FibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGNhblN1Ym1pdDogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5hZGRSZWdpc3RlckRhdGFUb1N0b3JlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMucmVnaXN0cmF0aW9uKHtcclxuICAgICAgICBuYW1lOiB0aGlzLnVzZXJuYW1lLmdldFZhbHVlKCksXHJcbiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQuZ2V0VmFsdWUoKSxcclxuICAgICAgICBwYXNzd29yZFJlcGVhdDogdGhpcy5wYXNzd29yZFJlcGVhdC5nZXRWYWx1ZSgpLFxyXG4gICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLmdldFZhbHVlKClcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMucmVnU3RhdHVzID09PSAnRE9ORScpIHtcclxuICAgICAgdGhpcy5wcm9wcy5oaXN0b3J5LnB1c2goJy8nKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lnbnVwLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxIZWFkZXJcclxuICAgICAgICAgIHBpYz17J2ZhLXVzZXInfVxyXG4gICAgICAgICAgdGl0bGU9eydSZWdpc3Rlcid9XHJcbiAgICAgICAgICB0ZXh0PXsnUGxlYXNlIGVudGVyIHlvdXIgZGF0YSB0byByZWdpc3Rlci4nfSAvPlxyXG4gICAgICAgIDxNZXNzYWdlXHJcbiAgICAgICAgICBjbGVhclN0YXR1cz17dGhpcy5wcm9wcy5jbGVhckxvZ2luU3RhdHVzfVxyXG4gICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnJlZ1N0YXR1c31cclxuICAgICAgICAgIGhlYWRlcj17J0Vycm9yJ31cclxuICAgICAgICAgIHRleHQ9e3RoaXMucHJvcHMuZXJyb3JUZXh0fS8+XHJcbiAgICAgICAgPEZvcm1zeS5Gb3JtXHJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5hZGRSZWdpc3RlckRhdGFUb1N0b3JlfVxyXG4gICAgICAgICAgb25WYWxpZD17dGhpcy5lbmFibGVCdXR0b259XHJcbiAgICAgICAgICBvbkludmFsaWQ9e3RoaXMuZGlzYWJsZUJ1dHRvbn1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInNpZ251cC1mb3JtXCI+XHJcbiAgICAgICAgICA8RmllbGRcclxuICAgICAgICAgICAgbmFtZT1cIlVzZXJuYW1lXCJcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICB0ZXh0PXsnWW91ciB1bmlxdWUgdXNlcm5hbWUgdG8gYXBwJ31cclxuICAgICAgICAgICAgcmVmPXsoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gaW5wdXQ7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25zPVwiaXNBbHBoYVwiXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcj1cIk5hbWUgbXVzdCBjb250YWluIG9ubHkgbGV0dGVyc1wiLz5cclxuICAgICAgICAgIDxGaWVsZFxyXG4gICAgICAgICAgICBuYW1lPVwiRW1haWxcIlxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIHRleHQ9eydZb3VyIGFkZHJlc3MgZW1haWwgdG8gY29udGFjdCd9XHJcbiAgICAgICAgICAgIHJlZj17KGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbWFpbCA9IGlucHV0O1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9ucz1cImlzRW1haWxcIlxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9XCJUaGlzIGlzIG5vdCBhIHZhbGlkIGVtYWlsXCIvPlxyXG4gICAgICAgICAgPEZpZWxkXHJcbiAgICAgICAgICAgIG5hbWU9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgIHRleHQ9eydZb3VyIGhhcmQgdG8gZ3Vlc3MgcGFzc3dvcmQnfVxyXG4gICAgICAgICAgICByZWY9eyhpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSBpbnB1dDtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgdmFsaWRhdGlvbnM9IHt7XHJcbiAgICAgICAgICAgICAgbWluTGVuZ3RoOiA3LFxyXG4gICAgICAgICAgICAgIGlzQWxwaGFudW1lcmljOiB0cnVlXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcj17J1Bhc3N3b3JkIGlzIG5vdCB2YWxpZCd9Lz5cclxuICAgICAgICAgIDxGaWVsZFxyXG4gICAgICAgICAgICBuYW1lPVwiUmVwZWF0IFBhc3N3b3JkXCJcclxuICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgdGV4dD17J1BsZWFzZSByZXBlYXQgeW91ciBwYXN3b3JkJ31cclxuICAgICAgICAgICAgcmVmPXsoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkUmVwZWF0ID0gaW5wdXQ7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25zPVwiZXF1YWxzRmllbGQ6UGFzc3dvcmRcIlxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9XCJQYXNzd29yZCBkb2VzIG5vdCBtYXRjaFwiLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lnbnVwLWZpZWxkLWdyb3VwIHNpZ251cC1idG4tZ3JvdXBcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgbmFtZT1cInN1Ym1cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tLXNpZ251cCBidG4tLXNpZ251cC1hY3RpdmVcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPVwiUmVnaXN0ZXJcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jYW5TdWJtaXR9Lz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXsnY2FwdGlvbiBzaWdudXAtZm9ybV9fY2FwdGlvbiAnICtcclxuICAgICAgICAgICAgICAnc2lnbnVwLWZvcm1fX2NhcHRpb24tLXRleHQnfT5cclxuICAgICAgICAgICAgICBBbHJlYWR5IGhhcyBhY2NvdW50P1xyXG4gICAgICAgICAgICAgIDxOYXZMaW5rIHRvPVwiL2F1dGgvbG9naW5cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2lnbnVwLWZvcm1fX2NhcHRpb24tLWxpbmtcIj5cclxuICAgICAgICAgICAgICAgIExvZ2luXHJcbiAgICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L0Zvcm1zeS5Gb3JtPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xyXG4gIHVzZXJEYXRhOiBzdGF0ZS5hdXRoZW50aWNhdGlvbi51c2VyLFxyXG4gIHJlZ1N0YXR1czogc3RhdGUuYXV0aGVudGljYXRpb24uc3RhdHVzLFxyXG4gIGVycm9yVGV4dDogc3RhdGUuYXV0aGVudGljYXRpb24uZXJyb3JUZXh0XHJcbn0pO1xyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoKSA9PiAoe1xyXG4gIHJlZ2lzdHJhdGlvbjogKHVzZXJEYXRhKSA9PiBkaXNwYXRjaChyZWdpc3RyYXRpb24odXNlckRhdGEpKSxcclxuICBjbGVhckxvZ2luU3RhdHVzOiAoKSA9PiBkaXNwYXRjaChjbGVhckxvZ2luU3RhdHVzKCkpXHJcbn0pO1xyXG5cclxuUmVnaXN0ZXIucHJvcFR5cGVzID0ge1xyXG4gIHJlc2V0VmFsdWU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGhpc3Rvcnk6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgcmVnaXN0cmF0aW9uOiBQcm9wVHlwZXMuZnVuYyxcclxuICByZWdTdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZXJyb3JUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNsZWFyTG9naW5TdGF0dXM6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShSZWdpc3Rlcik7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9wYWdlcy9SZWdpc3Rlci9SZWdpc3Rlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=